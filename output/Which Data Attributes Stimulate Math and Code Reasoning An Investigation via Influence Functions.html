<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions</title>
<!--Generated on Mon May 26 13:09:28 2025 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2505.19949v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S1" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S2" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3.SS1" title="In 3 Methodology â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Preliminary: Influence Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3.SS2" title="In 3 Methodology â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Attributing LLM Reasoning to Training Data via Influence Functions</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.SS1" title="In 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experimental Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.SS2" title="In 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Instance-level Attribution</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.SS3" title="In 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Sequence-level Attribution</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.SS4" title="In 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Token-level Attribution</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S5" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A1" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Derivation of Influence Score</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A2" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Cross Domain Influence Analysis in Long CoT Scenarios</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A3" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Robustness on <math alttext="n" class="ltx_Math" display="inline"><semantics><mi>n</mi><annotation-xml encoding="MathML-Content"><ci>ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex">n</annotation><annotation encoding="application/x-llamapun">italic_n</annotation></semantics></math></span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A4" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Case of Truncating Exploration Behavior</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A5" title="In Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Examples for Reasoning Behaviors Classifier</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Siqi Kou,â€„
Qingyuan Tian,â€„
Hanwen Xu,â€„
Zihao Zeng,â€„
and Zhijie Deng 
<br class="ltx_break"/>Shanghai Jiao Tong University
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id1.1.id1">{happy-karry,â€„qy.tian,â€„dctnorin,â€„zengzihao,â€„zhijied}@sjtu.edu.cn
<br class="ltx_break"/></span>
</span><span class="ltx_author_notes">Corresponding author.</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id2.id1">Large language models (LLMs) have demonstrated remarkable reasoning capabilities in math and coding, often bolstered by post-training on the chain-of-thoughts (CoTs) generated by stronger models.
However, existing strategies for curating such training data predominantly rely on heuristics, limiting generalizability and failing to capture subtleties underlying in data. To address these limitations, we leverage influence functions to systematically attribute LLMsâ€™ reasoning ability on math and coding to individual training examples, sequences, and tokens, enabling deeper insights into effective data characteristics.
Our <span class="ltx_text ltx_font_bold" id="id2.id1.1">Influence-based Reasoning Attribution (Infra)</span> uncovers nontrivial cross-domain effects across math and coding tasks: high-difficulty math examples improve both math and code reasoning, while low-difficulty code tasks most effectively benefit code reasoning.
Based on these findings, we introduce a simple yet effective dataset reweighting strategy by flipping task difficulty, which doubles AIME24 accuracy from 10% to 20% and boosts LiveCodeBench accuracy from 33.8% to 35.3% for Qwen2.5-7B-Instruct.
Moreover, our fine-grained attribution reveals that the sequence-level exploratory behaviors enhance reasoning performance in both math and code, and the token-level influence patterns are distinct for math and code reasoning: the former prefers natural language logic connectors and the latter emphasizes structural syntax.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large language models (LLMs) for reasoning, with OpenAI-o1Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib15" title="">15</a>]</cite> and DeepSeek-R1Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib9" title="">9</a>]</cite> as popular examples, have shown great promise in solving complex math and coding problems.
Recently, the community has witnessed the prevalence of reproducing such reasoning capacities on open-source small- to medium-sized LLMsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib19" title="">19</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib5" title="">5</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib29" title="">29</a>]</cite>.
An initial stage of the solutions often involves post-training the model on some chain-of-thought (CoT) reasoning traces curated by leading models (e.g., R1) for diverse problemsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib34" title="">34</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib23" title="">23</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib24" title="">24</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib37" title="">37</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib25" title="">25</a>]</cite>.
As a data-centric paradigm, the core research question here is: <em class="ltx_emph ltx_font_italic" id="S1.p1.1.1">which attributes of the training data are effective in stimulating reasoning capabilities?</em></p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Pioneering studies addressing this question predominantly adopt heuristic approaches. Typically, they first establish quantitative data quality metrics based on human expertise or empirical preferences, then selectively retain high-quality data for model training to cultivate robust reasoning capabilities with minimal data inputs.
For example, s1KÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib24" title="">24</a>]</cite> filters 1k (question, answer) pairs with well-structured formatting, longer CoT length, and broader domain coverage from an initial pool of 59k data for training math reasoning LLMs.
Similarly, LIMOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib37" title="">37</a>]</cite> suggests incorporating more challenging math questions with complex reasoning chains to enable better math reasoning.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Beyond focusing exclusively on math, Sky-T1Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib25" title="">25</a>]</cite> targets competitive reasoning performance across both math and coding tasks.
It notices that the naive incorporation of code data from APPSÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib10" title="">10</a>]</cite> degrades math performance and advocates mitigating this by introducing more difficult math questions and code tasks for training.
Nevertheless, the underlying mechanism of such cross-domain influence remains underexplored.
Furthermore, these heuristic strategies suffer from unreliable generalization to other reasoning scenarios and cannot clearly explain how some fine-grained reasoning patterns in the training data (e.g., verification, backtracking, etc.) affect the learned models.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">To bridge the gap, we leverage influence functionsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib17" title="">17</a>]</cite>â€”a classical technique for tracing the impacts of individual training data on model behaviorâ€”to systematically identify which training examples, along with their internal patterns and tokens, most significantly enhance the reasoning capabilities on math and coding tasks. Following previous works on influence functions for LLMsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib8" title="">8</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib30" title="">30</a>]</cite>, we define an easy-to-implement and cost-effective influence function for reasoning-oriented supervised fine-tuning (SFT). We further extend the instance-wise influence function to more fine-grained variants at the sequence and token levels for an in-depth data attribution. We dub our approach as Infra.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">We begin by investigating cross-domain influence in basic math and code reasoning scenarios without long CoT. To this end, we fine-tune LLaMA3-8B-BaseÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib7" title="">7</a>]</cite> on a mixture of MetaMathQAÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib39" title="">39</a>]</cite> and OSS-InstructÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib33" title="">33</a>]</cite> datasets and compute the influence function on the accuracy of GSM8kÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib3" title="">3</a>]</cite> and MBPPÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib10" title="">10</a>]</cite>. We rank all training data by their influence scores and find that, <em class="ltx_emph ltx_font_italic" id="S1.p5.1.1">while in-domain data yield the highest scores as expected, cross-domain data also contribute nontrivially.</em> Furthermore, aggregating these scores by category and difficulty reveals that symbolic math examples and high-difficulty math problems are particularly effective in improving code reasoning.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="232" id="S1.F1.g1" src="x1.png" width="788"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>An illustration of our key findings towards the question: <em class="ltx_emph ltx_font_italic" id="S1.F1.4.1">Which attributes of training data effectively stimulate reasoning capabilities?</em> Mixing challenging math problems with easier coding tasks leads to the highest influence scores for mathematical and coding reasoning (<span class="ltx_text ltx_font_italic" id="S1.F1.5.2">left</span>). Guided by this insight, we curate an improved dataset and observe enhanced performance (<span class="ltx_text ltx_font_italic" id="S1.F1.6.3">right</span>).</figcaption>
</figure>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Extending Infra to complex long CoT reasoning, we fine-tune Qwen2.5-7B-InstructÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib36" title="">36</a>]</cite> on Bespoke-Stratos-17k<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/datasets/bespokelabs/Bespoke-Stratos-17k" title="">https://huggingface.co/datasets/bespokelabs/Bespoke-Stratos-17k</a></span></span></span> dataset and measure influence using AIME, MATH500Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib11" title="">11</a>]</cite>, and LiveCodeBenchÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib16" title="">16</a>]</cite> benchmarks. Consistent with earlier findings, we observe cross-domain gains, with harder math problems better helping code reasoning. Going a step further, we find that <em class="ltx_emph ltx_font_italic" id="S1.p6.1.1">both high-difficulty math and code examples are more influential on math reasoning, whereas low-difficulty code tasks contribute most significantly to code reasoning (see FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S1.F1" title="Figure 1 â€£ 1 Introduction â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">1</span></a>).</em> Motivated by these insights, we flip easy math problems as hard and hard code tasks as easy in the training data. This reweighted dataset doubles AIME accuracy and improves LiveCodeBench accuracy from 33.8% to 35.3%.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">Furthermore, we perform attribution at sequence and token levels in long CoT. Sequence-level attribution shows that <em class="ltx_emph ltx_font_italic" id="S1.p7.1.1">the exploration behavior of seeking alternative approaches after reaching correctness (refer to FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F6" title="Figure 6 â€£ 4.3 Sequence-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">6</span></a>), which is common in long CoTs, improves both math and code reasoning performance.</em> Despite being seen as overthinkingÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib32" title="">32</a>]</cite>, our studies suggest it is advantageous. Besides, we observe <em class="ltx_emph ltx_font_italic" id="S1.p7.1.2">distinct token-level influence patterns for math and code reasoning.</em> In math, the most influential tokens are natural language with logical connectors, whereas code CoTs rely more on syntax markers. This divergence explains why easier code problems with clearer structural solutions benefit code reasoning when combined with math CoT that already provides logical skills.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1"><span class="ltx_text ltx_font_bold" id="S2.p1.1.1">LLM reasoning.</span> Reasoning is a cognitive process that involves using evidence, arguments, and logic to arrive at conclusions or make judgments. It is widely regarded as a foundational element of advanced Large Language Models (LLMs) and an essential milestone on the path toward Artificial General Intelligence (AGI) Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib12" title="">12</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib28" title="">28</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib29" title="">29</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib15" title="">15</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib35" title="">35</a>]</cite>. A very recent approach to achieve reasoning capacity in LLMs is through post-training, such as OpenAI-o1Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib15" title="">15</a>]</cite>, and Deepseek-R1Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib9" title="">9</a>]</cite>, which expose the model to large-scale curated reasoning examples after the initial pretraining phase to refine its inferential abilitiesÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib18" title="">18</a>]</cite>. These reasoning datasets predominantly fall into two categories: (1) Mathematical reasoning: In earlier work, the construction of high-quality mathematical datasets primarily relied on increasing the quantity of problems and enhancing their difficulty levelsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib20" title="">20</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib40" title="">40</a>]</cite>. Nevertheless, LIMO datasetÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib37" title="">37</a>]</cite> demonstrated that complex reasoning capabilities can be elicited through surprisingly small datasets (hundreds of examples). In addition, some researchers also opted to distill high-quality reasoning data from strong LLMsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib25" title="">25</a>]</cite>, leveraging their outputs to construct more targeted and informative training sets for enhancing reasoning performance in weak LLMs. (2) Code generation: As a highly structured and formalized type of data, code has a non-negligible impact on the development of reasoning abilities in large language models. Beyond simply testing LLMs on newly coding test casesÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib16" title="">16</a>]</cite>, many efforts have focused on investigating how and when code data influences the development of reasoning abilities in language modelsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib41" title="">41</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib21" title="">21</a>]</cite>. In our work, we consider mathematical capacity and coding ability as two distinct manifestations of advanced reasoning, and we aim to analyze and understand the interactions between these capabilities to gain deeper insights into the underlying mechanisms of LLM reasoning.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1"><span class="ltx_text ltx_font_bold" id="S2.p2.1.1">Data attribution and influence functions.</span> Training Data Attribution (TDA) methods seek to interpret a modelâ€™s predictions by analyzing the particular training instances that contributed to shaping its learned representations. Most modern TDA methods can broadly be divided into two categories: retraining-based methodsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib22" title="">22</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib31" title="">31</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib14" title="">14</a>]</cite> and gradient-based methodsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib38" title="">38</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib27" title="">27</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib17" title="">17</a>]</cite>. However, applying traditional data attribution methods to large language models has remained a significant challenge, primarily due to issues of computational tractability and the sheer scale of model parameters. Nonetheless, there are several works successfully apply data attribution on LLMs by influence function. Researchers in Anthropic adapt EK-FAC influence functions to large-scale Transformers, by which they figured out what kind of pretraining data influences completions of models up to 50B parametersÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib8" title="">8</a>]</cite>. More specifically, for reasoning capabilities, studies have shown that code data encountered during the pretraining-phase plays a critical role in the development of mathematical reasoning abilities in language models.Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib30" title="">30</a>]</cite>. In this work, we extend similar methodological approaches by employing influence functions to attribute the development of reasoning capabilities during the supervised fine-tuning (SFT) phase, with a particular focus on analyzing the interplay between code and mathematical data.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methodology</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">This section reviews the basics of influence functionsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib17" title="">17</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib8" title="">8</a>]</cite> and presents Infra, our adaptation for attributing LLM reasoning performance on math and code problems.
In particular, we compute instance-level influence scores using a mean log-likelihood proxy, and further shift to the sequence and token levels to uncover how specific reasoning steps and tokens shape model behavior.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Preliminary: Influence Functions</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.7">Given a model parameterized by <math alttext="\bm{\theta}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">ğœ½</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">ğœ½</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">\bm{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">bold_italic_Î¸</annotation></semantics></math> and trained on a dataset <math alttext="\mathcal{D}_{\text{train}}=\{z_{i}\}_{i=1}^{N}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mrow id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><msub id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1.3.2" xref="S3.SS1.p1.2.m2.1.1.3.2.cmml">ğ’Ÿ</mi><mtext id="S3.SS1.p1.2.m2.1.1.3.3" xref="S3.SS1.p1.2.m2.1.1.3.3a.cmml">train</mtext></msub><mo id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">=</mo><msubsup id="S3.SS1.p1.2.m2.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.cmml"><mrow id="S3.SS1.p1.2.m2.1.1.1.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.cmml"><mo id="S3.SS1.p1.2.m2.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.cmml">{</mo><msub id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS1.p1.2.m2.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.2.m2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.2.m2.1.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.1.3.cmml"><mi id="S3.SS1.p1.2.m2.1.1.1.1.3.2" xref="S3.SS1.p1.2.m2.1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p1.2.m2.1.1.1.1.3.1" xref="S3.SS1.p1.2.m2.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.2.m2.1.1.1.1.3.3" xref="S3.SS1.p1.2.m2.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p1.2.m2.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.3.cmml">N</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><eq id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2"></eq><apply id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2">ğ’Ÿ</ci><ci id="S3.SS1.p1.2.m2.1.1.3.3a.cmml" xref="S3.SS1.p1.2.m2.1.1.3.3"><mtext id="S3.SS1.p1.2.m2.1.1.3.3.cmml" mathsize="70%" xref="S3.SS1.p1.2.m2.1.1.3.3">train</mtext></ci></apply><apply id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.2.m2.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1">subscript</csymbol><set id="S3.SS1.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1"><apply id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.2">ğ‘§</ci><ci id="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.1.1.1.3">ğ‘–</ci></apply></set><apply id="S3.SS1.p1.2.m2.1.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.3"><eq id="S3.SS1.p1.2.m2.1.1.1.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.3.1"></eq><ci id="S3.SS1.p1.2.m2.1.1.1.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.3.2">ğ‘–</ci><cn id="S3.SS1.p1.2.m2.1.1.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.2.m2.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS1.p1.2.m2.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.1.3">ğ‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">\mathcal{D}_{\text{train}}=\{z_{i}\}_{i=1}^{N}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">caligraphic_D start_POSTSUBSCRIPT train end_POSTSUBSCRIPT = { italic_z start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math>, influence functionsÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib17" title="">17</a>]</cite> estimate the influence of a training point <math alttext="z_{m}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><msub id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">z</mi><mi id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">ğ‘§</ci><ci id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">z_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> on <math alttext="\bm{\theta}" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><mi id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">ğœ½</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">ğœ½</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">\bm{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">bold_italic_Î¸</annotation></semantics></math> (or a function thereof) without retraining the model. Specifically, it is measured by computing the change in <math alttext="\bm{\theta}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">ğœ½</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">ğœ½</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\bm{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">bold_italic_Î¸</annotation></semantics></math> if <math alttext="z_{m}" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.1"><semantics id="S3.SS1.p1.6.m6.1a"><msub id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">z</mi><mi id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">ğ‘§</ci><ci id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">z_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.1d">italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> is upweighted by an infinitesimal amount <math alttext="\epsilon" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.1"><semantics id="S3.SS1.p1.7.m7.1a"><mi id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">Ïµ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">italic-Ïµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.1d">italic_Ïµ</annotation></semantics></math>. This perturbation can be formalized as the response function<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>For simplicity, we show the response function for optimal parameters. For non-converged or non-convex models, the actual response function is the Proximal Bregman response function (refer toÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib8" title="">8</a>]</cite> for details).</span></span></span>:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\bm{\theta}(\epsilon)=\underset{\bm{\theta}\in\mathbb{R}^{D}}{\arg\min}%
\mathcal{J}\left(\bm{\theta},\mathcal{D}_{\text{train}},\epsilon\right)=%
\underset{\bm{\theta}\in\mathbb{R}^{D}}{\arg\min}\frac{1}{N}\sum_{i=1}^{N}%
\mathcal{L}\left(z_{i},\bm{\theta}\right)+\epsilon\mathcal{L}\left(z_{m},\bm{%
\theta}\right)," class="ltx_Math" display="block" id="S3.E1.m1.6"><semantics id="S3.E1.m1.6a"><mrow id="S3.E1.m1.6.6.1" xref="S3.E1.m1.6.6.1.1.cmml"><mrow id="S3.E1.m1.6.6.1.1" xref="S3.E1.m1.6.6.1.1.cmml"><mrow id="S3.E1.m1.6.6.1.1.5" xref="S3.E1.m1.6.6.1.1.5.cmml"><mi id="S3.E1.m1.6.6.1.1.5.2" xref="S3.E1.m1.6.6.1.1.5.2.cmml">ğœ½</mi><mo id="S3.E1.m1.6.6.1.1.5.1" xref="S3.E1.m1.6.6.1.1.5.1.cmml">â¢</mo><mrow id="S3.E1.m1.6.6.1.1.5.3.2" xref="S3.E1.m1.6.6.1.1.5.cmml"><mo id="S3.E1.m1.6.6.1.1.5.3.2.1" stretchy="false" xref="S3.E1.m1.6.6.1.1.5.cmml">(</mo><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">Ïµ</mi><mo id="S3.E1.m1.6.6.1.1.5.3.2.2" stretchy="false" xref="S3.E1.m1.6.6.1.1.5.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.6.6.1.1.6" xref="S3.E1.m1.6.6.1.1.6.cmml">=</mo><mrow id="S3.E1.m1.6.6.1.1.1" xref="S3.E1.m1.6.6.1.1.1.cmml"><munder accentunder="true" id="S3.E1.m1.6.6.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.3.cmml"><mrow id="S3.E1.m1.6.6.1.1.1.3.2" xref="S3.E1.m1.6.6.1.1.1.3.2.cmml"><mi id="S3.E1.m1.6.6.1.1.1.3.2.1" xref="S3.E1.m1.6.6.1.1.1.3.2.1.cmml">arg</mi><mo id="S3.E1.m1.6.6.1.1.1.3.2a" lspace="0.167em" xref="S3.E1.m1.6.6.1.1.1.3.2.cmml">â¡</mo><mi id="S3.E1.m1.6.6.1.1.1.3.2.2" xref="S3.E1.m1.6.6.1.1.1.3.2.2.cmml">min</mi></mrow><mrow id="S3.E1.m1.6.6.1.1.1.3.1" xref="S3.E1.m1.6.6.1.1.1.3.1.cmml"><mi id="S3.E1.m1.6.6.1.1.1.3.1.2" xref="S3.E1.m1.6.6.1.1.1.3.1.2.cmml">ğœ½</mi><mo id="S3.E1.m1.6.6.1.1.1.3.1.1" xref="S3.E1.m1.6.6.1.1.1.3.1.1.cmml">âˆˆ</mo><msup id="S3.E1.m1.6.6.1.1.1.3.1.3" xref="S3.E1.m1.6.6.1.1.1.3.1.3.cmml"><mi id="S3.E1.m1.6.6.1.1.1.3.1.3.2" xref="S3.E1.m1.6.6.1.1.1.3.1.3.2.cmml">â„</mi><mi id="S3.E1.m1.6.6.1.1.1.3.1.3.3" xref="S3.E1.m1.6.6.1.1.1.3.1.3.3.cmml">D</mi></msup></mrow></munder><mo id="S3.E1.m1.6.6.1.1.1.2" lspace="0.167em" xref="S3.E1.m1.6.6.1.1.1.2.cmml">â¢</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.6.6.1.1.1.4" xref="S3.E1.m1.6.6.1.1.1.4.cmml">ğ’¥</mi><mo id="S3.E1.m1.6.6.1.1.1.2a" xref="S3.E1.m1.6.6.1.1.1.2.cmml">â¢</mo><mrow id="S3.E1.m1.6.6.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.2.cmml"><mo id="S3.E1.m1.6.6.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.2.cmml">(</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">ğœ½</mi><mo id="S3.E1.m1.6.6.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.2.cmml">,</mo><msub id="S3.E1.m1.6.6.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.6.6.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.2.cmml">ğ’Ÿ</mi><mtext id="S3.E1.m1.6.6.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.3a.cmml">train</mtext></msub><mo id="S3.E1.m1.6.6.1.1.1.1.1.4" xref="S3.E1.m1.6.6.1.1.1.1.2.cmml">,</mo><mi id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml">Ïµ</mi><mo id="S3.E1.m1.6.6.1.1.1.1.1.5" xref="S3.E1.m1.6.6.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.6.6.1.1.7" xref="S3.E1.m1.6.6.1.1.7.cmml">=</mo><mrow id="S3.E1.m1.6.6.1.1.3" xref="S3.E1.m1.6.6.1.1.3.cmml"><mrow id="S3.E1.m1.6.6.1.1.2.1" xref="S3.E1.m1.6.6.1.1.2.1.cmml"><munder accentunder="true" id="S3.E1.m1.6.6.1.1.2.1.3" xref="S3.E1.m1.6.6.1.1.2.1.3.cmml"><mrow id="S3.E1.m1.6.6.1.1.2.1.3.2" xref="S3.E1.m1.6.6.1.1.2.1.3.2.cmml"><mi id="S3.E1.m1.6.6.1.1.2.1.3.2.1" xref="S3.E1.m1.6.6.1.1.2.1.3.2.1.cmml">arg</mi><mo id="S3.E1.m1.6.6.1.1.2.1.3.2a" lspace="0.167em" xref="S3.E1.m1.6.6.1.1.2.1.3.2.cmml">â¡</mo><mi id="S3.E1.m1.6.6.1.1.2.1.3.2.2" xref="S3.E1.m1.6.6.1.1.2.1.3.2.2.cmml">min</mi></mrow><mrow id="S3.E1.m1.6.6.1.1.2.1.3.1" xref="S3.E1.m1.6.6.1.1.2.1.3.1.cmml"><mi id="S3.E1.m1.6.6.1.1.2.1.3.1.2" xref="S3.E1.m1.6.6.1.1.2.1.3.1.2.cmml">ğœ½</mi><mo id="S3.E1.m1.6.6.1.1.2.1.3.1.1" xref="S3.E1.m1.6.6.1.1.2.1.3.1.1.cmml">âˆˆ</mo><msup id="S3.E1.m1.6.6.1.1.2.1.3.1.3" xref="S3.E1.m1.6.6.1.1.2.1.3.1.3.cmml"><mi id="S3.E1.m1.6.6.1.1.2.1.3.1.3.2" xref="S3.E1.m1.6.6.1.1.2.1.3.1.3.2.cmml">â„</mi><mi id="S3.E1.m1.6.6.1.1.2.1.3.1.3.3" xref="S3.E1.m1.6.6.1.1.2.1.3.1.3.3.cmml">D</mi></msup></mrow></munder><mo id="S3.E1.m1.6.6.1.1.2.1.2" lspace="0.167em" xref="S3.E1.m1.6.6.1.1.2.1.2.cmml">â¢</mo><mfrac id="S3.E1.m1.6.6.1.1.2.1.4" xref="S3.E1.m1.6.6.1.1.2.1.4.cmml"><mn id="S3.E1.m1.6.6.1.1.2.1.4.2" xref="S3.E1.m1.6.6.1.1.2.1.4.2.cmml">1</mn><mi id="S3.E1.m1.6.6.1.1.2.1.4.3" xref="S3.E1.m1.6.6.1.1.2.1.4.3.cmml">N</mi></mfrac><mo id="S3.E1.m1.6.6.1.1.2.1.2a" xref="S3.E1.m1.6.6.1.1.2.1.2.cmml">â¢</mo><mrow id="S3.E1.m1.6.6.1.1.2.1.1" xref="S3.E1.m1.6.6.1.1.2.1.1.cmml"><munderover id="S3.E1.m1.6.6.1.1.2.1.1.2" xref="S3.E1.m1.6.6.1.1.2.1.1.2.cmml"><mo id="S3.E1.m1.6.6.1.1.2.1.1.2.2.2" movablelimits="false" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.2.cmml">âˆ‘</mo><mrow id="S3.E1.m1.6.6.1.1.2.1.1.2.2.3" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.cmml"><mi id="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.2" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.1" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.3" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.6.6.1.1.2.1.1.2.3" xref="S3.E1.m1.6.6.1.1.2.1.1.2.3.cmml">N</mi></munderover><mrow id="S3.E1.m1.6.6.1.1.2.1.1.1" xref="S3.E1.m1.6.6.1.1.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.6.6.1.1.2.1.1.1.3" xref="S3.E1.m1.6.6.1.1.2.1.1.1.3.cmml">â„’</mi><mo id="S3.E1.m1.6.6.1.1.2.1.1.1.2" xref="S3.E1.m1.6.6.1.1.2.1.1.1.2.cmml">â¢</mo><mrow id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.2.cmml"><mo id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.2.cmml">(</mo><msub id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.2.cmml">,</mo><mi id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml">ğœ½</mi><mo id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.4" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E1.m1.6.6.1.1.3.3" xref="S3.E1.m1.6.6.1.1.3.3.cmml">+</mo><mrow id="S3.E1.m1.6.6.1.1.3.2" xref="S3.E1.m1.6.6.1.1.3.2.cmml"><mi id="S3.E1.m1.6.6.1.1.3.2.3" xref="S3.E1.m1.6.6.1.1.3.2.3.cmml">Ïµ</mi><mo id="S3.E1.m1.6.6.1.1.3.2.2" xref="S3.E1.m1.6.6.1.1.3.2.2.cmml">â¢</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.6.6.1.1.3.2.4" xref="S3.E1.m1.6.6.1.1.3.2.4.cmml">â„’</mi><mo id="S3.E1.m1.6.6.1.1.3.2.2a" xref="S3.E1.m1.6.6.1.1.3.2.2.cmml">â¢</mo><mrow id="S3.E1.m1.6.6.1.1.3.2.1.1" xref="S3.E1.m1.6.6.1.1.3.2.1.2.cmml"><mo id="S3.E1.m1.6.6.1.1.3.2.1.1.2" xref="S3.E1.m1.6.6.1.1.3.2.1.2.cmml">(</mo><msub id="S3.E1.m1.6.6.1.1.3.2.1.1.1" xref="S3.E1.m1.6.6.1.1.3.2.1.1.1.cmml"><mi id="S3.E1.m1.6.6.1.1.3.2.1.1.1.2" xref="S3.E1.m1.6.6.1.1.3.2.1.1.1.2.cmml">z</mi><mi id="S3.E1.m1.6.6.1.1.3.2.1.1.1.3" xref="S3.E1.m1.6.6.1.1.3.2.1.1.1.3.cmml">m</mi></msub><mo id="S3.E1.m1.6.6.1.1.3.2.1.1.3" xref="S3.E1.m1.6.6.1.1.3.2.1.2.cmml">,</mo><mi id="S3.E1.m1.5.5" xref="S3.E1.m1.5.5.cmml">ğœ½</mi><mo id="S3.E1.m1.6.6.1.1.3.2.1.1.4" xref="S3.E1.m1.6.6.1.1.3.2.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E1.m1.6.6.1.2" xref="S3.E1.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.6b"><apply id="S3.E1.m1.6.6.1.1.cmml" xref="S3.E1.m1.6.6.1"><and id="S3.E1.m1.6.6.1.1a.cmml" xref="S3.E1.m1.6.6.1"></and><apply id="S3.E1.m1.6.6.1.1b.cmml" xref="S3.E1.m1.6.6.1"><eq id="S3.E1.m1.6.6.1.1.6.cmml" xref="S3.E1.m1.6.6.1.1.6"></eq><apply id="S3.E1.m1.6.6.1.1.5.cmml" xref="S3.E1.m1.6.6.1.1.5"><times id="S3.E1.m1.6.6.1.1.5.1.cmml" xref="S3.E1.m1.6.6.1.1.5.1"></times><ci id="S3.E1.m1.6.6.1.1.5.2.cmml" xref="S3.E1.m1.6.6.1.1.5.2">ğœ½</ci><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">italic-Ïµ</ci></apply><apply id="S3.E1.m1.6.6.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1"><times id="S3.E1.m1.6.6.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.2"></times><apply id="S3.E1.m1.6.6.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.3"><apply id="S3.E1.m1.6.6.1.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.3.1"><in id="S3.E1.m1.6.6.1.1.1.3.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.3.1.1"></in><ci id="S3.E1.m1.6.6.1.1.1.3.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.3.1.2">ğœ½</ci><apply id="S3.E1.m1.6.6.1.1.1.3.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.3.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.3.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.3.1.3">superscript</csymbol><ci id="S3.E1.m1.6.6.1.1.1.3.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.3.1.3.2">â„</ci><ci id="S3.E1.m1.6.6.1.1.1.3.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.1.3.1.3.3">ğ·</ci></apply></apply><apply id="S3.E1.m1.6.6.1.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.3.2"><arg id="S3.E1.m1.6.6.1.1.1.3.2.1.cmml" xref="S3.E1.m1.6.6.1.1.1.3.2.1"></arg><min id="S3.E1.m1.6.6.1.1.1.3.2.2.cmml" xref="S3.E1.m1.6.6.1.1.1.3.2.2"></min></apply></apply><ci id="S3.E1.m1.6.6.1.1.1.4.cmml" xref="S3.E1.m1.6.6.1.1.1.4">ğ’¥</ci><vector id="S3.E1.m1.6.6.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1"><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">ğœ½</ci><apply id="S3.E1.m1.6.6.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.2">ğ’Ÿ</ci><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.3a.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.3"><mtext id="S3.E1.m1.6.6.1.1.1.1.1.1.3.cmml" mathsize="70%" xref="S3.E1.m1.6.6.1.1.1.1.1.1.3">train</mtext></ci></apply><ci id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3">italic-Ïµ</ci></vector></apply></apply><apply id="S3.E1.m1.6.6.1.1c.cmml" xref="S3.E1.m1.6.6.1"><eq id="S3.E1.m1.6.6.1.1.7.cmml" xref="S3.E1.m1.6.6.1.1.7"></eq><share href="https://arxiv.org/html/2505.19949v1#S3.E1.m1.6.6.1.1.1.cmml" id="S3.E1.m1.6.6.1.1d.cmml" xref="S3.E1.m1.6.6.1"></share><apply id="S3.E1.m1.6.6.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.3"><plus id="S3.E1.m1.6.6.1.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.3.3"></plus><apply id="S3.E1.m1.6.6.1.1.2.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1"><times id="S3.E1.m1.6.6.1.1.2.1.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.2"></times><apply id="S3.E1.m1.6.6.1.1.2.1.3.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3"><apply id="S3.E1.m1.6.6.1.1.2.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.1"><in id="S3.E1.m1.6.6.1.1.2.1.3.1.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.1.1"></in><ci id="S3.E1.m1.6.6.1.1.2.1.3.1.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.1.2">ğœ½</ci><apply id="S3.E1.m1.6.6.1.1.2.1.3.1.3.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.2.1.3.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.1.3">superscript</csymbol><ci id="S3.E1.m1.6.6.1.1.2.1.3.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.1.3.2">â„</ci><ci id="S3.E1.m1.6.6.1.1.2.1.3.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.1.3.3">ğ·</ci></apply></apply><apply id="S3.E1.m1.6.6.1.1.2.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.2"><arg id="S3.E1.m1.6.6.1.1.2.1.3.2.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.2.1"></arg><min id="S3.E1.m1.6.6.1.1.2.1.3.2.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.3.2.2"></min></apply></apply><apply id="S3.E1.m1.6.6.1.1.2.1.4.cmml" xref="S3.E1.m1.6.6.1.1.2.1.4"><divide id="S3.E1.m1.6.6.1.1.2.1.4.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.4"></divide><cn id="S3.E1.m1.6.6.1.1.2.1.4.2.cmml" type="integer" xref="S3.E1.m1.6.6.1.1.2.1.4.2">1</cn><ci id="S3.E1.m1.6.6.1.1.2.1.4.3.cmml" xref="S3.E1.m1.6.6.1.1.2.1.4.3">ğ‘</ci></apply><apply id="S3.E1.m1.6.6.1.1.2.1.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1"><apply id="S3.E1.m1.6.6.1.1.2.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.2.1.1.2.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.2">superscript</csymbol><apply id="S3.E1.m1.6.6.1.1.2.1.1.2.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.2.1.1.2.2.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.2">subscript</csymbol><sum id="S3.E1.m1.6.6.1.1.2.1.1.2.2.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.2"></sum><apply id="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.3"><eq id="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.1"></eq><ci id="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.2">ğ‘–</ci><cn id="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.3.cmml" type="integer" xref="S3.E1.m1.6.6.1.1.2.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.6.6.1.1.2.1.1.2.3.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.2.3">ğ‘</ci></apply><apply id="S3.E1.m1.6.6.1.1.2.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.1"><times id="S3.E1.m1.6.6.1.1.2.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.1.2"></times><ci id="S3.E1.m1.6.6.1.1.2.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.1.3">â„’</ci><interval closure="open" id="S3.E1.m1.6.6.1.1.2.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.1"><apply id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.2">ğ‘§</ci><ci id="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.2.1.1.1.1.1.1.3">ğ‘–</ci></apply><ci id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4">ğœ½</ci></interval></apply></apply></apply><apply id="S3.E1.m1.6.6.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.3.2"><times id="S3.E1.m1.6.6.1.1.3.2.2.cmml" xref="S3.E1.m1.6.6.1.1.3.2.2"></times><ci id="S3.E1.m1.6.6.1.1.3.2.3.cmml" xref="S3.E1.m1.6.6.1.1.3.2.3">italic-Ïµ</ci><ci id="S3.E1.m1.6.6.1.1.3.2.4.cmml" xref="S3.E1.m1.6.6.1.1.3.2.4">â„’</ci><interval closure="open" id="S3.E1.m1.6.6.1.1.3.2.1.2.cmml" xref="S3.E1.m1.6.6.1.1.3.2.1.1"><apply id="S3.E1.m1.6.6.1.1.3.2.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.3.2.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.3.2.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.3.2.1.1.1">subscript</csymbol><ci id="S3.E1.m1.6.6.1.1.3.2.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.3.2.1.1.1.2">ğ‘§</ci><ci id="S3.E1.m1.6.6.1.1.3.2.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.3.2.1.1.1.3">ğ‘š</ci></apply><ci id="S3.E1.m1.5.5.cmml" xref="S3.E1.m1.5.5">ğœ½</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.6c">\bm{\theta}(\epsilon)=\underset{\bm{\theta}\in\mathbb{R}^{D}}{\arg\min}%
\mathcal{J}\left(\bm{\theta},\mathcal{D}_{\text{train}},\epsilon\right)=%
\underset{\bm{\theta}\in\mathbb{R}^{D}}{\arg\min}\frac{1}{N}\sum_{i=1}^{N}%
\mathcal{L}\left(z_{i},\bm{\theta}\right)+\epsilon\mathcal{L}\left(z_{m},\bm{%
\theta}\right),</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.6d">bold_italic_Î¸ ( italic_Ïµ ) = start_UNDERACCENT bold_italic_Î¸ âˆˆ blackboard_R start_POSTSUPERSCRIPT italic_D end_POSTSUPERSCRIPT end_UNDERACCENT start_ARG roman_arg roman_min end_ARG caligraphic_J ( bold_italic_Î¸ , caligraphic_D start_POSTSUBSCRIPT train end_POSTSUBSCRIPT , italic_Ïµ ) = start_UNDERACCENT bold_italic_Î¸ âˆˆ blackboard_R start_POSTSUPERSCRIPT italic_D end_POSTSUPERSCRIPT end_UNDERACCENT start_ARG roman_arg roman_min end_ARG divide start_ARG 1 end_ARG start_ARG italic_N end_ARG âˆ‘ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT caligraphic_L ( italic_z start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , bold_italic_Î¸ ) + italic_Ïµ caligraphic_L ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , bold_italic_Î¸ ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p1.11">where <math alttext="\mathcal{L}(\cdot)" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m1.1"><semantics id="S3.SS1.p1.8.m1.1a"><mrow id="S3.SS1.p1.8.m1.1.2" xref="S3.SS1.p1.8.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.8.m1.1.2.2" xref="S3.SS1.p1.8.m1.1.2.2.cmml">â„’</mi><mo id="S3.SS1.p1.8.m1.1.2.1" xref="S3.SS1.p1.8.m1.1.2.1.cmml">â¢</mo><mrow id="S3.SS1.p1.8.m1.1.2.3.2" xref="S3.SS1.p1.8.m1.1.2.cmml"><mo id="S3.SS1.p1.8.m1.1.2.3.2.1" stretchy="false" xref="S3.SS1.p1.8.m1.1.2.cmml">(</mo><mo id="S3.SS1.p1.8.m1.1.1" lspace="0em" rspace="0em" xref="S3.SS1.p1.8.m1.1.1.cmml">â‹…</mo><mo id="S3.SS1.p1.8.m1.1.2.3.2.2" stretchy="false" xref="S3.SS1.p1.8.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m1.1b"><apply id="S3.SS1.p1.8.m1.1.2.cmml" xref="S3.SS1.p1.8.m1.1.2"><times id="S3.SS1.p1.8.m1.1.2.1.cmml" xref="S3.SS1.p1.8.m1.1.2.1"></times><ci id="S3.SS1.p1.8.m1.1.2.2.cmml" xref="S3.SS1.p1.8.m1.1.2.2">â„’</ci><ci id="S3.SS1.p1.8.m1.1.1.cmml" xref="S3.SS1.p1.8.m1.1.1">â‹…</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m1.1c">\mathcal{L}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m1.1d">caligraphic_L ( â‹… )</annotation></semantics></math> is the training loss.
The influence of <math alttext="z_{m}" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m2.1"><semantics id="S3.SS1.p1.9.m2.1a"><msub id="S3.SS1.p1.9.m2.1.1" xref="S3.SS1.p1.9.m2.1.1.cmml"><mi id="S3.SS1.p1.9.m2.1.1.2" xref="S3.SS1.p1.9.m2.1.1.2.cmml">z</mi><mi id="S3.SS1.p1.9.m2.1.1.3" xref="S3.SS1.p1.9.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m2.1b"><apply id="S3.SS1.p1.9.m2.1.1.cmml" xref="S3.SS1.p1.9.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m2.1.1.1.cmml" xref="S3.SS1.p1.9.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m2.1.1.2.cmml" xref="S3.SS1.p1.9.m2.1.1.2">ğ‘§</ci><ci id="S3.SS1.p1.9.m2.1.1.3.cmml" xref="S3.SS1.p1.9.m2.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m2.1c">z_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m2.1d">italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> on <math alttext="\bm{\theta}" class="ltx_Math" display="inline" id="S3.SS1.p1.10.m3.1"><semantics id="S3.SS1.p1.10.m3.1a"><mi id="S3.SS1.p1.10.m3.1.1" xref="S3.SS1.p1.10.m3.1.1.cmml">ğœ½</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m3.1b"><ci id="S3.SS1.p1.10.m3.1.1.cmml" xref="S3.SS1.p1.10.m3.1.1">ğœ½</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m3.1c">\bm{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.10.m3.1d">bold_italic_Î¸</annotation></semantics></math> is then defined as the first-order Taylor approximation to the response function around <math alttext="\epsilon=0" class="ltx_Math" display="inline" id="S3.SS1.p1.11.m4.1"><semantics id="S3.SS1.p1.11.m4.1a"><mrow id="S3.SS1.p1.11.m4.1.1" xref="S3.SS1.p1.11.m4.1.1.cmml"><mi id="S3.SS1.p1.11.m4.1.1.2" xref="S3.SS1.p1.11.m4.1.1.2.cmml">Ïµ</mi><mo id="S3.SS1.p1.11.m4.1.1.1" xref="S3.SS1.p1.11.m4.1.1.1.cmml">=</mo><mn id="S3.SS1.p1.11.m4.1.1.3" xref="S3.SS1.p1.11.m4.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m4.1b"><apply id="S3.SS1.p1.11.m4.1.1.cmml" xref="S3.SS1.p1.11.m4.1.1"><eq id="S3.SS1.p1.11.m4.1.1.1.cmml" xref="S3.SS1.p1.11.m4.1.1.1"></eq><ci id="S3.SS1.p1.11.m4.1.1.2.cmml" xref="S3.SS1.p1.11.m4.1.1.2">italic-Ïµ</ci><cn id="S3.SS1.p1.11.m4.1.1.3.cmml" type="integer" xref="S3.SS1.p1.11.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m4.1c">\epsilon=0</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.11.m4.1d">italic_Ïµ = 0</annotation></semantics></math> and can be computed using the implicit theorem:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{I}_{\bm{\theta}}(z_{m})=\left.\frac{d\bm{\theta}}{d\epsilon}\right|_{%
\epsilon=0}=-\mathbf{H}^{-1}\nabla_{\bm{\theta}}\mathcal{L}\left(z_{m},\bm{%
\theta}\right)," class="ltx_Math" display="block" id="S3.E2.m1.4"><semantics id="S3.E2.m1.4a"><mrow id="S3.E2.m1.4.4.1" xref="S3.E2.m1.4.4.1.1.cmml"><mrow id="S3.E2.m1.4.4.1.1" xref="S3.E2.m1.4.4.1.1.cmml"><mrow id="S3.E2.m1.4.4.1.1.1" xref="S3.E2.m1.4.4.1.1.1.cmml"><msub id="S3.E2.m1.4.4.1.1.1.3" xref="S3.E2.m1.4.4.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.4.4.1.1.1.3.2" xref="S3.E2.m1.4.4.1.1.1.3.2.cmml">â„</mi><mi id="S3.E2.m1.4.4.1.1.1.3.3" xref="S3.E2.m1.4.4.1.1.1.3.3.cmml">ğœ½</mi></msub><mo id="S3.E2.m1.4.4.1.1.1.2" xref="S3.E2.m1.4.4.1.1.1.2.cmml">â¢</mo><mrow id="S3.E2.m1.4.4.1.1.1.1.1" xref="S3.E2.m1.4.4.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.4.4.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.4.4.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E2.m1.4.4.1.1.1.1.1.1" xref="S3.E2.m1.4.4.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.4.4.1.1.1.1.1.1.2" xref="S3.E2.m1.4.4.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E2.m1.4.4.1.1.1.1.1.1.3" xref="S3.E2.m1.4.4.1.1.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.E2.m1.4.4.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.4.4.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.4.4.1.1.4" xref="S3.E2.m1.4.4.1.1.4.cmml">=</mo><msub id="S3.E2.m1.4.4.1.1.5.2" xref="S3.E2.m1.4.4.1.1.5.1.cmml"><mrow id="S3.E2.m1.4.4.1.1.5.2.2" xref="S3.E2.m1.4.4.1.1.5.1.cmml"><mfrac id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml"><mrow id="S3.E2.m1.1.1.2" xref="S3.E2.m1.1.1.2.cmml"><mi id="S3.E2.m1.1.1.2.2" xref="S3.E2.m1.1.1.2.2.cmml">d</mi><mo id="S3.E2.m1.1.1.2.1" xref="S3.E2.m1.1.1.2.1.cmml">â¢</mo><mi id="S3.E2.m1.1.1.2.3" xref="S3.E2.m1.1.1.2.3.cmml">ğœ½</mi></mrow><mrow id="S3.E2.m1.1.1.3" xref="S3.E2.m1.1.1.3.cmml"><mi id="S3.E2.m1.1.1.3.2" xref="S3.E2.m1.1.1.3.2.cmml">d</mi><mo id="S3.E2.m1.1.1.3.1" xref="S3.E2.m1.1.1.3.1.cmml">â¢</mo><mi id="S3.E2.m1.1.1.3.3" xref="S3.E2.m1.1.1.3.3.cmml">Ïµ</mi></mrow></mfrac><mo id="S3.E2.m1.4.4.1.1.5.2.2.1" xref="S3.E2.m1.4.4.1.1.5.1.1.cmml">|</mo></mrow><mrow id="S3.E2.m1.2.2.1" xref="S3.E2.m1.2.2.1.cmml"><mi id="S3.E2.m1.2.2.1.2" xref="S3.E2.m1.2.2.1.2.cmml">Ïµ</mi><mo id="S3.E2.m1.2.2.1.1" xref="S3.E2.m1.2.2.1.1.cmml">=</mo><mn id="S3.E2.m1.2.2.1.3" xref="S3.E2.m1.2.2.1.3.cmml">0</mn></mrow></msub><mo id="S3.E2.m1.4.4.1.1.6" xref="S3.E2.m1.4.4.1.1.6.cmml">=</mo><mrow id="S3.E2.m1.4.4.1.1.2" xref="S3.E2.m1.4.4.1.1.2.cmml"><mo id="S3.E2.m1.4.4.1.1.2a" xref="S3.E2.m1.4.4.1.1.2.cmml">âˆ’</mo><mrow id="S3.E2.m1.4.4.1.1.2.1" xref="S3.E2.m1.4.4.1.1.2.1.cmml"><msup id="S3.E2.m1.4.4.1.1.2.1.3" xref="S3.E2.m1.4.4.1.1.2.1.3.cmml"><mi id="S3.E2.m1.4.4.1.1.2.1.3.2" xref="S3.E2.m1.4.4.1.1.2.1.3.2.cmml">ğ‡</mi><mrow id="S3.E2.m1.4.4.1.1.2.1.3.3" xref="S3.E2.m1.4.4.1.1.2.1.3.3.cmml"><mo id="S3.E2.m1.4.4.1.1.2.1.3.3a" xref="S3.E2.m1.4.4.1.1.2.1.3.3.cmml">âˆ’</mo><mn id="S3.E2.m1.4.4.1.1.2.1.3.3.2" xref="S3.E2.m1.4.4.1.1.2.1.3.3.2.cmml">1</mn></mrow></msup><mo id="S3.E2.m1.4.4.1.1.2.1.2" lspace="0.167em" xref="S3.E2.m1.4.4.1.1.2.1.2.cmml">â¢</mo><mrow id="S3.E2.m1.4.4.1.1.2.1.4" xref="S3.E2.m1.4.4.1.1.2.1.4.cmml"><msub id="S3.E2.m1.4.4.1.1.2.1.4.1" xref="S3.E2.m1.4.4.1.1.2.1.4.1.cmml"><mo id="S3.E2.m1.4.4.1.1.2.1.4.1.2" rspace="0.167em" xref="S3.E2.m1.4.4.1.1.2.1.4.1.2.cmml">âˆ‡</mo><mi id="S3.E2.m1.4.4.1.1.2.1.4.1.3" xref="S3.E2.m1.4.4.1.1.2.1.4.1.3.cmml">ğœ½</mi></msub><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.4.4.1.1.2.1.4.2" xref="S3.E2.m1.4.4.1.1.2.1.4.2.cmml">â„’</mi></mrow><mo id="S3.E2.m1.4.4.1.1.2.1.2a" xref="S3.E2.m1.4.4.1.1.2.1.2.cmml">â¢</mo><mrow id="S3.E2.m1.4.4.1.1.2.1.1.1" xref="S3.E2.m1.4.4.1.1.2.1.1.2.cmml"><mo id="S3.E2.m1.4.4.1.1.2.1.1.1.2" xref="S3.E2.m1.4.4.1.1.2.1.1.2.cmml">(</mo><msub id="S3.E2.m1.4.4.1.1.2.1.1.1.1" xref="S3.E2.m1.4.4.1.1.2.1.1.1.1.cmml"><mi id="S3.E2.m1.4.4.1.1.2.1.1.1.1.2" xref="S3.E2.m1.4.4.1.1.2.1.1.1.1.2.cmml">z</mi><mi id="S3.E2.m1.4.4.1.1.2.1.1.1.1.3" xref="S3.E2.m1.4.4.1.1.2.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.E2.m1.4.4.1.1.2.1.1.1.3" xref="S3.E2.m1.4.4.1.1.2.1.1.2.cmml">,</mo><mi id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml">ğœ½</mi><mo id="S3.E2.m1.4.4.1.1.2.1.1.1.4" xref="S3.E2.m1.4.4.1.1.2.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E2.m1.4.4.1.2" xref="S3.E2.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.4b"><apply id="S3.E2.m1.4.4.1.1.cmml" xref="S3.E2.m1.4.4.1"><and id="S3.E2.m1.4.4.1.1a.cmml" xref="S3.E2.m1.4.4.1"></and><apply id="S3.E2.m1.4.4.1.1b.cmml" xref="S3.E2.m1.4.4.1"><eq id="S3.E2.m1.4.4.1.1.4.cmml" xref="S3.E2.m1.4.4.1.1.4"></eq><apply id="S3.E2.m1.4.4.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.1"><times id="S3.E2.m1.4.4.1.1.1.2.cmml" xref="S3.E2.m1.4.4.1.1.1.2"></times><apply id="S3.E2.m1.4.4.1.1.1.3.cmml" xref="S3.E2.m1.4.4.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.1.3.1.cmml" xref="S3.E2.m1.4.4.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.4.4.1.1.1.3.2.cmml" xref="S3.E2.m1.4.4.1.1.1.3.2">â„</ci><ci id="S3.E2.m1.4.4.1.1.1.3.3.cmml" xref="S3.E2.m1.4.4.1.1.1.3.3">ğœ½</ci></apply><apply id="S3.E2.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.4.4.1.1.1.1.1.1.2">ğ‘§</ci><ci id="S3.E2.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.4.4.1.1.1.1.1.1.3">ğ‘š</ci></apply></apply><apply id="S3.E2.m1.4.4.1.1.5.1.cmml" xref="S3.E2.m1.4.4.1.1.5.2"><csymbol cd="latexml" id="S3.E2.m1.4.4.1.1.5.1.1.cmml" xref="S3.E2.m1.4.4.1.1.5.2.2.1">evaluated-at</csymbol><apply id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1"><divide id="S3.E2.m1.1.1.1.cmml" xref="S3.E2.m1.1.1"></divide><apply id="S3.E2.m1.1.1.2.cmml" xref="S3.E2.m1.1.1.2"><times id="S3.E2.m1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.2.1"></times><ci id="S3.E2.m1.1.1.2.2.cmml" xref="S3.E2.m1.1.1.2.2">ğ‘‘</ci><ci id="S3.E2.m1.1.1.2.3.cmml" xref="S3.E2.m1.1.1.2.3">ğœ½</ci></apply><apply id="S3.E2.m1.1.1.3.cmml" xref="S3.E2.m1.1.1.3"><times id="S3.E2.m1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.3.1"></times><ci id="S3.E2.m1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.3.2">ğ‘‘</ci><ci id="S3.E2.m1.1.1.3.3.cmml" xref="S3.E2.m1.1.1.3.3">italic-Ïµ</ci></apply></apply><apply id="S3.E2.m1.2.2.1.cmml" xref="S3.E2.m1.2.2.1"><eq id="S3.E2.m1.2.2.1.1.cmml" xref="S3.E2.m1.2.2.1.1"></eq><ci id="S3.E2.m1.2.2.1.2.cmml" xref="S3.E2.m1.2.2.1.2">italic-Ïµ</ci><cn id="S3.E2.m1.2.2.1.3.cmml" type="integer" xref="S3.E2.m1.2.2.1.3">0</cn></apply></apply></apply><apply id="S3.E2.m1.4.4.1.1c.cmml" xref="S3.E2.m1.4.4.1"><eq id="S3.E2.m1.4.4.1.1.6.cmml" xref="S3.E2.m1.4.4.1.1.6"></eq><share href="https://arxiv.org/html/2505.19949v1#S3.E2.m1.4.4.1.1.5.cmml" id="S3.E2.m1.4.4.1.1d.cmml" xref="S3.E2.m1.4.4.1"></share><apply id="S3.E2.m1.4.4.1.1.2.cmml" xref="S3.E2.m1.4.4.1.1.2"><minus id="S3.E2.m1.4.4.1.1.2.2.cmml" xref="S3.E2.m1.4.4.1.1.2"></minus><apply id="S3.E2.m1.4.4.1.1.2.1.cmml" xref="S3.E2.m1.4.4.1.1.2.1"><times id="S3.E2.m1.4.4.1.1.2.1.2.cmml" xref="S3.E2.m1.4.4.1.1.2.1.2"></times><apply id="S3.E2.m1.4.4.1.1.2.1.3.cmml" xref="S3.E2.m1.4.4.1.1.2.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.2.1.3.1.cmml" xref="S3.E2.m1.4.4.1.1.2.1.3">superscript</csymbol><ci id="S3.E2.m1.4.4.1.1.2.1.3.2.cmml" xref="S3.E2.m1.4.4.1.1.2.1.3.2">ğ‡</ci><apply id="S3.E2.m1.4.4.1.1.2.1.3.3.cmml" xref="S3.E2.m1.4.4.1.1.2.1.3.3"><minus id="S3.E2.m1.4.4.1.1.2.1.3.3.1.cmml" xref="S3.E2.m1.4.4.1.1.2.1.3.3"></minus><cn id="S3.E2.m1.4.4.1.1.2.1.3.3.2.cmml" type="integer" xref="S3.E2.m1.4.4.1.1.2.1.3.3.2">1</cn></apply></apply><apply id="S3.E2.m1.4.4.1.1.2.1.4.cmml" xref="S3.E2.m1.4.4.1.1.2.1.4"><apply id="S3.E2.m1.4.4.1.1.2.1.4.1.cmml" xref="S3.E2.m1.4.4.1.1.2.1.4.1"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.2.1.4.1.1.cmml" xref="S3.E2.m1.4.4.1.1.2.1.4.1">subscript</csymbol><ci id="S3.E2.m1.4.4.1.1.2.1.4.1.2.cmml" xref="S3.E2.m1.4.4.1.1.2.1.4.1.2">âˆ‡</ci><ci id="S3.E2.m1.4.4.1.1.2.1.4.1.3.cmml" xref="S3.E2.m1.4.4.1.1.2.1.4.1.3">ğœ½</ci></apply><ci id="S3.E2.m1.4.4.1.1.2.1.4.2.cmml" xref="S3.E2.m1.4.4.1.1.2.1.4.2">â„’</ci></apply><interval closure="open" id="S3.E2.m1.4.4.1.1.2.1.1.2.cmml" xref="S3.E2.m1.4.4.1.1.2.1.1.1"><apply id="S3.E2.m1.4.4.1.1.2.1.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.2.1.1.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.2.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.4.4.1.1.2.1.1.1.1.2.cmml" xref="S3.E2.m1.4.4.1.1.2.1.1.1.1.2">ğ‘§</ci><ci id="S3.E2.m1.4.4.1.1.2.1.1.1.1.3.cmml" xref="S3.E2.m1.4.4.1.1.2.1.1.1.1.3">ğ‘š</ci></apply><ci id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3">ğœ½</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.4c">\mathcal{I}_{\bm{\theta}}(z_{m})=\left.\frac{d\bm{\theta}}{d\epsilon}\right|_{%
\epsilon=0}=-\mathbf{H}^{-1}\nabla_{\bm{\theta}}\mathcal{L}\left(z_{m},\bm{%
\theta}\right),</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.4d">caligraphic_I start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ) = divide start_ARG italic_d bold_italic_Î¸ end_ARG start_ARG italic_d italic_Ïµ end_ARG | start_POSTSUBSCRIPT italic_Ïµ = 0 end_POSTSUBSCRIPT = - bold_H start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT caligraphic_L ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , bold_italic_Î¸ ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p1.15">where <math alttext="\mathbf{H}=\nabla_{\bm{\theta}}^{2}\mathcal{J}\left(\bm{\theta},\mathcal{D}_{%
\text{train}}\right)" class="ltx_Math" display="inline" id="S3.SS1.p1.12.m1.2"><semantics id="S3.SS1.p1.12.m1.2a"><mrow id="S3.SS1.p1.12.m1.2.2" xref="S3.SS1.p1.12.m1.2.2.cmml"><mi id="S3.SS1.p1.12.m1.2.2.3" xref="S3.SS1.p1.12.m1.2.2.3.cmml">ğ‡</mi><mo id="S3.SS1.p1.12.m1.2.2.2" xref="S3.SS1.p1.12.m1.2.2.2.cmml">=</mo><mrow id="S3.SS1.p1.12.m1.2.2.1" xref="S3.SS1.p1.12.m1.2.2.1.cmml"><mrow id="S3.SS1.p1.12.m1.2.2.1.3" xref="S3.SS1.p1.12.m1.2.2.1.3.cmml"><msubsup id="S3.SS1.p1.12.m1.2.2.1.3.1" xref="S3.SS1.p1.12.m1.2.2.1.3.1.cmml"><mo id="S3.SS1.p1.12.m1.2.2.1.3.1.2.2" rspace="0.167em" xref="S3.SS1.p1.12.m1.2.2.1.3.1.2.2.cmml">âˆ‡</mo><mi id="S3.SS1.p1.12.m1.2.2.1.3.1.2.3" xref="S3.SS1.p1.12.m1.2.2.1.3.1.2.3.cmml">ğœ½</mi><mn id="S3.SS1.p1.12.m1.2.2.1.3.1.3" xref="S3.SS1.p1.12.m1.2.2.1.3.1.3.cmml">2</mn></msubsup><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.12.m1.2.2.1.3.2" xref="S3.SS1.p1.12.m1.2.2.1.3.2.cmml">ğ’¥</mi></mrow><mo id="S3.SS1.p1.12.m1.2.2.1.2" xref="S3.SS1.p1.12.m1.2.2.1.2.cmml">â¢</mo><mrow id="S3.SS1.p1.12.m1.2.2.1.1.1" xref="S3.SS1.p1.12.m1.2.2.1.1.2.cmml"><mo id="S3.SS1.p1.12.m1.2.2.1.1.1.2" xref="S3.SS1.p1.12.m1.2.2.1.1.2.cmml">(</mo><mi id="S3.SS1.p1.12.m1.1.1" xref="S3.SS1.p1.12.m1.1.1.cmml">ğœ½</mi><mo id="S3.SS1.p1.12.m1.2.2.1.1.1.3" xref="S3.SS1.p1.12.m1.2.2.1.1.2.cmml">,</mo><msub id="S3.SS1.p1.12.m1.2.2.1.1.1.1" xref="S3.SS1.p1.12.m1.2.2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.12.m1.2.2.1.1.1.1.2" xref="S3.SS1.p1.12.m1.2.2.1.1.1.1.2.cmml">ğ’Ÿ</mi><mtext id="S3.SS1.p1.12.m1.2.2.1.1.1.1.3" xref="S3.SS1.p1.12.m1.2.2.1.1.1.1.3a.cmml">train</mtext></msub><mo id="S3.SS1.p1.12.m1.2.2.1.1.1.4" xref="S3.SS1.p1.12.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m1.2b"><apply id="S3.SS1.p1.12.m1.2.2.cmml" xref="S3.SS1.p1.12.m1.2.2"><eq id="S3.SS1.p1.12.m1.2.2.2.cmml" xref="S3.SS1.p1.12.m1.2.2.2"></eq><ci id="S3.SS1.p1.12.m1.2.2.3.cmml" xref="S3.SS1.p1.12.m1.2.2.3">ğ‡</ci><apply id="S3.SS1.p1.12.m1.2.2.1.cmml" xref="S3.SS1.p1.12.m1.2.2.1"><times id="S3.SS1.p1.12.m1.2.2.1.2.cmml" xref="S3.SS1.p1.12.m1.2.2.1.2"></times><apply id="S3.SS1.p1.12.m1.2.2.1.3.cmml" xref="S3.SS1.p1.12.m1.2.2.1.3"><apply id="S3.SS1.p1.12.m1.2.2.1.3.1.cmml" xref="S3.SS1.p1.12.m1.2.2.1.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m1.2.2.1.3.1.1.cmml" xref="S3.SS1.p1.12.m1.2.2.1.3.1">superscript</csymbol><apply id="S3.SS1.p1.12.m1.2.2.1.3.1.2.cmml" xref="S3.SS1.p1.12.m1.2.2.1.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m1.2.2.1.3.1.2.1.cmml" xref="S3.SS1.p1.12.m1.2.2.1.3.1">subscript</csymbol><ci id="S3.SS1.p1.12.m1.2.2.1.3.1.2.2.cmml" xref="S3.SS1.p1.12.m1.2.2.1.3.1.2.2">âˆ‡</ci><ci id="S3.SS1.p1.12.m1.2.2.1.3.1.2.3.cmml" xref="S3.SS1.p1.12.m1.2.2.1.3.1.2.3">ğœ½</ci></apply><cn id="S3.SS1.p1.12.m1.2.2.1.3.1.3.cmml" type="integer" xref="S3.SS1.p1.12.m1.2.2.1.3.1.3">2</cn></apply><ci id="S3.SS1.p1.12.m1.2.2.1.3.2.cmml" xref="S3.SS1.p1.12.m1.2.2.1.3.2">ğ’¥</ci></apply><interval closure="open" id="S3.SS1.p1.12.m1.2.2.1.1.2.cmml" xref="S3.SS1.p1.12.m1.2.2.1.1.1"><ci id="S3.SS1.p1.12.m1.1.1.cmml" xref="S3.SS1.p1.12.m1.1.1">ğœ½</ci><apply id="S3.SS1.p1.12.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.12.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m1.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p1.12.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.12.m1.2.2.1.1.1.1.2.cmml" xref="S3.SS1.p1.12.m1.2.2.1.1.1.1.2">ğ’Ÿ</ci><ci id="S3.SS1.p1.12.m1.2.2.1.1.1.1.3a.cmml" xref="S3.SS1.p1.12.m1.2.2.1.1.1.1.3"><mtext id="S3.SS1.p1.12.m1.2.2.1.1.1.1.3.cmml" mathsize="70%" xref="S3.SS1.p1.12.m1.2.2.1.1.1.1.3">train</mtext></ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m1.2c">\mathbf{H}=\nabla_{\bm{\theta}}^{2}\mathcal{J}\left(\bm{\theta},\mathcal{D}_{%
\text{train}}\right)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.12.m1.2d">bold_H = âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT caligraphic_J ( bold_italic_Î¸ , caligraphic_D start_POSTSUBSCRIPT train end_POSTSUBSCRIPT )</annotation></semantics></math> is the Hessian of the cost function.
Direct interpretation of <math alttext="\mathcal{I}_{\bm{\theta}}(z_{m})" class="ltx_Math" display="inline" id="S3.SS1.p1.13.m2.1"><semantics id="S3.SS1.p1.13.m2.1a"><mrow id="S3.SS1.p1.13.m2.1.1" xref="S3.SS1.p1.13.m2.1.1.cmml"><msub id="S3.SS1.p1.13.m2.1.1.3" xref="S3.SS1.p1.13.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.13.m2.1.1.3.2" xref="S3.SS1.p1.13.m2.1.1.3.2.cmml">â„</mi><mi id="S3.SS1.p1.13.m2.1.1.3.3" xref="S3.SS1.p1.13.m2.1.1.3.3.cmml">ğœ½</mi></msub><mo id="S3.SS1.p1.13.m2.1.1.2" xref="S3.SS1.p1.13.m2.1.1.2.cmml">â¢</mo><mrow id="S3.SS1.p1.13.m2.1.1.1.1" xref="S3.SS1.p1.13.m2.1.1.1.1.1.cmml"><mo id="S3.SS1.p1.13.m2.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.13.m2.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.p1.13.m2.1.1.1.1.1" xref="S3.SS1.p1.13.m2.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.13.m2.1.1.1.1.1.2" xref="S3.SS1.p1.13.m2.1.1.1.1.1.2.cmml">z</mi><mi id="S3.SS1.p1.13.m2.1.1.1.1.1.3" xref="S3.SS1.p1.13.m2.1.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.SS1.p1.13.m2.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.13.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m2.1b"><apply id="S3.SS1.p1.13.m2.1.1.cmml" xref="S3.SS1.p1.13.m2.1.1"><times id="S3.SS1.p1.13.m2.1.1.2.cmml" xref="S3.SS1.p1.13.m2.1.1.2"></times><apply id="S3.SS1.p1.13.m2.1.1.3.cmml" xref="S3.SS1.p1.13.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.13.m2.1.1.3.1.cmml" xref="S3.SS1.p1.13.m2.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.13.m2.1.1.3.2.cmml" xref="S3.SS1.p1.13.m2.1.1.3.2">â„</ci><ci id="S3.SS1.p1.13.m2.1.1.3.3.cmml" xref="S3.SS1.p1.13.m2.1.1.3.3">ğœ½</ci></apply><apply id="S3.SS1.p1.13.m2.1.1.1.1.1.cmml" xref="S3.SS1.p1.13.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.13.m2.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.13.m2.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.13.m2.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.13.m2.1.1.1.1.1.2">ğ‘§</ci><ci id="S3.SS1.p1.13.m2.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.13.m2.1.1.1.1.1.3">ğ‘š</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m2.1c">\mathcal{I}_{\bm{\theta}}(z_{m})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.13.m2.1d">caligraphic_I start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT )</annotation></semantics></math> can be difficult due to its high dimensionality, so it is common to instead compute the influence of <math alttext="{\bm{z}}_{m}" class="ltx_Math" display="inline" id="S3.SS1.p1.14.m3.1"><semantics id="S3.SS1.p1.14.m3.1a"><msub id="S3.SS1.p1.14.m3.1.1" xref="S3.SS1.p1.14.m3.1.1.cmml"><mi id="S3.SS1.p1.14.m3.1.1.2" xref="S3.SS1.p1.14.m3.1.1.2.cmml">ğ’›</mi><mi id="S3.SS1.p1.14.m3.1.1.3" xref="S3.SS1.p1.14.m3.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.14.m3.1b"><apply id="S3.SS1.p1.14.m3.1.1.cmml" xref="S3.SS1.p1.14.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.14.m3.1.1.1.cmml" xref="S3.SS1.p1.14.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.14.m3.1.1.2.cmml" xref="S3.SS1.p1.14.m3.1.1.2">ğ’›</ci><ci id="S3.SS1.p1.14.m3.1.1.3.cmml" xref="S3.SS1.p1.14.m3.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.14.m3.1c">{\bm{z}}_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.14.m3.1d">bold_italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> on a scalar-valued function of the parameters <math alttext="f(\bm{\theta})" class="ltx_Math" display="inline" id="S3.SS1.p1.15.m4.1"><semantics id="S3.SS1.p1.15.m4.1a"><mrow id="S3.SS1.p1.15.m4.1.2" xref="S3.SS1.p1.15.m4.1.2.cmml"><mi id="S3.SS1.p1.15.m4.1.2.2" xref="S3.SS1.p1.15.m4.1.2.2.cmml">f</mi><mo id="S3.SS1.p1.15.m4.1.2.1" xref="S3.SS1.p1.15.m4.1.2.1.cmml">â¢</mo><mrow id="S3.SS1.p1.15.m4.1.2.3.2" xref="S3.SS1.p1.15.m4.1.2.cmml"><mo id="S3.SS1.p1.15.m4.1.2.3.2.1" stretchy="false" xref="S3.SS1.p1.15.m4.1.2.cmml">(</mo><mi id="S3.SS1.p1.15.m4.1.1" xref="S3.SS1.p1.15.m4.1.1.cmml">ğœ½</mi><mo id="S3.SS1.p1.15.m4.1.2.3.2.2" stretchy="false" xref="S3.SS1.p1.15.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.15.m4.1b"><apply id="S3.SS1.p1.15.m4.1.2.cmml" xref="S3.SS1.p1.15.m4.1.2"><times id="S3.SS1.p1.15.m4.1.2.1.cmml" xref="S3.SS1.p1.15.m4.1.2.1"></times><ci id="S3.SS1.p1.15.m4.1.2.2.cmml" xref="S3.SS1.p1.15.m4.1.2.2">ğ‘“</ci><ci id="S3.SS1.p1.15.m4.1.1.cmml" xref="S3.SS1.p1.15.m4.1.1">ğœ½</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.15.m4.1c">f(\bm{\theta})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.15.m4.1d">italic_f ( bold_italic_Î¸ )</annotation></semantics></math>.
Using the chain rule for derivatives, this influence admits the closed-form:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{I}_{f}(z_{m})=\left.\frac{df(\bm{\theta})}{d\epsilon}\right|_{%
\epsilon=0}=-\nabla_{\bm{\theta}}f\left(\bm{\theta}\right)^{T}\mathbf{H}^{-1}%
\nabla_{\bm{\theta}}\mathcal{L}\left(z_{m},\bm{\theta}\right)." class="ltx_Math" display="block" id="S3.E3.m1.5"><semantics id="S3.E3.m1.5a"><mrow id="S3.E3.m1.5.5.1" xref="S3.E3.m1.5.5.1.1.cmml"><mrow id="S3.E3.m1.5.5.1.1" xref="S3.E3.m1.5.5.1.1.cmml"><mrow id="S3.E3.m1.5.5.1.1.1" xref="S3.E3.m1.5.5.1.1.1.cmml"><msub id="S3.E3.m1.5.5.1.1.1.3" xref="S3.E3.m1.5.5.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.5.5.1.1.1.3.2" xref="S3.E3.m1.5.5.1.1.1.3.2.cmml">â„</mi><mi id="S3.E3.m1.5.5.1.1.1.3.3" xref="S3.E3.m1.5.5.1.1.1.3.3.cmml">f</mi></msub><mo id="S3.E3.m1.5.5.1.1.1.2" xref="S3.E3.m1.5.5.1.1.1.2.cmml">â¢</mo><mrow id="S3.E3.m1.5.5.1.1.1.1.1" xref="S3.E3.m1.5.5.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.5.5.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.5.5.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E3.m1.5.5.1.1.1.1.1.1" xref="S3.E3.m1.5.5.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.5.5.1.1.1.1.1.1.2" xref="S3.E3.m1.5.5.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E3.m1.5.5.1.1.1.1.1.1.3" xref="S3.E3.m1.5.5.1.1.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.E3.m1.5.5.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.5.5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.5.5.1.1.4" xref="S3.E3.m1.5.5.1.1.4.cmml">=</mo><msub id="S3.E3.m1.5.5.1.1.5.2" xref="S3.E3.m1.5.5.1.1.5.1.cmml"><mrow id="S3.E3.m1.5.5.1.1.5.2.2" xref="S3.E3.m1.5.5.1.1.5.1.cmml"><mfrac id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.3" xref="S3.E3.m1.1.1.1.3.cmml">d</mi><mo id="S3.E3.m1.1.1.1.2" xref="S3.E3.m1.1.1.1.2.cmml">â¢</mo><mi id="S3.E3.m1.1.1.1.4" xref="S3.E3.m1.1.1.1.4.cmml">f</mi><mo id="S3.E3.m1.1.1.1.2a" xref="S3.E3.m1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E3.m1.1.1.1.5.2" xref="S3.E3.m1.1.1.1.cmml"><mo id="S3.E3.m1.1.1.1.5.2.1" stretchy="false" xref="S3.E3.m1.1.1.1.cmml">(</mo><mi id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">ğœ½</mi><mo id="S3.E3.m1.1.1.1.5.2.2" stretchy="false" xref="S3.E3.m1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E3.m1.1.1.3" xref="S3.E3.m1.1.1.3.cmml"><mi id="S3.E3.m1.1.1.3.2" xref="S3.E3.m1.1.1.3.2.cmml">d</mi><mo id="S3.E3.m1.1.1.3.1" xref="S3.E3.m1.1.1.3.1.cmml">â¢</mo><mi id="S3.E3.m1.1.1.3.3" xref="S3.E3.m1.1.1.3.3.cmml">Ïµ</mi></mrow></mfrac><mo id="S3.E3.m1.5.5.1.1.5.2.2.1" xref="S3.E3.m1.5.5.1.1.5.1.1.cmml">|</mo></mrow><mrow id="S3.E3.m1.2.2.1" xref="S3.E3.m1.2.2.1.cmml"><mi id="S3.E3.m1.2.2.1.2" xref="S3.E3.m1.2.2.1.2.cmml">Ïµ</mi><mo id="S3.E3.m1.2.2.1.1" xref="S3.E3.m1.2.2.1.1.cmml">=</mo><mn id="S3.E3.m1.2.2.1.3" xref="S3.E3.m1.2.2.1.3.cmml">0</mn></mrow></msub><mo id="S3.E3.m1.5.5.1.1.6" xref="S3.E3.m1.5.5.1.1.6.cmml">=</mo><mrow id="S3.E3.m1.5.5.1.1.2" xref="S3.E3.m1.5.5.1.1.2.cmml"><mo id="S3.E3.m1.5.5.1.1.2a" rspace="0.167em" xref="S3.E3.m1.5.5.1.1.2.cmml">âˆ’</mo><mrow id="S3.E3.m1.5.5.1.1.2.1" xref="S3.E3.m1.5.5.1.1.2.1.cmml"><mrow id="S3.E3.m1.5.5.1.1.2.1.3" xref="S3.E3.m1.5.5.1.1.2.1.3.cmml"><msub id="S3.E3.m1.5.5.1.1.2.1.3.1" xref="S3.E3.m1.5.5.1.1.2.1.3.1.cmml"><mo id="S3.E3.m1.5.5.1.1.2.1.3.1.2" rspace="0.167em" xref="S3.E3.m1.5.5.1.1.2.1.3.1.2.cmml">âˆ‡</mo><mi id="S3.E3.m1.5.5.1.1.2.1.3.1.3" xref="S3.E3.m1.5.5.1.1.2.1.3.1.3.cmml">ğœ½</mi></msub><mi id="S3.E3.m1.5.5.1.1.2.1.3.2" xref="S3.E3.m1.5.5.1.1.2.1.3.2.cmml">f</mi></mrow><mo id="S3.E3.m1.5.5.1.1.2.1.2" xref="S3.E3.m1.5.5.1.1.2.1.2.cmml">â¢</mo><msup id="S3.E3.m1.5.5.1.1.2.1.4" xref="S3.E3.m1.5.5.1.1.2.1.4.cmml"><mrow id="S3.E3.m1.5.5.1.1.2.1.4.2.2" xref="S3.E3.m1.5.5.1.1.2.1.4.cmml"><mo id="S3.E3.m1.5.5.1.1.2.1.4.2.2.1" xref="S3.E3.m1.5.5.1.1.2.1.4.cmml">(</mo><mi id="S3.E3.m1.3.3" xref="S3.E3.m1.3.3.cmml">ğœ½</mi><mo id="S3.E3.m1.5.5.1.1.2.1.4.2.2.2" xref="S3.E3.m1.5.5.1.1.2.1.4.cmml">)</mo></mrow><mi id="S3.E3.m1.5.5.1.1.2.1.4.3" xref="S3.E3.m1.5.5.1.1.2.1.4.3.cmml">T</mi></msup><mo id="S3.E3.m1.5.5.1.1.2.1.2a" xref="S3.E3.m1.5.5.1.1.2.1.2.cmml">â¢</mo><msup id="S3.E3.m1.5.5.1.1.2.1.5" xref="S3.E3.m1.5.5.1.1.2.1.5.cmml"><mi id="S3.E3.m1.5.5.1.1.2.1.5.2" xref="S3.E3.m1.5.5.1.1.2.1.5.2.cmml">ğ‡</mi><mrow id="S3.E3.m1.5.5.1.1.2.1.5.3" xref="S3.E3.m1.5.5.1.1.2.1.5.3.cmml"><mo id="S3.E3.m1.5.5.1.1.2.1.5.3a" xref="S3.E3.m1.5.5.1.1.2.1.5.3.cmml">âˆ’</mo><mn id="S3.E3.m1.5.5.1.1.2.1.5.3.2" xref="S3.E3.m1.5.5.1.1.2.1.5.3.2.cmml">1</mn></mrow></msup><mo id="S3.E3.m1.5.5.1.1.2.1.2b" lspace="0.167em" xref="S3.E3.m1.5.5.1.1.2.1.2.cmml">â¢</mo><mrow id="S3.E3.m1.5.5.1.1.2.1.6" xref="S3.E3.m1.5.5.1.1.2.1.6.cmml"><msub id="S3.E3.m1.5.5.1.1.2.1.6.1" xref="S3.E3.m1.5.5.1.1.2.1.6.1.cmml"><mo id="S3.E3.m1.5.5.1.1.2.1.6.1.2" rspace="0.167em" xref="S3.E3.m1.5.5.1.1.2.1.6.1.2.cmml">âˆ‡</mo><mi id="S3.E3.m1.5.5.1.1.2.1.6.1.3" xref="S3.E3.m1.5.5.1.1.2.1.6.1.3.cmml">ğœ½</mi></msub><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.5.5.1.1.2.1.6.2" xref="S3.E3.m1.5.5.1.1.2.1.6.2.cmml">â„’</mi></mrow><mo id="S3.E3.m1.5.5.1.1.2.1.2c" xref="S3.E3.m1.5.5.1.1.2.1.2.cmml">â¢</mo><mrow id="S3.E3.m1.5.5.1.1.2.1.1.1" xref="S3.E3.m1.5.5.1.1.2.1.1.2.cmml"><mo id="S3.E3.m1.5.5.1.1.2.1.1.1.2" xref="S3.E3.m1.5.5.1.1.2.1.1.2.cmml">(</mo><msub id="S3.E3.m1.5.5.1.1.2.1.1.1.1" xref="S3.E3.m1.5.5.1.1.2.1.1.1.1.cmml"><mi id="S3.E3.m1.5.5.1.1.2.1.1.1.1.2" xref="S3.E3.m1.5.5.1.1.2.1.1.1.1.2.cmml">z</mi><mi id="S3.E3.m1.5.5.1.1.2.1.1.1.1.3" xref="S3.E3.m1.5.5.1.1.2.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.E3.m1.5.5.1.1.2.1.1.1.3" xref="S3.E3.m1.5.5.1.1.2.1.1.2.cmml">,</mo><mi id="S3.E3.m1.4.4" xref="S3.E3.m1.4.4.cmml">ğœ½</mi><mo id="S3.E3.m1.5.5.1.1.2.1.1.1.4" xref="S3.E3.m1.5.5.1.1.2.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E3.m1.5.5.1.2" lspace="0em" xref="S3.E3.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.5b"><apply id="S3.E3.m1.5.5.1.1.cmml" xref="S3.E3.m1.5.5.1"><and id="S3.E3.m1.5.5.1.1a.cmml" xref="S3.E3.m1.5.5.1"></and><apply id="S3.E3.m1.5.5.1.1b.cmml" xref="S3.E3.m1.5.5.1"><eq id="S3.E3.m1.5.5.1.1.4.cmml" xref="S3.E3.m1.5.5.1.1.4"></eq><apply id="S3.E3.m1.5.5.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.1"><times id="S3.E3.m1.5.5.1.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.1.2"></times><apply id="S3.E3.m1.5.5.1.1.1.3.cmml" xref="S3.E3.m1.5.5.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.1.3.1.cmml" xref="S3.E3.m1.5.5.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.1.3.2.cmml" xref="S3.E3.m1.5.5.1.1.1.3.2">â„</ci><ci id="S3.E3.m1.5.5.1.1.1.3.3.cmml" xref="S3.E3.m1.5.5.1.1.1.3.3">ğ‘“</ci></apply><apply id="S3.E3.m1.5.5.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.2">ğ‘§</ci><ci id="S3.E3.m1.5.5.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.3">ğ‘š</ci></apply></apply><apply id="S3.E3.m1.5.5.1.1.5.1.cmml" xref="S3.E3.m1.5.5.1.1.5.2"><csymbol cd="latexml" id="S3.E3.m1.5.5.1.1.5.1.1.cmml" xref="S3.E3.m1.5.5.1.1.5.2.2.1">evaluated-at</csymbol><apply id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1"><divide id="S3.E3.m1.1.1.2.cmml" xref="S3.E3.m1.1.1"></divide><apply id="S3.E3.m1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"><times id="S3.E3.m1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.2"></times><ci id="S3.E3.m1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.3">ğ‘‘</ci><ci id="S3.E3.m1.1.1.1.4.cmml" xref="S3.E3.m1.1.1.1.4">ğ‘“</ci><ci id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1">ğœ½</ci></apply><apply id="S3.E3.m1.1.1.3.cmml" xref="S3.E3.m1.1.1.3"><times id="S3.E3.m1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.3.1"></times><ci id="S3.E3.m1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.3.2">ğ‘‘</ci><ci id="S3.E3.m1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.3.3">italic-Ïµ</ci></apply></apply><apply id="S3.E3.m1.2.2.1.cmml" xref="S3.E3.m1.2.2.1"><eq id="S3.E3.m1.2.2.1.1.cmml" xref="S3.E3.m1.2.2.1.1"></eq><ci id="S3.E3.m1.2.2.1.2.cmml" xref="S3.E3.m1.2.2.1.2">italic-Ïµ</ci><cn id="S3.E3.m1.2.2.1.3.cmml" type="integer" xref="S3.E3.m1.2.2.1.3">0</cn></apply></apply></apply><apply id="S3.E3.m1.5.5.1.1c.cmml" xref="S3.E3.m1.5.5.1"><eq id="S3.E3.m1.5.5.1.1.6.cmml" xref="S3.E3.m1.5.5.1.1.6"></eq><share href="https://arxiv.org/html/2505.19949v1#S3.E3.m1.5.5.1.1.5.cmml" id="S3.E3.m1.5.5.1.1d.cmml" xref="S3.E3.m1.5.5.1"></share><apply id="S3.E3.m1.5.5.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2"><minus id="S3.E3.m1.5.5.1.1.2.2.cmml" xref="S3.E3.m1.5.5.1.1.2"></minus><apply id="S3.E3.m1.5.5.1.1.2.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1"><times id="S3.E3.m1.5.5.1.1.2.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2.1.2"></times><apply id="S3.E3.m1.5.5.1.1.2.1.3.cmml" xref="S3.E3.m1.5.5.1.1.2.1.3"><apply id="S3.E3.m1.5.5.1.1.2.1.3.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1.3.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.2.1.3.1.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1.3.1">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.2.1.3.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2.1.3.1.2">âˆ‡</ci><ci id="S3.E3.m1.5.5.1.1.2.1.3.1.3.cmml" xref="S3.E3.m1.5.5.1.1.2.1.3.1.3">ğœ½</ci></apply><ci id="S3.E3.m1.5.5.1.1.2.1.3.2.cmml" xref="S3.E3.m1.5.5.1.1.2.1.3.2">ğ‘“</ci></apply><apply id="S3.E3.m1.5.5.1.1.2.1.4.cmml" xref="S3.E3.m1.5.5.1.1.2.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.2.1.4.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1.4">superscript</csymbol><ci id="S3.E3.m1.3.3.cmml" xref="S3.E3.m1.3.3">ğœ½</ci><ci id="S3.E3.m1.5.5.1.1.2.1.4.3.cmml" xref="S3.E3.m1.5.5.1.1.2.1.4.3">ğ‘‡</ci></apply><apply id="S3.E3.m1.5.5.1.1.2.1.5.cmml" xref="S3.E3.m1.5.5.1.1.2.1.5"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.2.1.5.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1.5">superscript</csymbol><ci id="S3.E3.m1.5.5.1.1.2.1.5.2.cmml" xref="S3.E3.m1.5.5.1.1.2.1.5.2">ğ‡</ci><apply id="S3.E3.m1.5.5.1.1.2.1.5.3.cmml" xref="S3.E3.m1.5.5.1.1.2.1.5.3"><minus id="S3.E3.m1.5.5.1.1.2.1.5.3.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1.5.3"></minus><cn id="S3.E3.m1.5.5.1.1.2.1.5.3.2.cmml" type="integer" xref="S3.E3.m1.5.5.1.1.2.1.5.3.2">1</cn></apply></apply><apply id="S3.E3.m1.5.5.1.1.2.1.6.cmml" xref="S3.E3.m1.5.5.1.1.2.1.6"><apply id="S3.E3.m1.5.5.1.1.2.1.6.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1.6.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.2.1.6.1.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1.6.1">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.2.1.6.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2.1.6.1.2">âˆ‡</ci><ci id="S3.E3.m1.5.5.1.1.2.1.6.1.3.cmml" xref="S3.E3.m1.5.5.1.1.2.1.6.1.3">ğœ½</ci></apply><ci id="S3.E3.m1.5.5.1.1.2.1.6.2.cmml" xref="S3.E3.m1.5.5.1.1.2.1.6.2">â„’</ci></apply><interval closure="open" id="S3.E3.m1.5.5.1.1.2.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2.1.1.1"><apply id="S3.E3.m1.5.5.1.1.2.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.2.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.2.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2.1.1.1.1.2">ğ‘§</ci><ci id="S3.E3.m1.5.5.1.1.2.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.1.1.2.1.1.1.1.3">ğ‘š</ci></apply><ci id="S3.E3.m1.4.4.cmml" xref="S3.E3.m1.4.4">ğœ½</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.5c">\mathcal{I}_{f}(z_{m})=\left.\frac{df(\bm{\theta})}{d\epsilon}\right|_{%
\epsilon=0}=-\nabla_{\bm{\theta}}f\left(\bm{\theta}\right)^{T}\mathbf{H}^{-1}%
\nabla_{\bm{\theta}}\mathcal{L}\left(z_{m},\bm{\theta}\right).</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.5d">caligraphic_I start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ) = divide start_ARG italic_d italic_f ( bold_italic_Î¸ ) end_ARG start_ARG italic_d italic_Ïµ end_ARG | start_POSTSUBSCRIPT italic_Ïµ = 0 end_POSTSUBSCRIPT = - âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT italic_f ( bold_italic_Î¸ ) start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT bold_H start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT caligraphic_L ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , bold_italic_Î¸ ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p1.18">A complete derivation of EquationÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3.E3" title="In 3.1 Preliminary: Influence Functions â€£ 3 Methodology â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">3</span></a> is delayed to AppendixÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A1" title="Appendix A Derivation of Influence Score â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">A</span></a>. Consequently, <math alttext="f(\bm{\theta})" class="ltx_Math" display="inline" id="S3.SS1.p1.16.m1.1"><semantics id="S3.SS1.p1.16.m1.1a"><mrow id="S3.SS1.p1.16.m1.1.2" xref="S3.SS1.p1.16.m1.1.2.cmml"><mi id="S3.SS1.p1.16.m1.1.2.2" xref="S3.SS1.p1.16.m1.1.2.2.cmml">f</mi><mo id="S3.SS1.p1.16.m1.1.2.1" xref="S3.SS1.p1.16.m1.1.2.1.cmml">â¢</mo><mrow id="S3.SS1.p1.16.m1.1.2.3.2" xref="S3.SS1.p1.16.m1.1.2.cmml"><mo id="S3.SS1.p1.16.m1.1.2.3.2.1" stretchy="false" xref="S3.SS1.p1.16.m1.1.2.cmml">(</mo><mi id="S3.SS1.p1.16.m1.1.1" xref="S3.SS1.p1.16.m1.1.1.cmml">ğœ½</mi><mo id="S3.SS1.p1.16.m1.1.2.3.2.2" stretchy="false" xref="S3.SS1.p1.16.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.16.m1.1b"><apply id="S3.SS1.p1.16.m1.1.2.cmml" xref="S3.SS1.p1.16.m1.1.2"><times id="S3.SS1.p1.16.m1.1.2.1.cmml" xref="S3.SS1.p1.16.m1.1.2.1"></times><ci id="S3.SS1.p1.16.m1.1.2.2.cmml" xref="S3.SS1.p1.16.m1.1.2.2">ğ‘“</ci><ci id="S3.SS1.p1.16.m1.1.1.cmml" xref="S3.SS1.p1.16.m1.1.1">ğœ½</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.16.m1.1c">f(\bm{\theta})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.16.m1.1d">italic_f ( bold_italic_Î¸ )</annotation></semantics></math> is expected to increase after upweighting the sample <math alttext="z_{m}" class="ltx_Math" display="inline" id="S3.SS1.p1.17.m2.1"><semantics id="S3.SS1.p1.17.m2.1a"><msub id="S3.SS1.p1.17.m2.1.1" xref="S3.SS1.p1.17.m2.1.1.cmml"><mi id="S3.SS1.p1.17.m2.1.1.2" xref="S3.SS1.p1.17.m2.1.1.2.cmml">z</mi><mi id="S3.SS1.p1.17.m2.1.1.3" xref="S3.SS1.p1.17.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.17.m2.1b"><apply id="S3.SS1.p1.17.m2.1.1.cmml" xref="S3.SS1.p1.17.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.17.m2.1.1.1.cmml" xref="S3.SS1.p1.17.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.17.m2.1.1.2.cmml" xref="S3.SS1.p1.17.m2.1.1.2">ğ‘§</ci><ci id="S3.SS1.p1.17.m2.1.1.3.cmml" xref="S3.SS1.p1.17.m2.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.17.m2.1c">z_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.17.m2.1d">italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> and then retraining the model if <math alttext="\mathcal{I}_{f}(z_{m})&gt;0" class="ltx_Math" display="inline" id="S3.SS1.p1.18.m3.1"><semantics id="S3.SS1.p1.18.m3.1a"><mrow id="S3.SS1.p1.18.m3.1.1" xref="S3.SS1.p1.18.m3.1.1.cmml"><mrow id="S3.SS1.p1.18.m3.1.1.1" xref="S3.SS1.p1.18.m3.1.1.1.cmml"><msub id="S3.SS1.p1.18.m3.1.1.1.3" xref="S3.SS1.p1.18.m3.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.18.m3.1.1.1.3.2" xref="S3.SS1.p1.18.m3.1.1.1.3.2.cmml">â„</mi><mi id="S3.SS1.p1.18.m3.1.1.1.3.3" xref="S3.SS1.p1.18.m3.1.1.1.3.3.cmml">f</mi></msub><mo id="S3.SS1.p1.18.m3.1.1.1.2" xref="S3.SS1.p1.18.m3.1.1.1.2.cmml">â¢</mo><mrow id="S3.SS1.p1.18.m3.1.1.1.1.1" xref="S3.SS1.p1.18.m3.1.1.1.1.1.1.cmml"><mo id="S3.SS1.p1.18.m3.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p1.18.m3.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS1.p1.18.m3.1.1.1.1.1.1" xref="S3.SS1.p1.18.m3.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.18.m3.1.1.1.1.1.1.2" xref="S3.SS1.p1.18.m3.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.SS1.p1.18.m3.1.1.1.1.1.1.3" xref="S3.SS1.p1.18.m3.1.1.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.SS1.p1.18.m3.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p1.18.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p1.18.m3.1.1.2" xref="S3.SS1.p1.18.m3.1.1.2.cmml">&gt;</mo><mn id="S3.SS1.p1.18.m3.1.1.3" xref="S3.SS1.p1.18.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.18.m3.1b"><apply id="S3.SS1.p1.18.m3.1.1.cmml" xref="S3.SS1.p1.18.m3.1.1"><gt id="S3.SS1.p1.18.m3.1.1.2.cmml" xref="S3.SS1.p1.18.m3.1.1.2"></gt><apply id="S3.SS1.p1.18.m3.1.1.1.cmml" xref="S3.SS1.p1.18.m3.1.1.1"><times id="S3.SS1.p1.18.m3.1.1.1.2.cmml" xref="S3.SS1.p1.18.m3.1.1.1.2"></times><apply id="S3.SS1.p1.18.m3.1.1.1.3.cmml" xref="S3.SS1.p1.18.m3.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.18.m3.1.1.1.3.1.cmml" xref="S3.SS1.p1.18.m3.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.18.m3.1.1.1.3.2.cmml" xref="S3.SS1.p1.18.m3.1.1.1.3.2">â„</ci><ci id="S3.SS1.p1.18.m3.1.1.1.3.3.cmml" xref="S3.SS1.p1.18.m3.1.1.1.3.3">ğ‘“</ci></apply><apply id="S3.SS1.p1.18.m3.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.18.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.18.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.18.m3.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.18.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.18.m3.1.1.1.1.1.1.2">ğ‘§</ci><ci id="S3.SS1.p1.18.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.18.m3.1.1.1.1.1.1.3">ğ‘š</ci></apply></apply><cn id="S3.SS1.p1.18.m3.1.1.3.cmml" type="integer" xref="S3.SS1.p1.18.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.18.m3.1c">\mathcal{I}_{f}(z_{m})&gt;0</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.18.m3.1d">caligraphic_I start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ) &gt; 0</annotation></semantics></math>, as</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="f(\bm{\theta}(\epsilon))-f(\bm{\theta})\approx\mathcal{I}_{f}(z_{m})\epsilon=-%
\nabla_{\bm{\theta}}f\left(\bm{\theta}\right)^{T}\mathbf{H}^{-1}\nabla_{\bm{%
\theta}}\mathcal{L}\left(z_{m},\bm{\theta}\right)\epsilon." class="ltx_Math" display="block" id="S3.E4.m1.5"><semantics id="S3.E4.m1.5a"><mrow id="S3.E4.m1.5.5.1" xref="S3.E4.m1.5.5.1.1.cmml"><mrow id="S3.E4.m1.5.5.1.1" xref="S3.E4.m1.5.5.1.1.cmml"><mrow id="S3.E4.m1.5.5.1.1.1" xref="S3.E4.m1.5.5.1.1.1.cmml"><mrow id="S3.E4.m1.5.5.1.1.1.1" xref="S3.E4.m1.5.5.1.1.1.1.cmml"><mi id="S3.E4.m1.5.5.1.1.1.1.3" xref="S3.E4.m1.5.5.1.1.1.1.3.cmml">f</mi><mo id="S3.E4.m1.5.5.1.1.1.1.2" xref="S3.E4.m1.5.5.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E4.m1.5.5.1.1.1.1.1.1" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml"><mo id="S3.E4.m1.5.5.1.1.1.1.1.1.2" stretchy="false" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.5.5.1.1.1.1.1.1.1" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.5.5.1.1.1.1.1.1.1.2" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.2.cmml">ğœ½</mi><mo id="S3.E4.m1.5.5.1.1.1.1.1.1.1.1" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.1.cmml">â¢</mo><mrow id="S3.E4.m1.5.5.1.1.1.1.1.1.1.3.2" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml"><mo id="S3.E4.m1.5.5.1.1.1.1.1.1.1.3.2.1" stretchy="false" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml">Ïµ</mi><mo id="S3.E4.m1.5.5.1.1.1.1.1.1.1.3.2.2" stretchy="false" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.5.5.1.1.1.1.1.1.3" stretchy="false" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.5.5.1.1.1.2" xref="S3.E4.m1.5.5.1.1.1.2.cmml">âˆ’</mo><mrow id="S3.E4.m1.5.5.1.1.1.3" xref="S3.E4.m1.5.5.1.1.1.3.cmml"><mi id="S3.E4.m1.5.5.1.1.1.3.2" xref="S3.E4.m1.5.5.1.1.1.3.2.cmml">f</mi><mo id="S3.E4.m1.5.5.1.1.1.3.1" xref="S3.E4.m1.5.5.1.1.1.3.1.cmml">â¢</mo><mrow id="S3.E4.m1.5.5.1.1.1.3.3.2" xref="S3.E4.m1.5.5.1.1.1.3.cmml"><mo id="S3.E4.m1.5.5.1.1.1.3.3.2.1" stretchy="false" xref="S3.E4.m1.5.5.1.1.1.3.cmml">(</mo><mi id="S3.E4.m1.2.2" xref="S3.E4.m1.2.2.cmml">ğœ½</mi><mo id="S3.E4.m1.5.5.1.1.1.3.3.2.2" stretchy="false" xref="S3.E4.m1.5.5.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E4.m1.5.5.1.1.5" xref="S3.E4.m1.5.5.1.1.5.cmml">â‰ˆ</mo><mrow id="S3.E4.m1.5.5.1.1.2" xref="S3.E4.m1.5.5.1.1.2.cmml"><msub id="S3.E4.m1.5.5.1.1.2.3" xref="S3.E4.m1.5.5.1.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.5.5.1.1.2.3.2" xref="S3.E4.m1.5.5.1.1.2.3.2.cmml">â„</mi><mi id="S3.E4.m1.5.5.1.1.2.3.3" xref="S3.E4.m1.5.5.1.1.2.3.3.cmml">f</mi></msub><mo id="S3.E4.m1.5.5.1.1.2.2" xref="S3.E4.m1.5.5.1.1.2.2.cmml">â¢</mo><mrow id="S3.E4.m1.5.5.1.1.2.1.1" xref="S3.E4.m1.5.5.1.1.2.1.1.1.cmml"><mo id="S3.E4.m1.5.5.1.1.2.1.1.2" stretchy="false" xref="S3.E4.m1.5.5.1.1.2.1.1.1.cmml">(</mo><msub id="S3.E4.m1.5.5.1.1.2.1.1.1" xref="S3.E4.m1.5.5.1.1.2.1.1.1.cmml"><mi id="S3.E4.m1.5.5.1.1.2.1.1.1.2" xref="S3.E4.m1.5.5.1.1.2.1.1.1.2.cmml">z</mi><mi id="S3.E4.m1.5.5.1.1.2.1.1.1.3" xref="S3.E4.m1.5.5.1.1.2.1.1.1.3.cmml">m</mi></msub><mo id="S3.E4.m1.5.5.1.1.2.1.1.3" stretchy="false" xref="S3.E4.m1.5.5.1.1.2.1.1.1.cmml">)</mo></mrow><mo id="S3.E4.m1.5.5.1.1.2.2a" xref="S3.E4.m1.5.5.1.1.2.2.cmml">â¢</mo><mi id="S3.E4.m1.5.5.1.1.2.4" xref="S3.E4.m1.5.5.1.1.2.4.cmml">Ïµ</mi></mrow><mo id="S3.E4.m1.5.5.1.1.6" xref="S3.E4.m1.5.5.1.1.6.cmml">=</mo><mrow id="S3.E4.m1.5.5.1.1.3" xref="S3.E4.m1.5.5.1.1.3.cmml"><mo id="S3.E4.m1.5.5.1.1.3a" rspace="0.167em" xref="S3.E4.m1.5.5.1.1.3.cmml">âˆ’</mo><mrow id="S3.E4.m1.5.5.1.1.3.1" xref="S3.E4.m1.5.5.1.1.3.1.cmml"><mrow id="S3.E4.m1.5.5.1.1.3.1.3" xref="S3.E4.m1.5.5.1.1.3.1.3.cmml"><msub id="S3.E4.m1.5.5.1.1.3.1.3.1" xref="S3.E4.m1.5.5.1.1.3.1.3.1.cmml"><mo id="S3.E4.m1.5.5.1.1.3.1.3.1.2" rspace="0.167em" xref="S3.E4.m1.5.5.1.1.3.1.3.1.2.cmml">âˆ‡</mo><mi id="S3.E4.m1.5.5.1.1.3.1.3.1.3" xref="S3.E4.m1.5.5.1.1.3.1.3.1.3.cmml">ğœ½</mi></msub><mi id="S3.E4.m1.5.5.1.1.3.1.3.2" xref="S3.E4.m1.5.5.1.1.3.1.3.2.cmml">f</mi></mrow><mo id="S3.E4.m1.5.5.1.1.3.1.2" xref="S3.E4.m1.5.5.1.1.3.1.2.cmml">â¢</mo><msup id="S3.E4.m1.5.5.1.1.3.1.4" xref="S3.E4.m1.5.5.1.1.3.1.4.cmml"><mrow id="S3.E4.m1.5.5.1.1.3.1.4.2.2" xref="S3.E4.m1.5.5.1.1.3.1.4.cmml"><mo id="S3.E4.m1.5.5.1.1.3.1.4.2.2.1" xref="S3.E4.m1.5.5.1.1.3.1.4.cmml">(</mo><mi id="S3.E4.m1.3.3" xref="S3.E4.m1.3.3.cmml">ğœ½</mi><mo id="S3.E4.m1.5.5.1.1.3.1.4.2.2.2" xref="S3.E4.m1.5.5.1.1.3.1.4.cmml">)</mo></mrow><mi id="S3.E4.m1.5.5.1.1.3.1.4.3" xref="S3.E4.m1.5.5.1.1.3.1.4.3.cmml">T</mi></msup><mo id="S3.E4.m1.5.5.1.1.3.1.2a" xref="S3.E4.m1.5.5.1.1.3.1.2.cmml">â¢</mo><msup id="S3.E4.m1.5.5.1.1.3.1.5" xref="S3.E4.m1.5.5.1.1.3.1.5.cmml"><mi id="S3.E4.m1.5.5.1.1.3.1.5.2" xref="S3.E4.m1.5.5.1.1.3.1.5.2.cmml">ğ‡</mi><mrow id="S3.E4.m1.5.5.1.1.3.1.5.3" xref="S3.E4.m1.5.5.1.1.3.1.5.3.cmml"><mo id="S3.E4.m1.5.5.1.1.3.1.5.3a" xref="S3.E4.m1.5.5.1.1.3.1.5.3.cmml">âˆ’</mo><mn id="S3.E4.m1.5.5.1.1.3.1.5.3.2" xref="S3.E4.m1.5.5.1.1.3.1.5.3.2.cmml">1</mn></mrow></msup><mo id="S3.E4.m1.5.5.1.1.3.1.2b" lspace="0.167em" xref="S3.E4.m1.5.5.1.1.3.1.2.cmml">â¢</mo><mrow id="S3.E4.m1.5.5.1.1.3.1.6" xref="S3.E4.m1.5.5.1.1.3.1.6.cmml"><msub id="S3.E4.m1.5.5.1.1.3.1.6.1" xref="S3.E4.m1.5.5.1.1.3.1.6.1.cmml"><mo id="S3.E4.m1.5.5.1.1.3.1.6.1.2" rspace="0.167em" xref="S3.E4.m1.5.5.1.1.3.1.6.1.2.cmml">âˆ‡</mo><mi id="S3.E4.m1.5.5.1.1.3.1.6.1.3" xref="S3.E4.m1.5.5.1.1.3.1.6.1.3.cmml">ğœ½</mi></msub><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.5.5.1.1.3.1.6.2" xref="S3.E4.m1.5.5.1.1.3.1.6.2.cmml">â„’</mi></mrow><mo id="S3.E4.m1.5.5.1.1.3.1.2c" xref="S3.E4.m1.5.5.1.1.3.1.2.cmml">â¢</mo><mrow id="S3.E4.m1.5.5.1.1.3.1.1.1" xref="S3.E4.m1.5.5.1.1.3.1.1.2.cmml"><mo id="S3.E4.m1.5.5.1.1.3.1.1.1.2" xref="S3.E4.m1.5.5.1.1.3.1.1.2.cmml">(</mo><msub id="S3.E4.m1.5.5.1.1.3.1.1.1.1" xref="S3.E4.m1.5.5.1.1.3.1.1.1.1.cmml"><mi id="S3.E4.m1.5.5.1.1.3.1.1.1.1.2" xref="S3.E4.m1.5.5.1.1.3.1.1.1.1.2.cmml">z</mi><mi id="S3.E4.m1.5.5.1.1.3.1.1.1.1.3" xref="S3.E4.m1.5.5.1.1.3.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.E4.m1.5.5.1.1.3.1.1.1.3" xref="S3.E4.m1.5.5.1.1.3.1.1.2.cmml">,</mo><mi id="S3.E4.m1.4.4" xref="S3.E4.m1.4.4.cmml">ğœ½</mi><mo id="S3.E4.m1.5.5.1.1.3.1.1.1.4" xref="S3.E4.m1.5.5.1.1.3.1.1.2.cmml">)</mo></mrow><mo id="S3.E4.m1.5.5.1.1.3.1.2d" xref="S3.E4.m1.5.5.1.1.3.1.2.cmml">â¢</mo><mi id="S3.E4.m1.5.5.1.1.3.1.7" xref="S3.E4.m1.5.5.1.1.3.1.7.cmml">Ïµ</mi></mrow></mrow></mrow><mo id="S3.E4.m1.5.5.1.2" lspace="0em" xref="S3.E4.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.5b"><apply id="S3.E4.m1.5.5.1.1.cmml" xref="S3.E4.m1.5.5.1"><and id="S3.E4.m1.5.5.1.1a.cmml" xref="S3.E4.m1.5.5.1"></and><apply id="S3.E4.m1.5.5.1.1b.cmml" xref="S3.E4.m1.5.5.1"><approx id="S3.E4.m1.5.5.1.1.5.cmml" xref="S3.E4.m1.5.5.1.1.5"></approx><apply id="S3.E4.m1.5.5.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.1"><minus id="S3.E4.m1.5.5.1.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.1.2"></minus><apply id="S3.E4.m1.5.5.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.1.1"><times id="S3.E4.m1.5.5.1.1.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.1.1.2"></times><ci id="S3.E4.m1.5.5.1.1.1.1.3.cmml" xref="S3.E4.m1.5.5.1.1.1.1.3">ğ‘“</ci><apply id="S3.E4.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1.1"><times id="S3.E4.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.1"></times><ci id="S3.E4.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.1.1.1.1.1.2">ğœ½</ci><ci id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1">italic-Ïµ</ci></apply></apply><apply id="S3.E4.m1.5.5.1.1.1.3.cmml" xref="S3.E4.m1.5.5.1.1.1.3"><times id="S3.E4.m1.5.5.1.1.1.3.1.cmml" xref="S3.E4.m1.5.5.1.1.1.3.1"></times><ci id="S3.E4.m1.5.5.1.1.1.3.2.cmml" xref="S3.E4.m1.5.5.1.1.1.3.2">ğ‘“</ci><ci id="S3.E4.m1.2.2.cmml" xref="S3.E4.m1.2.2">ğœ½</ci></apply></apply><apply id="S3.E4.m1.5.5.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.2"><times id="S3.E4.m1.5.5.1.1.2.2.cmml" xref="S3.E4.m1.5.5.1.1.2.2"></times><apply id="S3.E4.m1.5.5.1.1.2.3.cmml" xref="S3.E4.m1.5.5.1.1.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.2.3.1.cmml" xref="S3.E4.m1.5.5.1.1.2.3">subscript</csymbol><ci id="S3.E4.m1.5.5.1.1.2.3.2.cmml" xref="S3.E4.m1.5.5.1.1.2.3.2">â„</ci><ci id="S3.E4.m1.5.5.1.1.2.3.3.cmml" xref="S3.E4.m1.5.5.1.1.2.3.3">ğ‘“</ci></apply><apply id="S3.E4.m1.5.5.1.1.2.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.2.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.2.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.2.1.1">subscript</csymbol><ci id="S3.E4.m1.5.5.1.1.2.1.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.2.1.1.1.2">ğ‘§</ci><ci id="S3.E4.m1.5.5.1.1.2.1.1.1.3.cmml" xref="S3.E4.m1.5.5.1.1.2.1.1.1.3">ğ‘š</ci></apply><ci id="S3.E4.m1.5.5.1.1.2.4.cmml" xref="S3.E4.m1.5.5.1.1.2.4">italic-Ïµ</ci></apply></apply><apply id="S3.E4.m1.5.5.1.1c.cmml" xref="S3.E4.m1.5.5.1"><eq id="S3.E4.m1.5.5.1.1.6.cmml" xref="S3.E4.m1.5.5.1.1.6"></eq><share href="https://arxiv.org/html/2505.19949v1#S3.E4.m1.5.5.1.1.2.cmml" id="S3.E4.m1.5.5.1.1d.cmml" xref="S3.E4.m1.5.5.1"></share><apply id="S3.E4.m1.5.5.1.1.3.cmml" xref="S3.E4.m1.5.5.1.1.3"><minus id="S3.E4.m1.5.5.1.1.3.2.cmml" xref="S3.E4.m1.5.5.1.1.3"></minus><apply id="S3.E4.m1.5.5.1.1.3.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1"><times id="S3.E4.m1.5.5.1.1.3.1.2.cmml" xref="S3.E4.m1.5.5.1.1.3.1.2"></times><apply id="S3.E4.m1.5.5.1.1.3.1.3.cmml" xref="S3.E4.m1.5.5.1.1.3.1.3"><apply id="S3.E4.m1.5.5.1.1.3.1.3.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1.3.1"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.3.1.3.1.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1.3.1">subscript</csymbol><ci id="S3.E4.m1.5.5.1.1.3.1.3.1.2.cmml" xref="S3.E4.m1.5.5.1.1.3.1.3.1.2">âˆ‡</ci><ci id="S3.E4.m1.5.5.1.1.3.1.3.1.3.cmml" xref="S3.E4.m1.5.5.1.1.3.1.3.1.3">ğœ½</ci></apply><ci id="S3.E4.m1.5.5.1.1.3.1.3.2.cmml" xref="S3.E4.m1.5.5.1.1.3.1.3.2">ğ‘“</ci></apply><apply id="S3.E4.m1.5.5.1.1.3.1.4.cmml" xref="S3.E4.m1.5.5.1.1.3.1.4"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.3.1.4.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1.4">superscript</csymbol><ci id="S3.E4.m1.3.3.cmml" xref="S3.E4.m1.3.3">ğœ½</ci><ci id="S3.E4.m1.5.5.1.1.3.1.4.3.cmml" xref="S3.E4.m1.5.5.1.1.3.1.4.3">ğ‘‡</ci></apply><apply id="S3.E4.m1.5.5.1.1.3.1.5.cmml" xref="S3.E4.m1.5.5.1.1.3.1.5"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.3.1.5.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1.5">superscript</csymbol><ci id="S3.E4.m1.5.5.1.1.3.1.5.2.cmml" xref="S3.E4.m1.5.5.1.1.3.1.5.2">ğ‡</ci><apply id="S3.E4.m1.5.5.1.1.3.1.5.3.cmml" xref="S3.E4.m1.5.5.1.1.3.1.5.3"><minus id="S3.E4.m1.5.5.1.1.3.1.5.3.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1.5.3"></minus><cn id="S3.E4.m1.5.5.1.1.3.1.5.3.2.cmml" type="integer" xref="S3.E4.m1.5.5.1.1.3.1.5.3.2">1</cn></apply></apply><apply id="S3.E4.m1.5.5.1.1.3.1.6.cmml" xref="S3.E4.m1.5.5.1.1.3.1.6"><apply id="S3.E4.m1.5.5.1.1.3.1.6.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1.6.1"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.3.1.6.1.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1.6.1">subscript</csymbol><ci id="S3.E4.m1.5.5.1.1.3.1.6.1.2.cmml" xref="S3.E4.m1.5.5.1.1.3.1.6.1.2">âˆ‡</ci><ci id="S3.E4.m1.5.5.1.1.3.1.6.1.3.cmml" xref="S3.E4.m1.5.5.1.1.3.1.6.1.3">ğœ½</ci></apply><ci id="S3.E4.m1.5.5.1.1.3.1.6.2.cmml" xref="S3.E4.m1.5.5.1.1.3.1.6.2">â„’</ci></apply><interval closure="open" id="S3.E4.m1.5.5.1.1.3.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.3.1.1.1"><apply id="S3.E4.m1.5.5.1.1.3.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.5.5.1.1.3.1.1.1.1.1.cmml" xref="S3.E4.m1.5.5.1.1.3.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.5.5.1.1.3.1.1.1.1.2.cmml" xref="S3.E4.m1.5.5.1.1.3.1.1.1.1.2">ğ‘§</ci><ci id="S3.E4.m1.5.5.1.1.3.1.1.1.1.3.cmml" xref="S3.E4.m1.5.5.1.1.3.1.1.1.1.3">ğ‘š</ci></apply><ci id="S3.E4.m1.4.4.cmml" xref="S3.E4.m1.4.4">ğœ½</ci></interval><ci id="S3.E4.m1.5.5.1.1.3.1.7.cmml" xref="S3.E4.m1.5.5.1.1.3.1.7">italic-Ïµ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.5c">f(\bm{\theta}(\epsilon))-f(\bm{\theta})\approx\mathcal{I}_{f}(z_{m})\epsilon=-%
\nabla_{\bm{\theta}}f\left(\bm{\theta}\right)^{T}\mathbf{H}^{-1}\nabla_{\bm{%
\theta}}\mathcal{L}\left(z_{m},\bm{\theta}\right)\epsilon.</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.5d">italic_f ( bold_italic_Î¸ ( italic_Ïµ ) ) - italic_f ( bold_italic_Î¸ ) â‰ˆ caligraphic_I start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ) italic_Ïµ = - âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT italic_f ( bold_italic_Î¸ ) start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT bold_H start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT caligraphic_L ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , bold_italic_Î¸ ) italic_Ïµ .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p1.20">For transformer-based LLMs with billions of parameters, the above <math alttext="\mathbf{H}" class="ltx_Math" display="inline" id="S3.SS1.p1.19.m1.1"><semantics id="S3.SS1.p1.19.m1.1a"><mi id="S3.SS1.p1.19.m1.1.1" xref="S3.SS1.p1.19.m1.1.1.cmml">ğ‡</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.19.m1.1b"><ci id="S3.SS1.p1.19.m1.1.1.cmml" xref="S3.SS1.p1.19.m1.1.1">ğ‡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.19.m1.1c">\mathbf{H}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.19.m1.1d">bold_H</annotation></semantics></math> is intractable.
To address this, <cite class="ltx_cite ltx_citemacro_citet">Grosse etÂ al. [<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib8" title="">8</a>]</cite> propose to approximate <math alttext="\mathbf{H}" class="ltx_Math" display="inline" id="S3.SS1.p1.20.m2.1"><semantics id="S3.SS1.p1.20.m2.1a"><mi id="S3.SS1.p1.20.m2.1.1" xref="S3.SS1.p1.20.m2.1.1.cmml">ğ‡</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.20.m2.1b"><ci id="S3.SS1.p1.20.m2.1.1.cmml" xref="S3.SS1.p1.20.m2.1.1">ğ‡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.20.m2.1c">\mathbf{H}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.20.m2.1d">bold_H</annotation></semantics></math> using the Eigenvalue-Corrected Kronecker-Factored Approximate Curvature (EK-FAC) methodÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib6" title="">6</a>]</cite>, which introduces simplifying assumptions such as layer-wise independence and restricts computation only to the MLP parameters within the model.
Given the effectiveness of such a strategy, we also employ it to effectively estimate influence scores.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Attributing LLM Reasoning to Training Data via Influence Functions</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.4">We now introduce Infra, our adaptation of influence functions to attribute LLM reasoning on challenging math and code tasks. As mentioned, our setting is mainly an SFT process with CoTs generated by a stronger model to improve the reasoning abilities of the LLM at hand.
We are interested in identifying the most influential training data to improve model performance. Since task accuracy is non-differentiable with respect to <math alttext="\bm{\theta}" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">ğœ½</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">ğœ½</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\bm{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">bold_italic_Î¸</annotation></semantics></math>, we instead adopt a smooth surrogate: the mean log-likelihood over a set of correctly answered examples. Let <math alttext="\mathcal{D}_{\text{correct}}=\{({\bm{x}}_{i},{\bm{y}}_{i})\}_{i=1}^{n}" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><mrow id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><msub id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.2.m2.1.1.3.2" xref="S3.SS2.p1.2.m2.1.1.3.2.cmml">ğ’Ÿ</mi><mtext id="S3.SS2.p1.2.m2.1.1.3.3" xref="S3.SS2.p1.2.m2.1.1.3.3a.cmml">correct</mtext></msub><mo id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">=</mo><msubsup id="S3.SS2.p1.2.m2.1.1.1" xref="S3.SS2.p1.2.m2.1.1.1.cmml"><mrow id="S3.SS2.p1.2.m2.1.1.1.1.1.1" xref="S3.SS2.p1.2.m2.1.1.1.1.1.2.cmml"><mo id="S3.SS2.p1.2.m2.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p1.2.m2.1.1.1.1.1.2.cmml">{</mo><mrow id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.3.cmml"><mo id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.3" stretchy="false" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.3.cmml">(</mo><msub id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.2.cmml">ğ’™</mi><mi id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.4" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.2" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.2.cmml">ğ’š</mi><mi id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.3" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.5" stretchy="false" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo id="S3.SS2.p1.2.m2.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p1.2.m2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p1.2.m2.1.1.1.1.3" xref="S3.SS2.p1.2.m2.1.1.1.1.3.cmml"><mi id="S3.SS2.p1.2.m2.1.1.1.1.3.2" xref="S3.SS2.p1.2.m2.1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS2.p1.2.m2.1.1.1.1.3.1" xref="S3.SS2.p1.2.m2.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p1.2.m2.1.1.1.1.3.3" xref="S3.SS2.p1.2.m2.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.p1.2.m2.1.1.1.3" xref="S3.SS2.p1.2.m2.1.1.1.3.cmml">n</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><eq id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2"></eq><apply id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.3.1.cmml" xref="S3.SS2.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.3.2.cmml" xref="S3.SS2.p1.2.m2.1.1.3.2">ğ’Ÿ</ci><ci id="S3.SS2.p1.2.m2.1.1.3.3a.cmml" xref="S3.SS2.p1.2.m2.1.1.3.3"><mtext id="S3.SS2.p1.2.m2.1.1.3.3.cmml" mathsize="70%" xref="S3.SS2.p1.2.m2.1.1.3.3">correct</mtext></ci></apply><apply id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1">superscript</csymbol><apply id="S3.SS2.p1.2.m2.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1">subscript</csymbol><set id="S3.SS2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1"><interval closure="open" id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2"><apply id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.2">ğ’™</ci><ci id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.1.1.3">ğ‘–</ci></apply><apply id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.2">ğ’š</ci><ci id="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.1.1.1.2.2.3">ğ‘–</ci></apply></interval></set><apply id="S3.SS2.p1.2.m2.1.1.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.3"><eq id="S3.SS2.p1.2.m2.1.1.1.1.3.1.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.3.1"></eq><ci id="S3.SS2.p1.2.m2.1.1.1.1.3.2.cmml" xref="S3.SS2.p1.2.m2.1.1.1.1.3.2">ğ‘–</ci><cn id="S3.SS2.p1.2.m2.1.1.1.1.3.3.cmml" type="integer" xref="S3.SS2.p1.2.m2.1.1.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.p1.2.m2.1.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.1.3">ğ‘›</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">\mathcal{D}_{\text{correct}}=\{({\bm{x}}_{i},{\bm{y}}_{i})\}_{i=1}^{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">caligraphic_D start_POSTSUBSCRIPT correct end_POSTSUBSCRIPT = { ( bold_italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , bold_italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT</annotation></semantics></math> denote a collection of problems <math alttext="{\bm{x}}_{i}" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><msub id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml"><mi id="S3.SS2.p1.3.m3.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">ğ’™</mi><mi id="S3.SS2.p1.3.m3.1.1.3" xref="S3.SS2.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.2">ğ’™</ci><ci id="S3.SS2.p1.3.m3.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">{\bm{x}}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.1d">bold_italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> paired with correct answers <math alttext="{\bm{y}}_{i}" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.1"><semantics id="S3.SS2.p1.4.m4.1a"><msub id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><mi id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">ğ’š</mi><mi id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2">ğ’š</ci><ci id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">{\bm{y}}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m4.1d">bold_italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, we define the surrogate objective as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="f(\bm{\theta})=\frac{1}{n}\sum_{i=1}^{n}\log p({\bm{y}}_{i}|{\bm{x}}_{i};\bm{%
\theta})," class="ltx_Math" display="block" id="S3.E5.m1.3"><semantics id="S3.E5.m1.3a"><mrow id="S3.E5.m1.3.3.1" xref="S3.E5.m1.3.3.1.1.cmml"><mrow id="S3.E5.m1.3.3.1.1" xref="S3.E5.m1.3.3.1.1.cmml"><mrow id="S3.E5.m1.3.3.1.1.3" xref="S3.E5.m1.3.3.1.1.3.cmml"><mi id="S3.E5.m1.3.3.1.1.3.2" xref="S3.E5.m1.3.3.1.1.3.2.cmml">f</mi><mo id="S3.E5.m1.3.3.1.1.3.1" xref="S3.E5.m1.3.3.1.1.3.1.cmml">â¢</mo><mrow id="S3.E5.m1.3.3.1.1.3.3.2" xref="S3.E5.m1.3.3.1.1.3.cmml"><mo id="S3.E5.m1.3.3.1.1.3.3.2.1" stretchy="false" xref="S3.E5.m1.3.3.1.1.3.cmml">(</mo><mi id="S3.E5.m1.1.1" xref="S3.E5.m1.1.1.cmml">ğœ½</mi><mo id="S3.E5.m1.3.3.1.1.3.3.2.2" stretchy="false" xref="S3.E5.m1.3.3.1.1.3.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.3.3.1.1.2" xref="S3.E5.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E5.m1.3.3.1.1.1" xref="S3.E5.m1.3.3.1.1.1.cmml"><mfrac id="S3.E5.m1.3.3.1.1.1.3" xref="S3.E5.m1.3.3.1.1.1.3.cmml"><mn id="S3.E5.m1.3.3.1.1.1.3.2" xref="S3.E5.m1.3.3.1.1.1.3.2.cmml">1</mn><mi id="S3.E5.m1.3.3.1.1.1.3.3" xref="S3.E5.m1.3.3.1.1.1.3.3.cmml">n</mi></mfrac><mo id="S3.E5.m1.3.3.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.2.cmml">â¢</mo><mrow id="S3.E5.m1.3.3.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.cmml"><munderover id="S3.E5.m1.3.3.1.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.1.2.cmml"><mo id="S3.E5.m1.3.3.1.1.1.1.2.2.2" movablelimits="false" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2.cmml">âˆ‘</mo><mrow id="S3.E5.m1.3.3.1.1.1.1.2.2.3" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.cmml"><mi id="S3.E5.m1.3.3.1.1.1.1.2.2.3.2" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E5.m1.3.3.1.1.1.1.2.2.3.1" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E5.m1.3.3.1.1.1.1.2.2.3.3" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E5.m1.3.3.1.1.1.1.2.3" xref="S3.E5.m1.3.3.1.1.1.1.2.3.cmml">n</mi></munderover><mrow id="S3.E5.m1.3.3.1.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.3.3.1.1.1.1.1.3" xref="S3.E5.m1.3.3.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.3.3.1.1.1.1.1.3.1" xref="S3.E5.m1.3.3.1.1.1.1.1.3.1.cmml">log</mi><mo id="S3.E5.m1.3.3.1.1.1.1.1.3a" lspace="0.167em" xref="S3.E5.m1.3.3.1.1.1.1.1.3.cmml">â¡</mo><mi id="S3.E5.m1.3.3.1.1.1.1.1.3.2" xref="S3.E5.m1.3.3.1.1.1.1.1.3.2.cmml">p</mi></mrow><mo id="S3.E5.m1.3.3.1.1.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E5.m1.3.3.1.1.1.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E5.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.2" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml">ğ’š</mi><mi id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.3" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub><mo fence="false" id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml">ğ’™</mi><mi id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">;</mo><mi id="S3.E5.m1.2.2" xref="S3.E5.m1.2.2.cmml">ğœ½</mi></mrow></mrow><mo id="S3.E5.m1.3.3.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E5.m1.3.3.1.2" xref="S3.E5.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.3b"><apply id="S3.E5.m1.3.3.1.1.cmml" xref="S3.E5.m1.3.3.1"><eq id="S3.E5.m1.3.3.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.2"></eq><apply id="S3.E5.m1.3.3.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.3"><times id="S3.E5.m1.3.3.1.1.3.1.cmml" xref="S3.E5.m1.3.3.1.1.3.1"></times><ci id="S3.E5.m1.3.3.1.1.3.2.cmml" xref="S3.E5.m1.3.3.1.1.3.2">ğ‘“</ci><ci id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1">ğœ½</ci></apply><apply id="S3.E5.m1.3.3.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1"><times id="S3.E5.m1.3.3.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.2"></times><apply id="S3.E5.m1.3.3.1.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.1.3"><divide id="S3.E5.m1.3.3.1.1.1.3.1.cmml" xref="S3.E5.m1.3.3.1.1.1.3"></divide><cn id="S3.E5.m1.3.3.1.1.1.3.2.cmml" type="integer" xref="S3.E5.m1.3.3.1.1.1.3.2">1</cn><ci id="S3.E5.m1.3.3.1.1.1.3.3.cmml" xref="S3.E5.m1.3.3.1.1.1.3.3">ğ‘›</ci></apply><apply id="S3.E5.m1.3.3.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1"><apply id="S3.E5.m1.3.3.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2">superscript</csymbol><apply id="S3.E5.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2">subscript</csymbol><sum id="S3.E5.m1.3.3.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.2"></sum><apply id="S3.E5.m1.3.3.1.1.1.1.2.2.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3"><eq id="S3.E5.m1.3.3.1.1.1.1.2.2.3.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.1"></eq><ci id="S3.E5.m1.3.3.1.1.1.1.2.2.3.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.2">ğ‘–</ci><cn id="S3.E5.m1.3.3.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E5.m1.3.3.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E5.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.2.3">ğ‘›</ci></apply><apply id="S3.E5.m1.3.3.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1"><times id="S3.E5.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.2"></times><apply id="S3.E5.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.3"><log id="S3.E5.m1.3.3.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.3.1"></log><ci id="S3.E5.m1.3.3.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.3.2">ğ‘</ci></apply><apply id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.2">ğ’š</ci><ci id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.3.3">ğ‘–</ci></apply><list id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1"><apply id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2">ğ’™</ci><ci id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘–</ci></apply><ci id="S3.E5.m1.2.2.cmml" xref="S3.E5.m1.2.2">ğœ½</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.3c">f(\bm{\theta})=\frac{1}{n}\sum_{i=1}^{n}\log p({\bm{y}}_{i}|{\bm{x}}_{i};\bm{%
\theta}),</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.3d">italic_f ( bold_italic_Î¸ ) = divide start_ARG 1 end_ARG start_ARG italic_n end_ARG âˆ‘ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT roman_log italic_p ( bold_italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | bold_italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ; bold_italic_Î¸ ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.7">where <math alttext="n" class="ltx_Math" display="inline" id="S3.SS2.p1.5.m1.1"><semantics id="S3.SS2.p1.5.m1.1a"><mi id="S3.SS2.p1.5.m1.1.1" xref="S3.SS2.p1.5.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m1.1b"><ci id="S3.SS2.p1.5.m1.1.1.cmml" xref="S3.SS2.p1.5.m1.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.5.m1.1d">italic_n</annotation></semantics></math> is the size of <math alttext="\mathcal{D}_{\text{correct}}" class="ltx_Math" display="inline" id="S3.SS2.p1.6.m2.1"><semantics id="S3.SS2.p1.6.m2.1a"><msub id="S3.SS2.p1.6.m2.1.1" xref="S3.SS2.p1.6.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.6.m2.1.1.2" xref="S3.SS2.p1.6.m2.1.1.2.cmml">ğ’Ÿ</mi><mtext id="S3.SS2.p1.6.m2.1.1.3" xref="S3.SS2.p1.6.m2.1.1.3a.cmml">correct</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m2.1b"><apply id="S3.SS2.p1.6.m2.1.1.cmml" xref="S3.SS2.p1.6.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m2.1.1.1.cmml" xref="S3.SS2.p1.6.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.6.m2.1.1.2.cmml" xref="S3.SS2.p1.6.m2.1.1.2">ğ’Ÿ</ci><ci id="S3.SS2.p1.6.m2.1.1.3a.cmml" xref="S3.SS2.p1.6.m2.1.1.3"><mtext id="S3.SS2.p1.6.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p1.6.m2.1.1.3">correct</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m2.1c">\mathcal{D}_{\text{correct}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.6.m2.1d">caligraphic_D start_POSTSUBSCRIPT correct end_POSTSUBSCRIPT</annotation></semantics></math>.
The robustness of <math alttext="\mathcal{D}_{\text{correct}}" class="ltx_Math" display="inline" id="S3.SS2.p1.7.m3.1"><semantics id="S3.SS2.p1.7.m3.1a"><msub id="S3.SS2.p1.7.m3.1.1" xref="S3.SS2.p1.7.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.7.m3.1.1.2" xref="S3.SS2.p1.7.m3.1.1.2.cmml">ğ’Ÿ</mi><mtext id="S3.SS2.p1.7.m3.1.1.3" xref="S3.SS2.p1.7.m3.1.1.3a.cmml">correct</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m3.1b"><apply id="S3.SS2.p1.7.m3.1.1.cmml" xref="S3.SS2.p1.7.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.7.m3.1.1.1.cmml" xref="S3.SS2.p1.7.m3.1.1">subscript</csymbol><ci id="S3.SS2.p1.7.m3.1.1.2.cmml" xref="S3.SS2.p1.7.m3.1.1.2">ğ’Ÿ</ci><ci id="S3.SS2.p1.7.m3.1.1.3a.cmml" xref="S3.SS2.p1.7.m3.1.1.3"><mtext id="S3.SS2.p1.7.m3.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p1.7.m3.1.1.3">correct</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m3.1c">\mathcal{D}_{\text{correct}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.7.m3.1d">caligraphic_D start_POSTSUBSCRIPT correct end_POSTSUBSCRIPT</annotation></semantics></math> against variation is ablated in AppendixÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A3" title="Appendix C Robustness on ğ‘› â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.2"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.2.1">Instance-level influence scores.</span> Plugging EquationÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3.E5" title="In 3.2 Attributing LLM Reasoning to Training Data via Influence Functions â€£ 3 Methodology â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">5</span></a> into EquationÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3.E3" title="In 3.1 Preliminary: Influence Functions â€£ 3 Methodology â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">3</span></a> yields the instance-level influence score assigned to each SFT training example <math alttext="z_{m}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><msub id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">z</mi><mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">ğ‘§</ci><ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">z_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> reflecting its effect on <math alttext="f(\bm{\theta})" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><mrow id="S3.SS2.p2.2.m2.1.2" xref="S3.SS2.p2.2.m2.1.2.cmml"><mi id="S3.SS2.p2.2.m2.1.2.2" xref="S3.SS2.p2.2.m2.1.2.2.cmml">f</mi><mo id="S3.SS2.p2.2.m2.1.2.1" xref="S3.SS2.p2.2.m2.1.2.1.cmml">â¢</mo><mrow id="S3.SS2.p2.2.m2.1.2.3.2" xref="S3.SS2.p2.2.m2.1.2.cmml"><mo id="S3.SS2.p2.2.m2.1.2.3.2.1" stretchy="false" xref="S3.SS2.p2.2.m2.1.2.cmml">(</mo><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">ğœ½</mi><mo id="S3.SS2.p2.2.m2.1.2.3.2.2" stretchy="false" xref="S3.SS2.p2.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.2.cmml" xref="S3.SS2.p2.2.m2.1.2"><times id="S3.SS2.p2.2.m2.1.2.1.cmml" xref="S3.SS2.p2.2.m2.1.2.1"></times><ci id="S3.SS2.p2.2.m2.1.2.2.cmml" xref="S3.SS2.p2.2.m2.1.2.2">ğ‘“</ci><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">ğœ½</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">f(\bm{\theta})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_f ( bold_italic_Î¸ )</annotation></semantics></math>. Consistent withÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib8" title="">8</a>]</cite>, we restrict our focus to positively influential data, which refers to data points that yield an increase in the log-likelihood of correct answers and thus more effectively enhances the modelâ€™s reasoning performance.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.6"><span class="ltx_text ltx_font_bold" id="S3.SS2.p3.6.1">Sequence-level influence scores.</span> Reasoning traces of recent models often exhibit sequence-level cognitive behaviors, such as verification or exploration (refer to FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F6" title="Figure 6 â€£ 4.3 Sequence-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">6</span></a>). To attribute the contribution of an individual sentence <math alttext="{\bm{y}}" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><mi id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">ğ’š</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><ci id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">ğ’š</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">{\bm{y}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">bold_italic_y</annotation></semantics></math> in <math alttext="z_{m}" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><msub id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">z</mi><mi id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">ğ‘§</ci><ci id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">z_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math>, we employ a simple counterfactual tactic: we remove <math alttext="y" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><mi id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><ci id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">italic_y</annotation></semantics></math> from the example and measure how the influence scores changes. Let <math alttext="z_{m}^{\setminus{\bm{y}}}" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><msubsup id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml"><mi id="S3.SS2.p3.4.m4.1.1.2.2" xref="S3.SS2.p3.4.m4.1.1.2.2.cmml">z</mi><mi id="S3.SS2.p3.4.m4.1.1.2.3" xref="S3.SS2.p3.4.m4.1.1.2.3.cmml">m</mi><mrow id="S3.SS2.p3.4.m4.1.1.3" xref="S3.SS2.p3.4.m4.1.1.3.cmml"><mo id="S3.SS2.p3.4.m4.1.1.3a" rspace="0em" xref="S3.SS2.p3.4.m4.1.1.3.cmml">âˆ–</mo><mi id="S3.SS2.p3.4.m4.1.1.3.2" xref="S3.SS2.p3.4.m4.1.1.3.2.cmml">ğ’š</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><apply id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">superscript</csymbol><apply id="S3.SS2.p3.4.m4.1.1.2.cmml" xref="S3.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.2.1.cmml" xref="S3.SS2.p3.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p3.4.m4.1.1.2.2.cmml" xref="S3.SS2.p3.4.m4.1.1.2.2">ğ‘§</ci><ci id="S3.SS2.p3.4.m4.1.1.2.3.cmml" xref="S3.SS2.p3.4.m4.1.1.2.3">ğ‘š</ci></apply><apply id="S3.SS2.p3.4.m4.1.1.3.cmml" xref="S3.SS2.p3.4.m4.1.1.3"><setdiff id="S3.SS2.p3.4.m4.1.1.3.1.cmml" xref="S3.SS2.p3.4.m4.1.1.3"></setdiff><ci id="S3.SS2.p3.4.m4.1.1.3.2.cmml" xref="S3.SS2.p3.4.m4.1.1.3.2">ğ’š</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">z_{m}^{\setminus{\bm{y}}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT start_POSTSUPERSCRIPT âˆ– bold_italic_y end_POSTSUPERSCRIPT</annotation></semantics></math> denote the input with sentence <math alttext="{\bm{y}}" class="ltx_Math" display="inline" id="S3.SS2.p3.5.m5.1"><semantics id="S3.SS2.p3.5.m5.1a"><mi id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml">ğ’š</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><ci id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1">ğ’š</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">{\bm{y}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.5.m5.1d">bold_italic_y</annotation></semantics></math> erased. Then the sequence-level influence of <math alttext="{\bm{y}}" class="ltx_Math" display="inline" id="S3.SS2.p3.6.m6.1"><semantics id="S3.SS2.p3.6.m6.1a"><mi id="S3.SS2.p3.6.m6.1.1" xref="S3.SS2.p3.6.m6.1.1.cmml">ğ’š</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.6.m6.1b"><ci id="S3.SS2.p3.6.m6.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1">ğ’š</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.6.m6.1c">{\bm{y}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.6.m6.1d">bold_italic_y</annotation></semantics></math> is given by</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{I}_{f}({\bm{y}})=\mathcal{I}_{f}(z_{m})-\mathcal{I}_{f}(z_{m}^{%
\setminus{\bm{y}}})," class="ltx_Math" display="block" id="S3.E6.m1.2"><semantics id="S3.E6.m1.2a"><mrow id="S3.E6.m1.2.2.1" xref="S3.E6.m1.2.2.1.1.cmml"><mrow id="S3.E6.m1.2.2.1.1" xref="S3.E6.m1.2.2.1.1.cmml"><mrow id="S3.E6.m1.2.2.1.1.4" xref="S3.E6.m1.2.2.1.1.4.cmml"><msub id="S3.E6.m1.2.2.1.1.4.2" xref="S3.E6.m1.2.2.1.1.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.2.2.1.1.4.2.2" xref="S3.E6.m1.2.2.1.1.4.2.2.cmml">â„</mi><mi id="S3.E6.m1.2.2.1.1.4.2.3" xref="S3.E6.m1.2.2.1.1.4.2.3.cmml">f</mi></msub><mo id="S3.E6.m1.2.2.1.1.4.1" xref="S3.E6.m1.2.2.1.1.4.1.cmml">â¢</mo><mrow id="S3.E6.m1.2.2.1.1.4.3.2" xref="S3.E6.m1.2.2.1.1.4.cmml"><mo id="S3.E6.m1.2.2.1.1.4.3.2.1" stretchy="false" xref="S3.E6.m1.2.2.1.1.4.cmml">(</mo><mi id="S3.E6.m1.1.1" xref="S3.E6.m1.1.1.cmml">ğ’š</mi><mo id="S3.E6.m1.2.2.1.1.4.3.2.2" stretchy="false" xref="S3.E6.m1.2.2.1.1.4.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.2.2.1.1.3" xref="S3.E6.m1.2.2.1.1.3.cmml">=</mo><mrow id="S3.E6.m1.2.2.1.1.2" xref="S3.E6.m1.2.2.1.1.2.cmml"><mrow id="S3.E6.m1.2.2.1.1.1.1" xref="S3.E6.m1.2.2.1.1.1.1.cmml"><msub id="S3.E6.m1.2.2.1.1.1.1.3" xref="S3.E6.m1.2.2.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.2.2.1.1.1.1.3.2" xref="S3.E6.m1.2.2.1.1.1.1.3.2.cmml">â„</mi><mi id="S3.E6.m1.2.2.1.1.1.1.3.3" xref="S3.E6.m1.2.2.1.1.1.1.3.3.cmml">f</mi></msub><mo id="S3.E6.m1.2.2.1.1.1.1.2" xref="S3.E6.m1.2.2.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E6.m1.2.2.1.1.1.1.1.1" xref="S3.E6.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S3.E6.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E6.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E6.m1.2.2.1.1.1.1.1.1.1" xref="S3.E6.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E6.m1.2.2.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E6.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E6.m1.2.2.1.1.1.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.E6.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E6.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.2.2.1.1.2.3" xref="S3.E6.m1.2.2.1.1.2.3.cmml">âˆ’</mo><mrow id="S3.E6.m1.2.2.1.1.2.2" xref="S3.E6.m1.2.2.1.1.2.2.cmml"><msub id="S3.E6.m1.2.2.1.1.2.2.3" xref="S3.E6.m1.2.2.1.1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.2.2.1.1.2.2.3.2" xref="S3.E6.m1.2.2.1.1.2.2.3.2.cmml">â„</mi><mi id="S3.E6.m1.2.2.1.1.2.2.3.3" xref="S3.E6.m1.2.2.1.1.2.2.3.3.cmml">f</mi></msub><mo id="S3.E6.m1.2.2.1.1.2.2.2" xref="S3.E6.m1.2.2.1.1.2.2.2.cmml">â¢</mo><mrow id="S3.E6.m1.2.2.1.1.2.2.1.1" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.cmml"><mo id="S3.E6.m1.2.2.1.1.2.2.1.1.2" stretchy="false" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.cmml">(</mo><msubsup id="S3.E6.m1.2.2.1.1.2.2.1.1.1" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.cmml"><mi id="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.2" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.2.cmml">z</mi><mi id="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.3" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.3.cmml">m</mi><mrow id="S3.E6.m1.2.2.1.1.2.2.1.1.1.3" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.3.cmml"><mo id="S3.E6.m1.2.2.1.1.2.2.1.1.1.3a" rspace="0em" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.3.cmml">âˆ–</mo><mi id="S3.E6.m1.2.2.1.1.2.2.1.1.1.3.2" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.3.2.cmml">ğ’š</mi></mrow></msubsup><mo id="S3.E6.m1.2.2.1.1.2.2.1.1.3" stretchy="false" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E6.m1.2.2.1.2" xref="S3.E6.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.2b"><apply id="S3.E6.m1.2.2.1.1.cmml" xref="S3.E6.m1.2.2.1"><eq id="S3.E6.m1.2.2.1.1.3.cmml" xref="S3.E6.m1.2.2.1.1.3"></eq><apply id="S3.E6.m1.2.2.1.1.4.cmml" xref="S3.E6.m1.2.2.1.1.4"><times id="S3.E6.m1.2.2.1.1.4.1.cmml" xref="S3.E6.m1.2.2.1.1.4.1"></times><apply id="S3.E6.m1.2.2.1.1.4.2.cmml" xref="S3.E6.m1.2.2.1.1.4.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.1.1.4.2.1.cmml" xref="S3.E6.m1.2.2.1.1.4.2">subscript</csymbol><ci id="S3.E6.m1.2.2.1.1.4.2.2.cmml" xref="S3.E6.m1.2.2.1.1.4.2.2">â„</ci><ci id="S3.E6.m1.2.2.1.1.4.2.3.cmml" xref="S3.E6.m1.2.2.1.1.4.2.3">ğ‘“</ci></apply><ci id="S3.E6.m1.1.1.cmml" xref="S3.E6.m1.1.1">ğ’š</ci></apply><apply id="S3.E6.m1.2.2.1.1.2.cmml" xref="S3.E6.m1.2.2.1.1.2"><minus id="S3.E6.m1.2.2.1.1.2.3.cmml" xref="S3.E6.m1.2.2.1.1.2.3"></minus><apply id="S3.E6.m1.2.2.1.1.1.1.cmml" xref="S3.E6.m1.2.2.1.1.1.1"><times id="S3.E6.m1.2.2.1.1.1.1.2.cmml" xref="S3.E6.m1.2.2.1.1.1.1.2"></times><apply id="S3.E6.m1.2.2.1.1.1.1.3.cmml" xref="S3.E6.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E6.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E6.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E6.m1.2.2.1.1.1.1.3.2">â„</ci><ci id="S3.E6.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E6.m1.2.2.1.1.1.1.3.3">ğ‘“</ci></apply><apply id="S3.E6.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E6.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.2.2.1.1.1.1.1.1.1.2">ğ‘§</ci><ci id="S3.E6.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.2.2.1.1.1.1.1.1.1.3">ğ‘š</ci></apply></apply><apply id="S3.E6.m1.2.2.1.1.2.2.cmml" xref="S3.E6.m1.2.2.1.1.2.2"><times id="S3.E6.m1.2.2.1.1.2.2.2.cmml" xref="S3.E6.m1.2.2.1.1.2.2.2"></times><apply id="S3.E6.m1.2.2.1.1.2.2.3.cmml" xref="S3.E6.m1.2.2.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.1.1.2.2.3.1.cmml" xref="S3.E6.m1.2.2.1.1.2.2.3">subscript</csymbol><ci id="S3.E6.m1.2.2.1.1.2.2.3.2.cmml" xref="S3.E6.m1.2.2.1.1.2.2.3.2">â„</ci><ci id="S3.E6.m1.2.2.1.1.2.2.3.3.cmml" xref="S3.E6.m1.2.2.1.1.2.2.3.3">ğ‘“</ci></apply><apply id="S3.E6.m1.2.2.1.1.2.2.1.1.1.cmml" xref="S3.E6.m1.2.2.1.1.2.2.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.1.1.2.2.1.1.1.1.cmml" xref="S3.E6.m1.2.2.1.1.2.2.1.1">superscript</csymbol><apply id="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.cmml" xref="S3.E6.m1.2.2.1.1.2.2.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.1.cmml" xref="S3.E6.m1.2.2.1.1.2.2.1.1">subscript</csymbol><ci id="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.2.cmml" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.2">ğ‘§</ci><ci id="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.3.cmml" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.2.3">ğ‘š</ci></apply><apply id="S3.E6.m1.2.2.1.1.2.2.1.1.1.3.cmml" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.3"><setdiff id="S3.E6.m1.2.2.1.1.2.2.1.1.1.3.1.cmml" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.3"></setdiff><ci id="S3.E6.m1.2.2.1.1.2.2.1.1.1.3.2.cmml" xref="S3.E6.m1.2.2.1.1.2.2.1.1.1.3.2">ğ’š</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.2c">\mathcal{I}_{f}({\bm{y}})=\mathcal{I}_{f}(z_{m})-\mathcal{I}_{f}(z_{m}^{%
\setminus{\bm{y}}}),</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.2d">caligraphic_I start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( bold_italic_y ) = caligraphic_I start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ) - caligraphic_I start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT start_POSTSUPERSCRIPT âˆ– bold_italic_y end_POSTSUPERSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p3.8">which isolates the influence of <math alttext="{\bm{y}}" class="ltx_Math" display="inline" id="S3.SS2.p3.7.m1.1"><semantics id="S3.SS2.p3.7.m1.1a"><mi id="S3.SS2.p3.7.m1.1.1" xref="S3.SS2.p3.7.m1.1.1.cmml">ğ’š</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.7.m1.1b"><ci id="S3.SS2.p3.7.m1.1.1.cmml" xref="S3.SS2.p3.7.m1.1.1">ğ’š</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.7.m1.1c">{\bm{y}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.7.m1.1d">bold_italic_y</annotation></semantics></math> on the target function <math alttext="f(\bm{\theta})" class="ltx_Math" display="inline" id="S3.SS2.p3.8.m2.1"><semantics id="S3.SS2.p3.8.m2.1a"><mrow id="S3.SS2.p3.8.m2.1.2" xref="S3.SS2.p3.8.m2.1.2.cmml"><mi id="S3.SS2.p3.8.m2.1.2.2" xref="S3.SS2.p3.8.m2.1.2.2.cmml">f</mi><mo id="S3.SS2.p3.8.m2.1.2.1" xref="S3.SS2.p3.8.m2.1.2.1.cmml">â¢</mo><mrow id="S3.SS2.p3.8.m2.1.2.3.2" xref="S3.SS2.p3.8.m2.1.2.cmml"><mo id="S3.SS2.p3.8.m2.1.2.3.2.1" stretchy="false" xref="S3.SS2.p3.8.m2.1.2.cmml">(</mo><mi id="S3.SS2.p3.8.m2.1.1" xref="S3.SS2.p3.8.m2.1.1.cmml">ğœ½</mi><mo id="S3.SS2.p3.8.m2.1.2.3.2.2" stretchy="false" xref="S3.SS2.p3.8.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.8.m2.1b"><apply id="S3.SS2.p3.8.m2.1.2.cmml" xref="S3.SS2.p3.8.m2.1.2"><times id="S3.SS2.p3.8.m2.1.2.1.cmml" xref="S3.SS2.p3.8.m2.1.2.1"></times><ci id="S3.SS2.p3.8.m2.1.2.2.cmml" xref="S3.SS2.p3.8.m2.1.2.2">ğ‘“</ci><ci id="S3.SS2.p3.8.m2.1.1.cmml" xref="S3.SS2.p3.8.m2.1.1">ğœ½</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.8.m2.1c">f(\bm{\theta})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.8.m2.1d">italic_f ( bold_italic_Î¸ )</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.2"><span class="ltx_text ltx_font_bold" id="S3.SS2.p4.2.1">Token-level influence scores.</span> Tokens that mark critical transitionsâ€”such as â€˜waitâ€™â€”frequently appear in long CoT. Attributing influence at the token level may therefore help elucidate the underlying mechanisms that guide the modelâ€™s reasoning. Due to the autoregressive nature of LLMs, the training gradient of a training sequence <math alttext="z_{m}" class="ltx_Math" display="inline" id="S3.SS2.p4.1.m1.1"><semantics id="S3.SS2.p4.1.m1.1a"><msub id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">z</mi><mi id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">ğ‘§</ci><ci id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">z_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.1.m1.1d">italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> of length <math alttext="T" class="ltx_Math" display="inline" id="S3.SS2.p4.2.m2.1"><semantics id="S3.SS2.p4.2.m2.1a"><mi id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><ci id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">ğ‘‡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">T</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.2.m2.1d">italic_T</annotation></semantics></math> decomposes as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\nabla_{\bm{\theta}}\mathcal{L}\left(z_{m},\bm{\theta}\right)=\sum_{t=1}^{T}-%
\nabla_{\bm{\theta}}\log p(z_{m,t}|z_{m,&lt;t},\bm{\theta})," class="ltx_Math" display="block" id="S3.E7.m1.7"><semantics id="S3.E7.m1.7a"><mrow id="S3.E7.m1.7.7.1" xref="S3.E7.m1.7.7.1.1.cmml"><mrow id="S3.E7.m1.7.7.1.1" xref="S3.E7.m1.7.7.1.1.cmml"><mrow id="S3.E7.m1.7.7.1.1.1" xref="S3.E7.m1.7.7.1.1.1.cmml"><mrow id="S3.E7.m1.7.7.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.3.cmml"><msub id="S3.E7.m1.7.7.1.1.1.3.1" xref="S3.E7.m1.7.7.1.1.1.3.1.cmml"><mo id="S3.E7.m1.7.7.1.1.1.3.1.2" xref="S3.E7.m1.7.7.1.1.1.3.1.2.cmml">âˆ‡</mo><mi id="S3.E7.m1.7.7.1.1.1.3.1.3" xref="S3.E7.m1.7.7.1.1.1.3.1.3.cmml">ğœ½</mi></msub><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.7.7.1.1.1.3.2" xref="S3.E7.m1.7.7.1.1.1.3.2.cmml">â„’</mi></mrow><mo id="S3.E7.m1.7.7.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.2.cmml">â¢</mo><mrow id="S3.E7.m1.7.7.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.2.cmml"><mo id="S3.E7.m1.7.7.1.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.1.2.cmml">(</mo><msub id="S3.E7.m1.7.7.1.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.7.7.1.1.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E7.m1.7.7.1.1.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.E7.m1.7.7.1.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.1.1.2.cmml">,</mo><mi id="S3.E7.m1.5.5" xref="S3.E7.m1.5.5.cmml">ğœ½</mi><mo id="S3.E7.m1.7.7.1.1.1.1.1.4" xref="S3.E7.m1.7.7.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E7.m1.7.7.1.1.3" rspace="0.111em" xref="S3.E7.m1.7.7.1.1.3.cmml">=</mo><mrow id="S3.E7.m1.7.7.1.1.2" xref="S3.E7.m1.7.7.1.1.2.cmml"><munderover id="S3.E7.m1.7.7.1.1.2.3" xref="S3.E7.m1.7.7.1.1.2.3.cmml"><mo id="S3.E7.m1.7.7.1.1.2.3.2.2" movablelimits="false" rspace="0em" xref="S3.E7.m1.7.7.1.1.2.3.2.2.cmml">âˆ‘</mo><mrow id="S3.E7.m1.7.7.1.1.2.3.2.3" xref="S3.E7.m1.7.7.1.1.2.3.2.3.cmml"><mi id="S3.E7.m1.7.7.1.1.2.3.2.3.2" xref="S3.E7.m1.7.7.1.1.2.3.2.3.2.cmml">t</mi><mo id="S3.E7.m1.7.7.1.1.2.3.2.3.1" xref="S3.E7.m1.7.7.1.1.2.3.2.3.1.cmml">=</mo><mn id="S3.E7.m1.7.7.1.1.2.3.2.3.3" xref="S3.E7.m1.7.7.1.1.2.3.2.3.3.cmml">1</mn></mrow><mi id="S3.E7.m1.7.7.1.1.2.3.3" xref="S3.E7.m1.7.7.1.1.2.3.3.cmml">T</mi></munderover><mo id="S3.E7.m1.7.7.1.1.2.2" lspace="0em" xref="S3.E7.m1.7.7.1.1.2.2.cmml">âˆ’</mo><mrow id="S3.E7.m1.7.7.1.1.2.1" xref="S3.E7.m1.7.7.1.1.2.1.cmml"><mrow id="S3.E7.m1.7.7.1.1.2.1.3" xref="S3.E7.m1.7.7.1.1.2.1.3.cmml"><mrow id="S3.E7.m1.7.7.1.1.2.1.3.1" xref="S3.E7.m1.7.7.1.1.2.1.3.1.cmml"><msub id="S3.E7.m1.7.7.1.1.2.1.3.1.1" xref="S3.E7.m1.7.7.1.1.2.1.3.1.1.cmml"><mo id="S3.E7.m1.7.7.1.1.2.1.3.1.1.2" rspace="0.167em" xref="S3.E7.m1.7.7.1.1.2.1.3.1.1.2.cmml">âˆ‡</mo><mi id="S3.E7.m1.7.7.1.1.2.1.3.1.1.3" xref="S3.E7.m1.7.7.1.1.2.1.3.1.1.3.cmml">ğœ½</mi></msub><mi id="S3.E7.m1.7.7.1.1.2.1.3.1.2" xref="S3.E7.m1.7.7.1.1.2.1.3.1.2.cmml">log</mi></mrow><mo id="S3.E7.m1.7.7.1.1.2.1.3a" lspace="0.167em" xref="S3.E7.m1.7.7.1.1.2.1.3.cmml">â¡</mo><mi id="S3.E7.m1.7.7.1.1.2.1.3.2" xref="S3.E7.m1.7.7.1.1.2.1.3.2.cmml">p</mi></mrow><mo id="S3.E7.m1.7.7.1.1.2.1.2" xref="S3.E7.m1.7.7.1.1.2.1.2.cmml">â¢</mo><mrow id="S3.E7.m1.7.7.1.1.2.1.1.1" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.cmml"><mo id="S3.E7.m1.7.7.1.1.2.1.1.1.2" stretchy="false" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.7.7.1.1.2.1.1.1.1" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.cmml"><msub id="S3.E7.m1.7.7.1.1.2.1.1.1.1.3" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.3.cmml"><mi id="S3.E7.m1.7.7.1.1.2.1.1.1.1.3.2" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.3.2.cmml">z</mi><mrow id="S3.E7.m1.2.2.2.4" xref="S3.E7.m1.2.2.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml">m</mi><mo id="S3.E7.m1.2.2.2.4.1" xref="S3.E7.m1.2.2.2.3.cmml">,</mo><mi id="S3.E7.m1.2.2.2.2" xref="S3.E7.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo fence="false" id="S3.E7.m1.7.7.1.1.2.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.2.cmml">|</mo><mrow id="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.2.cmml"><msub id="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1.2.cmml">z</mi><mrow id="S3.E7.m1.4.4.2.2" xref="S3.E7.m1.4.4.2.3.cmml"><mi id="S3.E7.m1.3.3.1.1" xref="S3.E7.m1.3.3.1.1.cmml">m</mi><mo id="S3.E7.m1.4.4.2.2.2" xref="S3.E7.m1.4.4.2.3.cmml">,</mo><mrow id="S3.E7.m1.4.4.2.2.1" xref="S3.E7.m1.4.4.2.2.1.cmml"><mi id="S3.E7.m1.4.4.2.2.1.2" xref="S3.E7.m1.4.4.2.2.1.2.cmml"></mi><mo id="S3.E7.m1.4.4.2.2.1.1" xref="S3.E7.m1.4.4.2.2.1.1.cmml">&lt;</mo><mi id="S3.E7.m1.4.4.2.2.1.3" xref="S3.E7.m1.4.4.2.2.1.3.cmml">t</mi></mrow></mrow></msub><mo id="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.2" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E7.m1.6.6" xref="S3.E7.m1.6.6.cmml">ğœ½</mi></mrow></mrow><mo id="S3.E7.m1.7.7.1.1.2.1.1.1.3" stretchy="false" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E7.m1.7.7.1.2" xref="S3.E7.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.7b"><apply id="S3.E7.m1.7.7.1.1.cmml" xref="S3.E7.m1.7.7.1"><eq id="S3.E7.m1.7.7.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.3"></eq><apply id="S3.E7.m1.7.7.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1"><times id="S3.E7.m1.7.7.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.2"></times><apply id="S3.E7.m1.7.7.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.3"><apply id="S3.E7.m1.7.7.1.1.1.3.1.cmml" xref="S3.E7.m1.7.7.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.3.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.3.1">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.1.3.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.3.1.2">âˆ‡</ci><ci id="S3.E7.m1.7.7.1.1.1.3.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.3.1.3">ğœ½</ci></apply><ci id="S3.E7.m1.7.7.1.1.1.3.2.cmml" xref="S3.E7.m1.7.7.1.1.1.3.2">â„’</ci></apply><interval closure="open" id="S3.E7.m1.7.7.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1"><apply id="S3.E7.m1.7.7.1.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.2">ğ‘§</ci><ci id="S3.E7.m1.7.7.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.1.1.1.1.3">ğ‘š</ci></apply><ci id="S3.E7.m1.5.5.cmml" xref="S3.E7.m1.5.5">ğœ½</ci></interval></apply><apply id="S3.E7.m1.7.7.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.2"><minus id="S3.E7.m1.7.7.1.1.2.2.cmml" xref="S3.E7.m1.7.7.1.1.2.2"></minus><apply id="S3.E7.m1.7.7.1.1.2.3.cmml" xref="S3.E7.m1.7.7.1.1.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.2.3.1.cmml" xref="S3.E7.m1.7.7.1.1.2.3">superscript</csymbol><apply id="S3.E7.m1.7.7.1.1.2.3.2.cmml" xref="S3.E7.m1.7.7.1.1.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.2.3.2.1.cmml" xref="S3.E7.m1.7.7.1.1.2.3">subscript</csymbol><sum id="S3.E7.m1.7.7.1.1.2.3.2.2.cmml" xref="S3.E7.m1.7.7.1.1.2.3.2.2"></sum><apply id="S3.E7.m1.7.7.1.1.2.3.2.3.cmml" xref="S3.E7.m1.7.7.1.1.2.3.2.3"><eq id="S3.E7.m1.7.7.1.1.2.3.2.3.1.cmml" xref="S3.E7.m1.7.7.1.1.2.3.2.3.1"></eq><ci id="S3.E7.m1.7.7.1.1.2.3.2.3.2.cmml" xref="S3.E7.m1.7.7.1.1.2.3.2.3.2">ğ‘¡</ci><cn id="S3.E7.m1.7.7.1.1.2.3.2.3.3.cmml" type="integer" xref="S3.E7.m1.7.7.1.1.2.3.2.3.3">1</cn></apply></apply><ci id="S3.E7.m1.7.7.1.1.2.3.3.cmml" xref="S3.E7.m1.7.7.1.1.2.3.3">ğ‘‡</ci></apply><apply id="S3.E7.m1.7.7.1.1.2.1.cmml" xref="S3.E7.m1.7.7.1.1.2.1"><times id="S3.E7.m1.7.7.1.1.2.1.2.cmml" xref="S3.E7.m1.7.7.1.1.2.1.2"></times><apply id="S3.E7.m1.7.7.1.1.2.1.3.cmml" xref="S3.E7.m1.7.7.1.1.2.1.3"><apply id="S3.E7.m1.7.7.1.1.2.1.3.1.cmml" xref="S3.E7.m1.7.7.1.1.2.1.3.1"><apply id="S3.E7.m1.7.7.1.1.2.1.3.1.1.cmml" xref="S3.E7.m1.7.7.1.1.2.1.3.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.2.1.3.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.2.1.3.1.1">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.2.1.3.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.2.1.3.1.1.2">âˆ‡</ci><ci id="S3.E7.m1.7.7.1.1.2.1.3.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.2.1.3.1.1.3">ğœ½</ci></apply><log id="S3.E7.m1.7.7.1.1.2.1.3.1.2.cmml" xref="S3.E7.m1.7.7.1.1.2.1.3.1.2"></log></apply><ci id="S3.E7.m1.7.7.1.1.2.1.3.2.cmml" xref="S3.E7.m1.7.7.1.1.2.1.3.2">ğ‘</ci></apply><apply id="S3.E7.m1.7.7.1.1.2.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E7.m1.7.7.1.1.2.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.2">conditional</csymbol><apply id="S3.E7.m1.7.7.1.1.2.1.1.1.1.3.cmml" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.2.1.1.1.1.3.1.cmml" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.2.1.1.1.1.3.2.cmml" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.3.2">ğ‘§</ci><list id="S3.E7.m1.2.2.2.3.cmml" xref="S3.E7.m1.2.2.2.4"><ci id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1">ğ‘š</ci><ci id="S3.E7.m1.2.2.2.2.cmml" xref="S3.E7.m1.2.2.2.2">ğ‘¡</ci></list></apply><list id="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1"><apply id="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.7.7.1.1.2.1.1.1.1.1.1.1.2">ğ‘§</ci><list id="S3.E7.m1.4.4.2.3.cmml" xref="S3.E7.m1.4.4.2.2"><ci id="S3.E7.m1.3.3.1.1.cmml" xref="S3.E7.m1.3.3.1.1">ğ‘š</ci><apply id="S3.E7.m1.4.4.2.2.1.cmml" xref="S3.E7.m1.4.4.2.2.1"><lt id="S3.E7.m1.4.4.2.2.1.1.cmml" xref="S3.E7.m1.4.4.2.2.1.1"></lt><csymbol cd="latexml" id="S3.E7.m1.4.4.2.2.1.2.cmml" xref="S3.E7.m1.4.4.2.2.1.2">absent</csymbol><ci id="S3.E7.m1.4.4.2.2.1.3.cmml" xref="S3.E7.m1.4.4.2.2.1.3">ğ‘¡</ci></apply></list></apply><ci id="S3.E7.m1.6.6.cmml" xref="S3.E7.m1.6.6">ğœ½</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.7c">\nabla_{\bm{\theta}}\mathcal{L}\left(z_{m},\bm{\theta}\right)=\sum_{t=1}^{T}-%
\nabla_{\bm{\theta}}\log p(z_{m,t}|z_{m,&lt;t},\bm{\theta}),</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m1.7d">âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT caligraphic_L ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , bold_italic_Î¸ ) = âˆ‘ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT - âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT roman_log italic_p ( italic_z start_POSTSUBSCRIPT italic_m , italic_t end_POSTSUBSCRIPT | italic_z start_POSTSUBSCRIPT italic_m , &lt; italic_t end_POSTSUBSCRIPT , bold_italic_Î¸ ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p4.6">where <math alttext="z_{m,t}" class="ltx_Math" display="inline" id="S3.SS2.p4.3.m1.2"><semantics id="S3.SS2.p4.3.m1.2a"><msub id="S3.SS2.p4.3.m1.2.3" xref="S3.SS2.p4.3.m1.2.3.cmml"><mi id="S3.SS2.p4.3.m1.2.3.2" xref="S3.SS2.p4.3.m1.2.3.2.cmml">z</mi><mrow id="S3.SS2.p4.3.m1.2.2.2.4" xref="S3.SS2.p4.3.m1.2.2.2.3.cmml"><mi id="S3.SS2.p4.3.m1.1.1.1.1" xref="S3.SS2.p4.3.m1.1.1.1.1.cmml">m</mi><mo id="S3.SS2.p4.3.m1.2.2.2.4.1" xref="S3.SS2.p4.3.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p4.3.m1.2.2.2.2" xref="S3.SS2.p4.3.m1.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m1.2b"><apply id="S3.SS2.p4.3.m1.2.3.cmml" xref="S3.SS2.p4.3.m1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m1.2.3.1.cmml" xref="S3.SS2.p4.3.m1.2.3">subscript</csymbol><ci id="S3.SS2.p4.3.m1.2.3.2.cmml" xref="S3.SS2.p4.3.m1.2.3.2">ğ‘§</ci><list id="S3.SS2.p4.3.m1.2.2.2.3.cmml" xref="S3.SS2.p4.3.m1.2.2.2.4"><ci id="S3.SS2.p4.3.m1.1.1.1.1.cmml" xref="S3.SS2.p4.3.m1.1.1.1.1">ğ‘š</ci><ci id="S3.SS2.p4.3.m1.2.2.2.2.cmml" xref="S3.SS2.p4.3.m1.2.2.2.2">ğ‘¡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m1.2c">z_{m,t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.3.m1.2d">italic_z start_POSTSUBSCRIPT italic_m , italic_t end_POSTSUBSCRIPT</annotation></semantics></math> denotes the <math alttext="t" class="ltx_Math" display="inline" id="S3.SS2.p4.4.m2.1"><semantics id="S3.SS2.p4.4.m2.1a"><mi id="S3.SS2.p4.4.m2.1.1" xref="S3.SS2.p4.4.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m2.1b"><ci id="S3.SS2.p4.4.m2.1.1.cmml" xref="S3.SS2.p4.4.m2.1.1">ğ‘¡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m2.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.4.m2.1d">italic_t</annotation></semantics></math>-th token and <math alttext="z_{m,&lt;t}=\{z_{m,1},\dots,z_{m,t-1}\}" class="ltx_Math" display="inline" id="S3.SS2.p4.5.m3.9"><semantics id="S3.SS2.p4.5.m3.9a"><mrow id="S3.SS2.p4.5.m3.9.9" xref="S3.SS2.p4.5.m3.9.9.cmml"><msub id="S3.SS2.p4.5.m3.9.9.4" xref="S3.SS2.p4.5.m3.9.9.4.cmml"><mi id="S3.SS2.p4.5.m3.9.9.4.2" xref="S3.SS2.p4.5.m3.9.9.4.2.cmml">z</mi><mrow id="S3.SS2.p4.5.m3.2.2.2.2" xref="S3.SS2.p4.5.m3.2.2.2.3.cmml"><mi id="S3.SS2.p4.5.m3.1.1.1.1" xref="S3.SS2.p4.5.m3.1.1.1.1.cmml">m</mi><mo id="S3.SS2.p4.5.m3.2.2.2.2.2" xref="S3.SS2.p4.5.m3.2.2.2.3.cmml">,</mo><mrow id="S3.SS2.p4.5.m3.2.2.2.2.1" xref="S3.SS2.p4.5.m3.2.2.2.2.1.cmml"><mi id="S3.SS2.p4.5.m3.2.2.2.2.1.2" xref="S3.SS2.p4.5.m3.2.2.2.2.1.2.cmml"></mi><mo id="S3.SS2.p4.5.m3.2.2.2.2.1.1" xref="S3.SS2.p4.5.m3.2.2.2.2.1.1.cmml">&lt;</mo><mi id="S3.SS2.p4.5.m3.2.2.2.2.1.3" xref="S3.SS2.p4.5.m3.2.2.2.2.1.3.cmml">t</mi></mrow></mrow></msub><mo id="S3.SS2.p4.5.m3.9.9.3" xref="S3.SS2.p4.5.m3.9.9.3.cmml">=</mo><mrow id="S3.SS2.p4.5.m3.9.9.2.2" xref="S3.SS2.p4.5.m3.9.9.2.3.cmml"><mo id="S3.SS2.p4.5.m3.9.9.2.2.3" stretchy="false" xref="S3.SS2.p4.5.m3.9.9.2.3.cmml">{</mo><msub id="S3.SS2.p4.5.m3.8.8.1.1.1" xref="S3.SS2.p4.5.m3.8.8.1.1.1.cmml"><mi id="S3.SS2.p4.5.m3.8.8.1.1.1.2" xref="S3.SS2.p4.5.m3.8.8.1.1.1.2.cmml">z</mi><mrow id="S3.SS2.p4.5.m3.4.4.2.4" xref="S3.SS2.p4.5.m3.4.4.2.3.cmml"><mi id="S3.SS2.p4.5.m3.3.3.1.1" xref="S3.SS2.p4.5.m3.3.3.1.1.cmml">m</mi><mo id="S3.SS2.p4.5.m3.4.4.2.4.1" xref="S3.SS2.p4.5.m3.4.4.2.3.cmml">,</mo><mn id="S3.SS2.p4.5.m3.4.4.2.2" xref="S3.SS2.p4.5.m3.4.4.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS2.p4.5.m3.9.9.2.2.4" xref="S3.SS2.p4.5.m3.9.9.2.3.cmml">,</mo><mi id="S3.SS2.p4.5.m3.7.7" mathvariant="normal" xref="S3.SS2.p4.5.m3.7.7.cmml">â€¦</mi><mo id="S3.SS2.p4.5.m3.9.9.2.2.5" xref="S3.SS2.p4.5.m3.9.9.2.3.cmml">,</mo><msub id="S3.SS2.p4.5.m3.9.9.2.2.2" xref="S3.SS2.p4.5.m3.9.9.2.2.2.cmml"><mi id="S3.SS2.p4.5.m3.9.9.2.2.2.2" xref="S3.SS2.p4.5.m3.9.9.2.2.2.2.cmml">z</mi><mrow id="S3.SS2.p4.5.m3.6.6.2.2" xref="S3.SS2.p4.5.m3.6.6.2.3.cmml"><mi id="S3.SS2.p4.5.m3.5.5.1.1" xref="S3.SS2.p4.5.m3.5.5.1.1.cmml">m</mi><mo id="S3.SS2.p4.5.m3.6.6.2.2.2" xref="S3.SS2.p4.5.m3.6.6.2.3.cmml">,</mo><mrow id="S3.SS2.p4.5.m3.6.6.2.2.1" xref="S3.SS2.p4.5.m3.6.6.2.2.1.cmml"><mi id="S3.SS2.p4.5.m3.6.6.2.2.1.2" xref="S3.SS2.p4.5.m3.6.6.2.2.1.2.cmml">t</mi><mo id="S3.SS2.p4.5.m3.6.6.2.2.1.1" xref="S3.SS2.p4.5.m3.6.6.2.2.1.1.cmml">âˆ’</mo><mn id="S3.SS2.p4.5.m3.6.6.2.2.1.3" xref="S3.SS2.p4.5.m3.6.6.2.2.1.3.cmml">1</mn></mrow></mrow></msub><mo id="S3.SS2.p4.5.m3.9.9.2.2.6" stretchy="false" xref="S3.SS2.p4.5.m3.9.9.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.5.m3.9b"><apply id="S3.SS2.p4.5.m3.9.9.cmml" xref="S3.SS2.p4.5.m3.9.9"><eq id="S3.SS2.p4.5.m3.9.9.3.cmml" xref="S3.SS2.p4.5.m3.9.9.3"></eq><apply id="S3.SS2.p4.5.m3.9.9.4.cmml" xref="S3.SS2.p4.5.m3.9.9.4"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m3.9.9.4.1.cmml" xref="S3.SS2.p4.5.m3.9.9.4">subscript</csymbol><ci id="S3.SS2.p4.5.m3.9.9.4.2.cmml" xref="S3.SS2.p4.5.m3.9.9.4.2">ğ‘§</ci><list id="S3.SS2.p4.5.m3.2.2.2.3.cmml" xref="S3.SS2.p4.5.m3.2.2.2.2"><ci id="S3.SS2.p4.5.m3.1.1.1.1.cmml" xref="S3.SS2.p4.5.m3.1.1.1.1">ğ‘š</ci><apply id="S3.SS2.p4.5.m3.2.2.2.2.1.cmml" xref="S3.SS2.p4.5.m3.2.2.2.2.1"><lt id="S3.SS2.p4.5.m3.2.2.2.2.1.1.cmml" xref="S3.SS2.p4.5.m3.2.2.2.2.1.1"></lt><csymbol cd="latexml" id="S3.SS2.p4.5.m3.2.2.2.2.1.2.cmml" xref="S3.SS2.p4.5.m3.2.2.2.2.1.2">absent</csymbol><ci id="S3.SS2.p4.5.m3.2.2.2.2.1.3.cmml" xref="S3.SS2.p4.5.m3.2.2.2.2.1.3">ğ‘¡</ci></apply></list></apply><set id="S3.SS2.p4.5.m3.9.9.2.3.cmml" xref="S3.SS2.p4.5.m3.9.9.2.2"><apply id="S3.SS2.p4.5.m3.8.8.1.1.1.cmml" xref="S3.SS2.p4.5.m3.8.8.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m3.8.8.1.1.1.1.cmml" xref="S3.SS2.p4.5.m3.8.8.1.1.1">subscript</csymbol><ci id="S3.SS2.p4.5.m3.8.8.1.1.1.2.cmml" xref="S3.SS2.p4.5.m3.8.8.1.1.1.2">ğ‘§</ci><list id="S3.SS2.p4.5.m3.4.4.2.3.cmml" xref="S3.SS2.p4.5.m3.4.4.2.4"><ci id="S3.SS2.p4.5.m3.3.3.1.1.cmml" xref="S3.SS2.p4.5.m3.3.3.1.1">ğ‘š</ci><cn id="S3.SS2.p4.5.m3.4.4.2.2.cmml" type="integer" xref="S3.SS2.p4.5.m3.4.4.2.2">1</cn></list></apply><ci id="S3.SS2.p4.5.m3.7.7.cmml" xref="S3.SS2.p4.5.m3.7.7">â€¦</ci><apply id="S3.SS2.p4.5.m3.9.9.2.2.2.cmml" xref="S3.SS2.p4.5.m3.9.9.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m3.9.9.2.2.2.1.cmml" xref="S3.SS2.p4.5.m3.9.9.2.2.2">subscript</csymbol><ci id="S3.SS2.p4.5.m3.9.9.2.2.2.2.cmml" xref="S3.SS2.p4.5.m3.9.9.2.2.2.2">ğ‘§</ci><list id="S3.SS2.p4.5.m3.6.6.2.3.cmml" xref="S3.SS2.p4.5.m3.6.6.2.2"><ci id="S3.SS2.p4.5.m3.5.5.1.1.cmml" xref="S3.SS2.p4.5.m3.5.5.1.1">ğ‘š</ci><apply id="S3.SS2.p4.5.m3.6.6.2.2.1.cmml" xref="S3.SS2.p4.5.m3.6.6.2.2.1"><minus id="S3.SS2.p4.5.m3.6.6.2.2.1.1.cmml" xref="S3.SS2.p4.5.m3.6.6.2.2.1.1"></minus><ci id="S3.SS2.p4.5.m3.6.6.2.2.1.2.cmml" xref="S3.SS2.p4.5.m3.6.6.2.2.1.2">ğ‘¡</ci><cn id="S3.SS2.p4.5.m3.6.6.2.2.1.3.cmml" type="integer" xref="S3.SS2.p4.5.m3.6.6.2.2.1.3">1</cn></apply></list></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.5.m3.9c">z_{m,&lt;t}=\{z_{m,1},\dots,z_{m,t-1}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.5.m3.9d">italic_z start_POSTSUBSCRIPT italic_m , &lt; italic_t end_POSTSUBSCRIPT = { italic_z start_POSTSUBSCRIPT italic_m , 1 end_POSTSUBSCRIPT , â€¦ , italic_z start_POSTSUBSCRIPT italic_m , italic_t - 1 end_POSTSUBSCRIPT }</annotation></semantics></math>. Plugging this into EquationÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3.E3" title="In 3.1 Preliminary: Influence Functions â€£ 3 Methodology â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">3</span></a> yields the token-level influence of <math alttext="z_{m,t}" class="ltx_Math" display="inline" id="S3.SS2.p4.6.m4.2"><semantics id="S3.SS2.p4.6.m4.2a"><msub id="S3.SS2.p4.6.m4.2.3" xref="S3.SS2.p4.6.m4.2.3.cmml"><mi id="S3.SS2.p4.6.m4.2.3.2" xref="S3.SS2.p4.6.m4.2.3.2.cmml">z</mi><mrow id="S3.SS2.p4.6.m4.2.2.2.4" xref="S3.SS2.p4.6.m4.2.2.2.3.cmml"><mi id="S3.SS2.p4.6.m4.1.1.1.1" xref="S3.SS2.p4.6.m4.1.1.1.1.cmml">m</mi><mo id="S3.SS2.p4.6.m4.2.2.2.4.1" xref="S3.SS2.p4.6.m4.2.2.2.3.cmml">,</mo><mi id="S3.SS2.p4.6.m4.2.2.2.2" xref="S3.SS2.p4.6.m4.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.6.m4.2b"><apply id="S3.SS2.p4.6.m4.2.3.cmml" xref="S3.SS2.p4.6.m4.2.3"><csymbol cd="ambiguous" id="S3.SS2.p4.6.m4.2.3.1.cmml" xref="S3.SS2.p4.6.m4.2.3">subscript</csymbol><ci id="S3.SS2.p4.6.m4.2.3.2.cmml" xref="S3.SS2.p4.6.m4.2.3.2">ğ‘§</ci><list id="S3.SS2.p4.6.m4.2.2.2.3.cmml" xref="S3.SS2.p4.6.m4.2.2.2.4"><ci id="S3.SS2.p4.6.m4.1.1.1.1.cmml" xref="S3.SS2.p4.6.m4.1.1.1.1">ğ‘š</ci><ci id="S3.SS2.p4.6.m4.2.2.2.2.cmml" xref="S3.SS2.p4.6.m4.2.2.2.2">ğ‘¡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.6.m4.2c">z_{m,t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.6.m4.2d">italic_z start_POSTSUBSCRIPT italic_m , italic_t end_POSTSUBSCRIPT</annotation></semantics></math>:<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>This term captures the influence of <math alttext="z_{m,t}" class="ltx_Math" display="inline" id="footnote3.m1.2"><semantics id="footnote3.m1.2b"><msub id="footnote3.m1.2.3" xref="footnote3.m1.2.3.cmml"><mi id="footnote3.m1.2.3.2" xref="footnote3.m1.2.3.2.cmml">z</mi><mrow id="footnote3.m1.2.2.2.4" xref="footnote3.m1.2.2.2.3.cmml"><mi id="footnote3.m1.1.1.1.1" xref="footnote3.m1.1.1.1.1.cmml">m</mi><mo id="footnote3.m1.2.2.2.4.1" xref="footnote3.m1.2.2.2.3.cmml">,</mo><mi id="footnote3.m1.2.2.2.2" xref="footnote3.m1.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="footnote3.m1.2c"><apply id="footnote3.m1.2.3.cmml" xref="footnote3.m1.2.3"><csymbol cd="ambiguous" id="footnote3.m1.2.3.1.cmml" xref="footnote3.m1.2.3">subscript</csymbol><ci id="footnote3.m1.2.3.2.cmml" xref="footnote3.m1.2.3.2">ğ‘§</ci><list id="footnote3.m1.2.2.2.3.cmml" xref="footnote3.m1.2.2.2.4"><ci id="footnote3.m1.1.1.1.1.cmml" xref="footnote3.m1.1.1.1.1">ğ‘š</ci><ci id="footnote3.m1.2.2.2.2.cmml" xref="footnote3.m1.2.2.2.2">ğ‘¡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote3.m1.2d">z_{m,t}</annotation><annotation encoding="application/x-llamapun" id="footnote3.m1.2e">italic_z start_POSTSUBSCRIPT italic_m , italic_t end_POSTSUBSCRIPT</annotation></semantics></math> as the output for the model to fit, ignoring its role as input in other cases, for simplicity. </span></span></span></p>
<table class="ltx_equation ltx_eqn_table" id="S3.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{I}_{f}(z_{m,t})=\nabla_{\bm{\theta}}f\left(\bm{\theta}\right)^{T}%
\mathbf{H}^{-1}\nabla_{\bm{\theta}}\log p(z_{m,t}|z_{m,&lt;t},\bm{\theta})." class="ltx_Math" display="block" id="S3.E8.m1.9"><semantics id="S3.E8.m1.9a"><mrow id="S3.E8.m1.9.9.1" xref="S3.E8.m1.9.9.1.1.cmml"><mrow id="S3.E8.m1.9.9.1.1" xref="S3.E8.m1.9.9.1.1.cmml"><mrow id="S3.E8.m1.9.9.1.1.1" xref="S3.E8.m1.9.9.1.1.1.cmml"><msub id="S3.E8.m1.9.9.1.1.1.3" xref="S3.E8.m1.9.9.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.9.9.1.1.1.3.2" xref="S3.E8.m1.9.9.1.1.1.3.2.cmml">â„</mi><mi id="S3.E8.m1.9.9.1.1.1.3.3" xref="S3.E8.m1.9.9.1.1.1.3.3.cmml">f</mi></msub><mo id="S3.E8.m1.9.9.1.1.1.2" xref="S3.E8.m1.9.9.1.1.1.2.cmml">â¢</mo><mrow id="S3.E8.m1.9.9.1.1.1.1.1" xref="S3.E8.m1.9.9.1.1.1.1.1.1.cmml"><mo id="S3.E8.m1.9.9.1.1.1.1.1.2" stretchy="false" xref="S3.E8.m1.9.9.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E8.m1.9.9.1.1.1.1.1.1" xref="S3.E8.m1.9.9.1.1.1.1.1.1.cmml"><mi id="S3.E8.m1.9.9.1.1.1.1.1.1.2" xref="S3.E8.m1.9.9.1.1.1.1.1.1.2.cmml">z</mi><mrow id="S3.E8.m1.2.2.2.4" xref="S3.E8.m1.2.2.2.3.cmml"><mi id="S3.E8.m1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.cmml">m</mi><mo id="S3.E8.m1.2.2.2.4.1" xref="S3.E8.m1.2.2.2.3.cmml">,</mo><mi id="S3.E8.m1.2.2.2.2" xref="S3.E8.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="S3.E8.m1.9.9.1.1.1.1.1.3" stretchy="false" xref="S3.E8.m1.9.9.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E8.m1.9.9.1.1.3" xref="S3.E8.m1.9.9.1.1.3.cmml">=</mo><mrow id="S3.E8.m1.9.9.1.1.2" xref="S3.E8.m1.9.9.1.1.2.cmml"><mrow id="S3.E8.m1.9.9.1.1.2.3" xref="S3.E8.m1.9.9.1.1.2.3.cmml"><msub id="S3.E8.m1.9.9.1.1.2.3.1" xref="S3.E8.m1.9.9.1.1.2.3.1.cmml"><mo id="S3.E8.m1.9.9.1.1.2.3.1.2" rspace="0.167em" xref="S3.E8.m1.9.9.1.1.2.3.1.2.cmml">âˆ‡</mo><mi id="S3.E8.m1.9.9.1.1.2.3.1.3" xref="S3.E8.m1.9.9.1.1.2.3.1.3.cmml">ğœ½</mi></msub><mi id="S3.E8.m1.9.9.1.1.2.3.2" xref="S3.E8.m1.9.9.1.1.2.3.2.cmml">f</mi></mrow><mo id="S3.E8.m1.9.9.1.1.2.2" xref="S3.E8.m1.9.9.1.1.2.2.cmml">â¢</mo><msup id="S3.E8.m1.9.9.1.1.2.4" xref="S3.E8.m1.9.9.1.1.2.4.cmml"><mrow id="S3.E8.m1.9.9.1.1.2.4.2.2" xref="S3.E8.m1.9.9.1.1.2.4.cmml"><mo id="S3.E8.m1.9.9.1.1.2.4.2.2.1" xref="S3.E8.m1.9.9.1.1.2.4.cmml">(</mo><mi id="S3.E8.m1.7.7" xref="S3.E8.m1.7.7.cmml">ğœ½</mi><mo id="S3.E8.m1.9.9.1.1.2.4.2.2.2" xref="S3.E8.m1.9.9.1.1.2.4.cmml">)</mo></mrow><mi id="S3.E8.m1.9.9.1.1.2.4.3" xref="S3.E8.m1.9.9.1.1.2.4.3.cmml">T</mi></msup><mo id="S3.E8.m1.9.9.1.1.2.2a" xref="S3.E8.m1.9.9.1.1.2.2.cmml">â¢</mo><msup id="S3.E8.m1.9.9.1.1.2.5" xref="S3.E8.m1.9.9.1.1.2.5.cmml"><mi id="S3.E8.m1.9.9.1.1.2.5.2" xref="S3.E8.m1.9.9.1.1.2.5.2.cmml">ğ‡</mi><mrow id="S3.E8.m1.9.9.1.1.2.5.3" xref="S3.E8.m1.9.9.1.1.2.5.3.cmml"><mo id="S3.E8.m1.9.9.1.1.2.5.3a" xref="S3.E8.m1.9.9.1.1.2.5.3.cmml">âˆ’</mo><mn id="S3.E8.m1.9.9.1.1.2.5.3.2" xref="S3.E8.m1.9.9.1.1.2.5.3.2.cmml">1</mn></mrow></msup><mo id="S3.E8.m1.9.9.1.1.2.2b" lspace="0.167em" xref="S3.E8.m1.9.9.1.1.2.2.cmml">â¢</mo><mrow id="S3.E8.m1.9.9.1.1.2.6" xref="S3.E8.m1.9.9.1.1.2.6.cmml"><mrow id="S3.E8.m1.9.9.1.1.2.6.1" xref="S3.E8.m1.9.9.1.1.2.6.1.cmml"><msub id="S3.E8.m1.9.9.1.1.2.6.1.1" xref="S3.E8.m1.9.9.1.1.2.6.1.1.cmml"><mo id="S3.E8.m1.9.9.1.1.2.6.1.1.2" rspace="0.167em" xref="S3.E8.m1.9.9.1.1.2.6.1.1.2.cmml">âˆ‡</mo><mi id="S3.E8.m1.9.9.1.1.2.6.1.1.3" xref="S3.E8.m1.9.9.1.1.2.6.1.1.3.cmml">ğœ½</mi></msub><mi id="S3.E8.m1.9.9.1.1.2.6.1.2" xref="S3.E8.m1.9.9.1.1.2.6.1.2.cmml">log</mi></mrow><mo id="S3.E8.m1.9.9.1.1.2.6a" lspace="0.167em" xref="S3.E8.m1.9.9.1.1.2.6.cmml">â¡</mo><mi id="S3.E8.m1.9.9.1.1.2.6.2" xref="S3.E8.m1.9.9.1.1.2.6.2.cmml">p</mi></mrow><mo id="S3.E8.m1.9.9.1.1.2.2c" xref="S3.E8.m1.9.9.1.1.2.2.cmml">â¢</mo><mrow id="S3.E8.m1.9.9.1.1.2.1.1" xref="S3.E8.m1.9.9.1.1.2.1.1.1.cmml"><mo id="S3.E8.m1.9.9.1.1.2.1.1.2" stretchy="false" xref="S3.E8.m1.9.9.1.1.2.1.1.1.cmml">(</mo><mrow id="S3.E8.m1.9.9.1.1.2.1.1.1" xref="S3.E8.m1.9.9.1.1.2.1.1.1.cmml"><msub id="S3.E8.m1.9.9.1.1.2.1.1.1.3" xref="S3.E8.m1.9.9.1.1.2.1.1.1.3.cmml"><mi id="S3.E8.m1.9.9.1.1.2.1.1.1.3.2" xref="S3.E8.m1.9.9.1.1.2.1.1.1.3.2.cmml">z</mi><mrow id="S3.E8.m1.4.4.2.4" xref="S3.E8.m1.4.4.2.3.cmml"><mi id="S3.E8.m1.3.3.1.1" xref="S3.E8.m1.3.3.1.1.cmml">m</mi><mo id="S3.E8.m1.4.4.2.4.1" xref="S3.E8.m1.4.4.2.3.cmml">,</mo><mi id="S3.E8.m1.4.4.2.2" xref="S3.E8.m1.4.4.2.2.cmml">t</mi></mrow></msub><mo fence="false" id="S3.E8.m1.9.9.1.1.2.1.1.1.2" xref="S3.E8.m1.9.9.1.1.2.1.1.1.2.cmml">|</mo><mrow id="S3.E8.m1.9.9.1.1.2.1.1.1.1.1" xref="S3.E8.m1.9.9.1.1.2.1.1.1.1.2.cmml"><msub id="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1" xref="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1.cmml"><mi id="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1.2" xref="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1.2.cmml">z</mi><mrow id="S3.E8.m1.6.6.2.2" xref="S3.E8.m1.6.6.2.3.cmml"><mi id="S3.E8.m1.5.5.1.1" xref="S3.E8.m1.5.5.1.1.cmml">m</mi><mo id="S3.E8.m1.6.6.2.2.2" xref="S3.E8.m1.6.6.2.3.cmml">,</mo><mrow id="S3.E8.m1.6.6.2.2.1" xref="S3.E8.m1.6.6.2.2.1.cmml"><mi id="S3.E8.m1.6.6.2.2.1.2" xref="S3.E8.m1.6.6.2.2.1.2.cmml"></mi><mo id="S3.E8.m1.6.6.2.2.1.1" xref="S3.E8.m1.6.6.2.2.1.1.cmml">&lt;</mo><mi id="S3.E8.m1.6.6.2.2.1.3" xref="S3.E8.m1.6.6.2.2.1.3.cmml">t</mi></mrow></mrow></msub><mo id="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.2" xref="S3.E8.m1.9.9.1.1.2.1.1.1.1.2.cmml">,</mo><mi id="S3.E8.m1.8.8" xref="S3.E8.m1.8.8.cmml">ğœ½</mi></mrow></mrow><mo id="S3.E8.m1.9.9.1.1.2.1.1.3" stretchy="false" xref="S3.E8.m1.9.9.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E8.m1.9.9.1.2" lspace="0em" xref="S3.E8.m1.9.9.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.9b"><apply id="S3.E8.m1.9.9.1.1.cmml" xref="S3.E8.m1.9.9.1"><eq id="S3.E8.m1.9.9.1.1.3.cmml" xref="S3.E8.m1.9.9.1.1.3"></eq><apply id="S3.E8.m1.9.9.1.1.1.cmml" xref="S3.E8.m1.9.9.1.1.1"><times id="S3.E8.m1.9.9.1.1.1.2.cmml" xref="S3.E8.m1.9.9.1.1.1.2"></times><apply id="S3.E8.m1.9.9.1.1.1.3.cmml" xref="S3.E8.m1.9.9.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.9.9.1.1.1.3.1.cmml" xref="S3.E8.m1.9.9.1.1.1.3">subscript</csymbol><ci id="S3.E8.m1.9.9.1.1.1.3.2.cmml" xref="S3.E8.m1.9.9.1.1.1.3.2">â„</ci><ci id="S3.E8.m1.9.9.1.1.1.3.3.cmml" xref="S3.E8.m1.9.9.1.1.1.3.3">ğ‘“</ci></apply><apply id="S3.E8.m1.9.9.1.1.1.1.1.1.cmml" xref="S3.E8.m1.9.9.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.9.9.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.9.9.1.1.1.1.1">subscript</csymbol><ci id="S3.E8.m1.9.9.1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.9.9.1.1.1.1.1.1.2">ğ‘§</ci><list id="S3.E8.m1.2.2.2.3.cmml" xref="S3.E8.m1.2.2.2.4"><ci id="S3.E8.m1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1">ğ‘š</ci><ci id="S3.E8.m1.2.2.2.2.cmml" xref="S3.E8.m1.2.2.2.2">ğ‘¡</ci></list></apply></apply><apply id="S3.E8.m1.9.9.1.1.2.cmml" xref="S3.E8.m1.9.9.1.1.2"><times id="S3.E8.m1.9.9.1.1.2.2.cmml" xref="S3.E8.m1.9.9.1.1.2.2"></times><apply id="S3.E8.m1.9.9.1.1.2.3.cmml" xref="S3.E8.m1.9.9.1.1.2.3"><apply id="S3.E8.m1.9.9.1.1.2.3.1.cmml" xref="S3.E8.m1.9.9.1.1.2.3.1"><csymbol cd="ambiguous" id="S3.E8.m1.9.9.1.1.2.3.1.1.cmml" xref="S3.E8.m1.9.9.1.1.2.3.1">subscript</csymbol><ci id="S3.E8.m1.9.9.1.1.2.3.1.2.cmml" xref="S3.E8.m1.9.9.1.1.2.3.1.2">âˆ‡</ci><ci id="S3.E8.m1.9.9.1.1.2.3.1.3.cmml" xref="S3.E8.m1.9.9.1.1.2.3.1.3">ğœ½</ci></apply><ci id="S3.E8.m1.9.9.1.1.2.3.2.cmml" xref="S3.E8.m1.9.9.1.1.2.3.2">ğ‘“</ci></apply><apply id="S3.E8.m1.9.9.1.1.2.4.cmml" xref="S3.E8.m1.9.9.1.1.2.4"><csymbol cd="ambiguous" id="S3.E8.m1.9.9.1.1.2.4.1.cmml" xref="S3.E8.m1.9.9.1.1.2.4">superscript</csymbol><ci id="S3.E8.m1.7.7.cmml" xref="S3.E8.m1.7.7">ğœ½</ci><ci id="S3.E8.m1.9.9.1.1.2.4.3.cmml" xref="S3.E8.m1.9.9.1.1.2.4.3">ğ‘‡</ci></apply><apply id="S3.E8.m1.9.9.1.1.2.5.cmml" xref="S3.E8.m1.9.9.1.1.2.5"><csymbol cd="ambiguous" id="S3.E8.m1.9.9.1.1.2.5.1.cmml" xref="S3.E8.m1.9.9.1.1.2.5">superscript</csymbol><ci id="S3.E8.m1.9.9.1.1.2.5.2.cmml" xref="S3.E8.m1.9.9.1.1.2.5.2">ğ‡</ci><apply id="S3.E8.m1.9.9.1.1.2.5.3.cmml" xref="S3.E8.m1.9.9.1.1.2.5.3"><minus id="S3.E8.m1.9.9.1.1.2.5.3.1.cmml" xref="S3.E8.m1.9.9.1.1.2.5.3"></minus><cn id="S3.E8.m1.9.9.1.1.2.5.3.2.cmml" type="integer" xref="S3.E8.m1.9.9.1.1.2.5.3.2">1</cn></apply></apply><apply id="S3.E8.m1.9.9.1.1.2.6.cmml" xref="S3.E8.m1.9.9.1.1.2.6"><apply id="S3.E8.m1.9.9.1.1.2.6.1.cmml" xref="S3.E8.m1.9.9.1.1.2.6.1"><apply id="S3.E8.m1.9.9.1.1.2.6.1.1.cmml" xref="S3.E8.m1.9.9.1.1.2.6.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.9.9.1.1.2.6.1.1.1.cmml" xref="S3.E8.m1.9.9.1.1.2.6.1.1">subscript</csymbol><ci id="S3.E8.m1.9.9.1.1.2.6.1.1.2.cmml" xref="S3.E8.m1.9.9.1.1.2.6.1.1.2">âˆ‡</ci><ci id="S3.E8.m1.9.9.1.1.2.6.1.1.3.cmml" xref="S3.E8.m1.9.9.1.1.2.6.1.1.3">ğœ½</ci></apply><log id="S3.E8.m1.9.9.1.1.2.6.1.2.cmml" xref="S3.E8.m1.9.9.1.1.2.6.1.2"></log></apply><ci id="S3.E8.m1.9.9.1.1.2.6.2.cmml" xref="S3.E8.m1.9.9.1.1.2.6.2">ğ‘</ci></apply><apply id="S3.E8.m1.9.9.1.1.2.1.1.1.cmml" xref="S3.E8.m1.9.9.1.1.2.1.1"><csymbol cd="latexml" id="S3.E8.m1.9.9.1.1.2.1.1.1.2.cmml" xref="S3.E8.m1.9.9.1.1.2.1.1.1.2">conditional</csymbol><apply id="S3.E8.m1.9.9.1.1.2.1.1.1.3.cmml" xref="S3.E8.m1.9.9.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.9.9.1.1.2.1.1.1.3.1.cmml" xref="S3.E8.m1.9.9.1.1.2.1.1.1.3">subscript</csymbol><ci id="S3.E8.m1.9.9.1.1.2.1.1.1.3.2.cmml" xref="S3.E8.m1.9.9.1.1.2.1.1.1.3.2">ğ‘§</ci><list id="S3.E8.m1.4.4.2.3.cmml" xref="S3.E8.m1.4.4.2.4"><ci id="S3.E8.m1.3.3.1.1.cmml" xref="S3.E8.m1.3.3.1.1">ğ‘š</ci><ci id="S3.E8.m1.4.4.2.2.cmml" xref="S3.E8.m1.4.4.2.2">ğ‘¡</ci></list></apply><list id="S3.E8.m1.9.9.1.1.2.1.1.1.1.2.cmml" xref="S3.E8.m1.9.9.1.1.2.1.1.1.1.1"><apply id="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.9.9.1.1.2.1.1.1.1.1.1.2">ğ‘§</ci><list id="S3.E8.m1.6.6.2.3.cmml" xref="S3.E8.m1.6.6.2.2"><ci id="S3.E8.m1.5.5.1.1.cmml" xref="S3.E8.m1.5.5.1.1">ğ‘š</ci><apply id="S3.E8.m1.6.6.2.2.1.cmml" xref="S3.E8.m1.6.6.2.2.1"><lt id="S3.E8.m1.6.6.2.2.1.1.cmml" xref="S3.E8.m1.6.6.2.2.1.1"></lt><csymbol cd="latexml" id="S3.E8.m1.6.6.2.2.1.2.cmml" xref="S3.E8.m1.6.6.2.2.1.2">absent</csymbol><ci id="S3.E8.m1.6.6.2.2.1.3.cmml" xref="S3.E8.m1.6.6.2.2.1.3">ğ‘¡</ci></apply></list></apply><ci id="S3.E8.m1.8.8.cmml" xref="S3.E8.m1.8.8">ğœ½</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.9c">\mathcal{I}_{f}(z_{m,t})=\nabla_{\bm{\theta}}f\left(\bm{\theta}\right)^{T}%
\mathbf{H}^{-1}\nabla_{\bm{\theta}}\log p(z_{m,t}|z_{m,&lt;t},\bm{\theta}).</annotation><annotation encoding="application/x-llamapun" id="S3.E8.m1.9d">caligraphic_I start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m , italic_t end_POSTSUBSCRIPT ) = âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT italic_f ( bold_italic_Î¸ ) start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT bold_H start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT roman_log italic_p ( italic_z start_POSTSUBSCRIPT italic_m , italic_t end_POSTSUBSCRIPT | italic_z start_POSTSUBSCRIPT italic_m , &lt; italic_t end_POSTSUBSCRIPT , bold_italic_Î¸ ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">We begin by detailing the experimental setup (Â§4.1), and then present the main findings, progressing from coarse- to fine-grained analyses (Â§4.2â€“Â§4.4).</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Setup</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">We conduct experiments under two SFT settings and interpret math and code reasoning behaviors using influence functions in both scenarios. All training and influence scores computation are carried out on servers equipped with 8 NVIDIA A100 80GB GPUs.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.1">Base models trained w/o long CoT.</span> We fine-tune the Llama3-8B-Base modelÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib7" title="">7</a>]</cite> using a mixed training dataset comprising MetaMathQA-100kÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib39" title="">39</a>]</cite> and OSS-Instruct-75kÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib33" title="">33</a>]</cite>. MetaMathQA-100k includes reformulated questions bootstrapped from training splits of GSM8kÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib3" title="">3</a>]</cite> and MATHÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib11" title="">11</a>]</cite> paired with brief answers (~100 tokens) generated from GPT-3.5-TurboÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib26" title="">26</a>]</cite>. OSS-Instruct-75k provides synthetically generated instructions covering a range of coding tasks. We evaluate the resulting model on the test splits of GSM8k and MBPPÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib1" title="">1</a>]</cite>, filtering correctly answered data to compute influence scores. The MBPP benchmark consists of 1,000 Python programming problems, each comprising a task description and three automated test cases.</p>
</div>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">Instruction-tuned models trained w/ long CoT.</span> We fine-tune the Qwen2.5-7B-Instruct modelÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib36" title="">36</a>]</cite> on the Bespoke-Stratos-17k reasoning dataset<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/datasets/bespokelabs/Bespoke-Stratos-17k" title="">https://huggingface.co/datasets/bespokelabs/Bespoke-Stratos-17k</a></span></span></span> (BS-17k), which includes SFT distillation data from DeepSeek-R1Â <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib9" title="">9</a>]</cite>, comprising questions, reasoning traces, and answers. We employ the AIME24, AIME25, MATH500, and LiveCodeBenchÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib16" title="">16</a>]</cite> benchmarks to evaluate reasoning performance. AIME is a prestigious high school mathematics competition known for its challenging problems. MATH500 is a subset of 500 problems drawn from the MATHÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib11" title="">11</a>]</cite> benchmark. LiveCodeBench evaluates LLMs on diverse coding tasks, including self-repair, code execution, and test output prediction, and currently hosts 400 coding problems.</p>
</div>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p4.1.1">Influence scores computation.</span> We estimate the Hessian using EK-FAC on the full SFT training set, truncating sequences to 4096 tokens to reduce memory usage. We set <math alttext="n=100" class="ltx_Math" display="inline" id="S4.SS1.p4.1.m1.1"><semantics id="S4.SS1.p4.1.m1.1a"><mrow id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml"><mi id="S4.SS1.p4.1.m1.1.1.2" xref="S4.SS1.p4.1.m1.1.1.2.cmml">n</mi><mo id="S4.SS1.p4.1.m1.1.1.1" xref="S4.SS1.p4.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.p4.1.m1.1.1.3" xref="S4.SS1.p4.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><apply id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1"><eq id="S4.SS1.p4.1.m1.1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1.1"></eq><ci id="S4.SS1.p4.1.m1.1.1.2.cmml" xref="S4.SS1.p4.1.m1.1.1.2">ğ‘›</ci><cn id="S4.SS1.p4.1.m1.1.1.3.cmml" type="integer" xref="S4.SS1.p4.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">n=100</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.1.m1.1d">italic_n = 100</annotation></semantics></math> in EquationÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3.E5" title="In 3.2 Attributing LLM Reasoning to Training Data via Influence Functions â€£ 3 Methodology â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">5</span></a> by randomly sampling correctly answered math and code examples.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Instance-level Attribution</h3>
<figure class="ltx_figure" id="S4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="323" id="S4.F2.g1" src="x2.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Cross-domain influence analysis of LLaMA3-8B-Base fine-tuned on combined MetaMathQA and OSS-Instruct for math and code performance. The most beneficial examples for math performance predominantly come from the math domain, while code-domain data also contributes non-trivially (left). A similar cross-domain benefit is observed for code performance (right).</figcaption>
</figure>
<figure class="ltx_figure" id="S4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="316" id="S4.F3.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Average influence score of the training dataset combining MetaMathQA and OSS-Instruct, evaluated on MBPP and GSM8K performance. Results are grouped by training data category (left) and MATH problem difficulty (right).</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS2.p1">
<svg class="ltx_picture" height="55.09" id="S4.SS2.p1.pic1" overflow="visible" version="1.1" width="603.54"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,55.09) matrix(1 0 0 -1 0 0) translate(0,3.54)"><g color="#808080" fill="#808080" fill-opacity="0.5" stroke="#808080" stroke-opacity="0.5"><path d="M 3.54 3.27 L 3.54 41.18 C 3.54 44.95 6.59 48 10.36 48 L 596.73 48 C 600.49 48 603.54 44.95 603.54 41.18 L 603.54 3.27 C 603.54 -0.49 600.49 -3.54 596.73 -3.54 L 10.36 -3.54 C 6.59 -3.54 3.54 -0.49 3.54 3.27 Z" style="stroke:none"></path></g><g fill="#000080" fill-opacity="1.0"><path d="M 0 5.04 L 0 46.5 C 0 49.28 2.26 51.54 5.04 51.54 L 594.96 51.54 C 597.74 51.54 600 49.28 600 46.5 L 600 5.04 C 600 2.26 597.74 0 594.96 0 L 5.04 0 C 2.26 0 0 2.26 0 5.04 Z" style="stroke:none"></path></g><g fill="#FFFFFF" fill-opacity="1.0"><path d="M 1.11 5.04 L 1.11 29.15 L 598.89 29.15 L 598.89 5.04 C 598.89 2.87 597.13 1.11 594.96 1.11 L 5.04 1.11 C 2.87 1.11 1.11 2.87 1.11 5.04 Z" style="stroke:none"></path></g><g fill="#000080" fill-opacity="1.0"><path d="M 1.11 30.26 L 1.11 46.5 C 1.11 48.67 2.87 50.43 5.04 50.43 L 594.96 50.43 C 597.13 50.43 598.89 48.67 598.89 46.5 L 598.89 30.26 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 12.92 34.2)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="574.16">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.SS2.p1.pic1.1.1.1.1.1" style="width:414.9pt;">
<span class="ltx_p" id="S4.SS2.p1.pic1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.SS2.p1.pic1.1.1.1.1.1.1.1">Finding 1:</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 12.92 8.98)"><foreignobject color="#000000" height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="574.16">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.SS2.p1.pic1.2.2.2.1.1" style="width:414.9pt;">
<span class="ltx_p" id="S4.SS2.p1.pic1.2.2.2.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.SS2.p1.pic1.2.2.2.1.1.1.1">Code data can positively influence math performance, and vice versa.</span></span>
</span></foreignobject></g></g></svg>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">To investigate cross-domain influence after fine-tuning LLaMA3-8B-Base on MetaMathQA and OSS-Instruct, we rank training samples based on their positive influence on the mean likelihood of correct answers in math and coding tasks, respectively, and categorize them by domain. As shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F2" title="Figure 2 â€£ 4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">2</span></a> (a), the most influential samples for improving math performance predominantly originate from the math domain. However, influence scores from code-domain data are not narrowly concentrated in the low range (0â€“10); instead, a substantial number exhibit scores in the 15â€“20 range, indicating a non-trivial contribution from code to math. A similar pattern of cross-domain benefit is observed in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F2" title="Figure 2 â€£ 4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">2</span></a> (b). This also holds in long CoT reasoning scenarios as shown in AppendixÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A2" title="Appendix B Cross Domain Influence Analysis in Long CoT Scenarios â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
<figure class="ltx_figure ltx_align_floatright" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="775" id="S4.F4.g1" src="x4.png" width="828"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span><span class="ltx_text" id="S4.F4.2.1" style="font-size:90%;">Different types of MATH questions from MetaMathQAÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib39" title="">39</a>]</cite> dataset.</span></figcaption>
</figure>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">To investigate how various training data types influence code reasoning, we further aggregate training samples by category and compute average influence scores per category. As illustrated in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F3" title="Figure 3 â€£ 4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">3</span></a> (a), in-domain Python data yields the highest average influence on MBPP (a benchmark of 1,000 Python problems). Within the math domain, symbolic problem-answer pairsâ€”such as those introducing variables <math alttext="x" class="ltx_Math" display="inline" id="S4.SS2.p3.1.m1.1"><semantics id="S4.SS2.p3.1.m1.1a"><mi id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><ci id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.m1.1d">italic_x</annotation></semantics></math> in FOBAR and SV formats shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F4" title="Figure 4 â€£ 4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">4</span></a>â€”most effectively enhance coding capabilities. Moreover, college-level math questions from the MATH dataset, which utilize LaTeX-based formal expressions, contribute more positively to code performance than simpler, conversational high-school problems from GSM8k. This suggests that, beyond domain relevance, the complexity and formality of the dataâ€”especially the use of precise symbolic languageâ€”also play a critical role in enabling models to generalize effectively to code reasoning tasks.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p4">
<svg class="ltx_picture" height="104.9" id="S4.SS2.p4.pic1" overflow="visible" version="1.1" width="603.54"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,104.9) matrix(1 0 0 -1 0 0) translate(0,3.54)"><g color="#808080" fill="#808080" fill-opacity="0.5" stroke="#808080" stroke-opacity="0.5"><path d="M 3.54 3.27 L 3.54 91 C 3.54 94.76 6.59 97.81 10.36 97.81 L 596.73 97.81 C 600.49 97.81 603.54 94.76 603.54 91 L 603.54 3.27 C 603.54 -0.49 600.49 -3.54 596.73 -3.54 L 10.36 -3.54 C 6.59 -3.54 3.54 -0.49 3.54 3.27 Z" style="stroke:none"></path></g><g fill="#000080" fill-opacity="1.0"><path d="M 0 5.04 L 0 96.31 C 0 99.1 2.26 101.36 5.04 101.36 L 594.96 101.36 C 597.74 101.36 600 99.1 600 96.31 L 600 5.04 C 600 2.26 597.74 0 594.96 0 L 5.04 0 C 2.26 0 0 2.26 0 5.04 Z" style="stroke:none"></path></g><g fill="#FFFFFF" fill-opacity="1.0"><path d="M 1.11 5.04 L 1.11 78.97 L 598.89 78.97 L 598.89 5.04 C 598.89 2.87 597.13 1.11 594.96 1.11 L 5.04 1.11 C 2.87 1.11 1.11 2.87 1.11 5.04 Z" style="stroke:none"></path></g><g fill="#000080" fill-opacity="1.0"><path d="M 1.11 80.07 L 1.11 96.31 C 1.11 98.49 2.87 100.25 5.04 100.25 L 594.96 100.25 C 597.13 100.25 598.89 98.49 598.89 96.31 L 598.89 80.07 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 12.92 84.01)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="574.16">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.SS2.p4.pic1.1.1.1.1.1" style="width:414.9pt;">
<span class="ltx_p" id="S4.SS2.p4.pic1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.SS2.p4.pic1.1.1.1.1.1.1.1">Finding 2:</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 12.92 8.98)"><foreignobject color="#000000" height="62.11" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="574.16">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.SS2.p4.pic1.2.2.2.1.1" style="width:414.9pt;">
<span class="ltx_p" id="S4.SS2.p4.pic1.2.2.2.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.SS2.p4.pic1.2.2.2.1.1.1.1">Challenging math problems exhibit higher influence scores on both math and code reasoning, while simpler code problems more effectively enhance code tasks when combined with math data. The optimal strategy for co-optimizing reasoning across both domains is to mix challenging math problems with easier code tasks.</span></span>
</span></foreignobject></g></g></svg>
</div>
<div class="ltx_para" id="S4.SS2.p5">
<p class="ltx_p" id="S4.SS2.p5.1">To examine how training data difficulty contributes to model performance, we first categorize MATH training data into different difficulty levels and compute the average influence score for each level. As shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F3" title="Figure 3 â€£ 4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">3</span></a>(b), higher-difficulty problems (Level 5 and 4) contribute more significantly to performance improvements on GSM8k and MBPP compared to lower-difficulty ones (Level 3, 2, and 1). This may be attributed to the fact that high-difficulty MATH problems induce more complex reasoning chains and thus better transfer logical capabilities to other reasoning-intensive tasks.</p>
</div>
<div class="ltx_para" id="S4.SS2.p6">
<p class="ltx_p" id="S4.SS2.p6.1">To further investigate the role of difficulty in long CoT reasoning scenarios, we fine-tune Qwen2.5-7B-Instruct on the BS17k dataset and analyze influence scores grouped by difficulty levels. The results, shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F5" title="Figure 5 â€£ 4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">5</span></a>(a), indicate that challenging tasks in both mathematics and coding are more beneficial for math reasoning. In contrast, easier math problems offer limited gains across both math and coding evaluations. This observation aligns with findings from the w/o long CoT setting and prior works such as LIMOÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib37" title="">37</a>]</cite>, which highlight the utility of difficult math problems in developing reasoning capabilities. On the other hand, we find that simpler code problems are more effective for improving performance on coding tasks when mixed with math data. We hypothesize that, in addition to logical reasoning, programming tasks rely heavily on learning structural and syntactic patterns. When paired with math data that enhances logical thinking, simple coding tasks with clearer structure and more consistent syntax facilitate the modelâ€™s acquisition of fundamental programming patterns, thereby improving code generation performance.</p>
</div>
<div class="ltx_para" id="S4.SS2.p7">
<p class="ltx_p" id="S4.SS2.p7.1">Based on these insights, we design an optimized data mixing strategy: we replace simple math problems in the original dataset with more challenging ones sourced from a larger scale OpenThoughts-114k<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>https://huggingface.co/datasets/open-thoughts/OpenThoughts-114k. Note that this dataset is curated using the same pipeline as BS-17k, with identical question sources and answers distilled from Deepseek-R1.</span></span></span> dataset, and conversely, we replace difficult coding problems with simpler ones. The modified dataset retaining the original size of 17k examples, compared in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F5" title="Figure 5 â€£ 4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">5</span></a>(b), is used to retrain the model. As shown in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.T1" title="Table 1 â€£ 4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">1</span></a>, this new difficulty flipped mixing strategy yields consistent improvements across AIME, MATH, and LiveCodeBench benchmarks. In contrast, applying the reverse strategyâ€”simplifying hard math problems and complicating easy coding tasksâ€”results in the worst performance, further validating our finding.</p>
</div>
<figure class="ltx_figure" id="S4.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="321" id="S4.F5.g1" src="x5.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span><span class="ltx_text ltx_font_italic" id="S4.F5.5.1">Left:</span> Average influence scores of math and code training data from varying difficulty levels on reasoning performance. For instance, Math<math alttext="\xrightarrow{}" class="ltx_Math" display="inline" id="S4.F5.2.m1.1"><semantics id="S4.F5.2.m1.1b"><mover accent="true" id="S4.F5.2.m1.1.1" xref="S4.F5.2.m1.1.1.cmml"><mo id="S4.F5.2.m1.1.1.2" stretchy="false" xref="S4.F5.2.m1.1.1.2.cmml">â†’</mo><mi id="S4.F5.2.m1.1.1.1" xref="S4.F5.2.m1.1.1.1.cmml"></mi></mover><annotation-xml encoding="MathML-Content" id="S4.F5.2.m1.1c"><apply id="S4.F5.2.m1.1.1.cmml" xref="S4.F5.2.m1.1.1"><csymbol cd="latexml" id="S4.F5.2.m1.1.1.1.cmml" xref="S4.F5.2.m1.1.1.1">absent</csymbol><ci id="S4.F5.2.m1.1.1.2.cmml" xref="S4.F5.2.m1.1.1.2">â†’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.2.m1.1d">\xrightarrow{}</annotation><annotation encoding="application/x-llamapun" id="S4.F5.2.m1.1e">start_ARROW start_OVERACCENT end_OVERACCENT â†’ end_ARROW</annotation></semantics></math>Code denotes the influence of math data on code reasoning tasks. <span class="ltx_text ltx_font_italic" id="S4.F5.6.2">Right:</span> Distribution of math and code samples across difficulty levels in the BS17k dataset. The original distribution is shown alongside the adjusted distribution obtained via the difficulty-flip strategy. See TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.T1" title="Table 1 â€£ 4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">1</span></a> for a comparison of SFT results under different mixing strategies.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Comparisons of SFT results with different difficulty-mixing strategies applied to the training dataset on 7B and 14B models. We report pass@1 accuracy of LiveCodeBench.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S4.T1.4.4.5"><span class="ltx_text ltx_font_bold" id="S4.T1.4.4.5.1">Model</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.1.1">AIME24<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T1.1.1.1.1.m1.1"><semantics id="S4.T1.1.1.1.1.m1.1a"><mo id="S4.T1.1.1.1.1.m1.1.1" stretchy="false" xref="S4.T1.1.1.1.1.m1.1.1.cmml">â†‘</mo><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.1.m1.1b"><ci id="S4.T1.1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1">â†‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.1.1.m1.1d">â†‘</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.2.2.2"><span class="ltx_text ltx_font_bold" id="S4.T1.2.2.2.1">AIME25<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T1.2.2.2.1.m1.1"><semantics id="S4.T1.2.2.2.1.m1.1a"><mo id="S4.T1.2.2.2.1.m1.1.1" stretchy="false" xref="S4.T1.2.2.2.1.m1.1.1.cmml">â†‘</mo><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.2.1.m1.1b"><ci id="S4.T1.2.2.2.1.m1.1.1.cmml" xref="S4.T1.2.2.2.1.m1.1.1">â†‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.2.2.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T1.2.2.2.1.m1.1d">â†‘</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.3.3.3"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.3.1">MATH500<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T1.3.3.3.1.m1.1"><semantics id="S4.T1.3.3.3.1.m1.1a"><mo id="S4.T1.3.3.3.1.m1.1.1" stretchy="false" xref="S4.T1.3.3.3.1.m1.1.1.cmml">â†‘</mo><annotation-xml encoding="MathML-Content" id="S4.T1.3.3.3.1.m1.1b"><ci id="S4.T1.3.3.3.1.m1.1.1.cmml" xref="S4.T1.3.3.3.1.m1.1.1">â†‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.3.3.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T1.3.3.3.1.m1.1d">â†‘</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.4.4.4"><span class="ltx_text ltx_font_bold" id="S4.T1.4.4.4.1">LiveCodeBench<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T1.4.4.4.1.m1.1"><semantics id="S4.T1.4.4.4.1.m1.1a"><mo id="S4.T1.4.4.4.1.m1.1.1" stretchy="false" xref="S4.T1.4.4.4.1.m1.1.1.cmml">â†‘</mo><annotation-xml encoding="MathML-Content" id="S4.T1.4.4.4.1.m1.1b"><ci id="S4.T1.4.4.4.1.m1.1.1.cmml" xref="S4.T1.4.4.4.1.m1.1.1">â†‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.4.4.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T1.4.4.4.1.m1.1d">â†‘</annotation></semantics></math></span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.4.5.1" style="background-color:#F2F2F2;">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.4.5.1.1"><span class="ltx_text ltx_font_bold" id="S4.T1.4.5.1.1.1" style="background-color:#F2F2F2;">Qwen2.5-Instruct-7B</span></td>
<td class="ltx_td ltx_border_t" id="S4.T1.4.5.1.2"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.4.5.1.3"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.4.5.1.4"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.4.5.1.5"></td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.6.2">
<td class="ltx_td ltx_align_left" id="S4.T1.4.6.2.1">Bespoke-Stratos-17k</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.6.2.2">10.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.6.2.3">6.7</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.6.2.4">77.2</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.6.2.5">33.8</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.7.3">
<td class="ltx_td ltx_align_left" id="S4.T1.4.7.3.1">Difficulty-reverse-Flipped</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.7.3.2">13.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.7.3.3">10.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.7.3.4">76.4</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.7.3.5">30.0</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.8.4">
<td class="ltx_td ltx_align_left" id="S4.T1.4.8.4.1">Difficulty-Flipped (Ours)</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.8.4.2"><span class="ltx_text ltx_font_bold" id="S4.T1.4.8.4.2.1">20.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.8.4.3"><span class="ltx_text ltx_font_bold" id="S4.T1.4.8.4.3.1">16.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.8.4.4"><span class="ltx_text ltx_font_bold" id="S4.T1.4.8.4.4.1">78.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.8.4.5"><span class="ltx_text ltx_font_bold" id="S4.T1.4.8.4.5.1">35.3</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.9.5" style="background-color:#F2F2F2;">
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T1.4.9.5.1"><span class="ltx_text ltx_font_bold" id="S4.T1.4.9.5.1.1" style="background-color:#F2F2F2;">Qwen2.5-Instruct-14B</span></td>
<td class="ltx_td ltx_border_t" id="S4.T1.4.9.5.2"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.4.9.5.3"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.4.9.5.4"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.4.9.5.5"></td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.10.6">
<td class="ltx_td ltx_align_left" id="S4.T1.4.10.6.1">Bespoke-Stratos-17k</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.10.6.2">20.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.10.6.3">13.3</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.10.6.4">84.4</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.10.6.5">45.3</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.11.7">
<td class="ltx_td ltx_align_left" id="S4.T1.4.11.7.1">Difficulty-reverse-Flipped</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.11.7.2">20.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.11.7.3">23.3</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.11.7.4">83.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.11.7.5">43.8</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.12.8">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T1.4.12.8.1">Difficulty-Flipped (Ours)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.12.8.2"><span class="ltx_text ltx_font_bold" id="S4.T1.4.12.8.2.1">23.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.12.8.3"><span class="ltx_text ltx_font_bold" id="S4.T1.4.12.8.3.1">23.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.12.8.4"><span class="ltx_text ltx_font_bold" id="S4.T1.4.12.8.4.1">84.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.12.8.5"><span class="ltx_text ltx_font_bold" id="S4.T1.4.12.8.5.1">45.5</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Sequence-level Attribution</h3>
<div class="ltx_para ltx_noindent" id="S4.SS3.p1">
<svg class="ltx_picture" height="104.9" id="S4.SS3.p1.pic1" overflow="visible" version="1.1" width="603.54"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,104.9) matrix(1 0 0 -1 0 0) translate(0,3.54)"><g color="#808080" fill="#808080" fill-opacity="0.5" stroke="#808080" stroke-opacity="0.5"><path d="M 3.54 3.27 L 3.54 91 C 3.54 94.76 6.59 97.81 10.36 97.81 L 596.73 97.81 C 600.49 97.81 603.54 94.76 603.54 91 L 603.54 3.27 C 603.54 -0.49 600.49 -3.54 596.73 -3.54 L 10.36 -3.54 C 6.59 -3.54 3.54 -0.49 3.54 3.27 Z" style="stroke:none"></path></g><g fill="#000080" fill-opacity="1.0"><path d="M 0 5.04 L 0 96.31 C 0 99.1 2.26 101.36 5.04 101.36 L 594.96 101.36 C 597.74 101.36 600 99.1 600 96.31 L 600 5.04 C 600 2.26 597.74 0 594.96 0 L 5.04 0 C 2.26 0 0 2.26 0 5.04 Z" style="stroke:none"></path></g><g fill="#FFFFFF" fill-opacity="1.0"><path d="M 1.11 5.04 L 1.11 78.97 L 598.89 78.97 L 598.89 5.04 C 598.89 2.87 597.13 1.11 594.96 1.11 L 5.04 1.11 C 2.87 1.11 1.11 2.87 1.11 5.04 Z" style="stroke:none"></path></g><g fill="#000080" fill-opacity="1.0"><path d="M 1.11 80.07 L 1.11 96.31 C 1.11 98.49 2.87 100.25 5.04 100.25 L 594.96 100.25 C 597.13 100.25 598.89 98.49 598.89 96.31 L 598.89 80.07 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 12.92 84.01)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="574.16">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.SS3.p1.pic1.1.1.1.1.1" style="width:414.9pt;">
<span class="ltx_p" id="S4.SS3.p1.pic1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.SS3.p1.pic1.1.1.1.1.1.1.1">Finding 3:</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 12.92 8.98)"><foreignobject color="#000000" height="62.11" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="574.16">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.SS3.p1.pic1.2.2.2.1.1" style="width:414.9pt;">
<span class="ltx_p" id="S4.SS3.p1.pic1.2.2.2.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.SS3.p1.pic1.2.2.2.1.1.1.1">The presence of â€˜searching for another approach after reaching correct answersâ€™ in math reasoning traces benefits to both math and code reasoning. While previously considered unnecessary overthinking, our sequence-level influence analysis and SFT ablations demonstrate its positive impact, suggesting such exploratory behaviour may promote generalizable reasoning skills.</span></span>
</span></foreignobject></g></g></svg>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">We are interested in the influence of different cognitive behaviors on reasoning performance. Following prior workÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib4" title="">4</a>]</cite>, we focus on five key behaviors: exploration (seeking alternative approaches after reaching a correct answer), verification (systematic error-checking), backtracking (abandoning ineffective strategies), subgoal setting (breaking problems into manageable steps), and backward chaining (reasoning from desired outcomes to initial inputs). To identify these behaviors in the BS-17k dataset, we use Qwen-32B-instruct as a classifier, with details provided in AppendixÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A5" title="Appendix E Examples for Reasoning Behaviors Classifier â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">E</span></a>.</p>
</div>
<figure class="ltx_figure" id="S4.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="341" id="S4.F6.g1" src="x6.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span><span class="ltx_text ltx_font_italic" id="S4.F6.3.1">Left:</span> An example of long CoT illustrating cognitive behaviors: verification (systematic error-checking) and exploration (searching for another approach after reaching the correct answer). <span class="ltx_text ltx_font_italic" id="S4.F6.4.2">Right:</span> Distribution of different cognitive behaviors in BS-17k training dataset and their average impact on math and code reasoning performance.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Sequence-level attribution of cognitive behaviors in long CoT. <span class="ltx_text ltx_font_italic" id="S4.T2.3.1">Left:</span> Comparison of influence scores of the example in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F6" title="Figure 6 â€£ 4.3 Sequence-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">6</span></a> on math and code reasoning, w/ and w/o verification and exploration sentences. <span class="ltx_text ltx_font_italic" id="S4.T2.4.2">Right:</span> Comparison of SFT results w/ and w/o exploration behaviors in BS-17k dataset.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<table class="ltx_tabular ltx_centering ltx_figure_panel ltx_minipage ltx_align_middle" id="S4.T2.5" style="width:238.5pt;">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.5.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T2.5.1.1.1">Domain</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.5.1.1.2">full CoT</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.5.1.1.3">w/o Ver.</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.5.1.1.4">w/o Exp.</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.5.1.1.5">w/o both</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.5.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.5.2.1.1">Math</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.2.1.2">2.2e+08</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.2.1.3">1.5e+08</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.2.1.4">9.0e+07</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.2.1.5">7.0e+07</td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T2.5.3.2.1">Code</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.3.2.2">2.2e+07</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.3.2.3">1.6e+07</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.3.2.4">8.4e+06</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.3.2.5">7.5e+06</td>
</tr>
</tbody>
</table>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<table class="ltx_tabular ltx_centering ltx_figure_panel ltx_minipage ltx_align_middle" id="S4.T2.6" style="width:130.1pt;">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.6.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T2.6.1.1.1">Model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.6.1.1.2">MATH500</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.6.1.1.3">LiveCodeBench</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.6.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.6.2.1.1">w/ Exp.</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.2.1.2">77.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.2.1.3">33.8</td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T2.6.3.2.1">w/o Exp.</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.3.2.2">73.8</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.3.2.3">32.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">As shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F6" title="Figure 6 â€£ 4.3 Sequence-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">6</span></a> (right), exploration behavior is notably prevalent in the training dataset. However, prior research often views exploration as detrimental, considering it a form of overthinking that can reduce efficiencyÂ <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#bib.bib32" title="">32</a>]</cite>. We therefore seek to assess whether this cognitive behavior has a positive or negative impact using influence functions. Specifically, we truncate sentences in the training data where exploration behavior is present and examine the change in the influence score, as defined in EquationÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3.E6" title="In 3.2 Attributing LLM Reasoning to Training Data via Influence Functions â€£ 3 Methodology â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">6</span></a>. The results, presented in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.T2" title="Table 2 â€£ 4.3 Sequence-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">2</span></a> (left), show that exploration behavior is not redundant; on the contrary, it has a positive effect on both math and code reasoning performance, with the positive impact of exploration even exceeding that of verification.</p>
</div>
<div class="ltx_para" id="S4.SS3.p4">
<p class="ltx_p" id="S4.SS3.p4.1">To further validate this, we use GPT-4o to truncate all exploration behaviors in the BS-17k dataset for SFT, with the instruction details shown in AppendixÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A4" title="Appendix D Case of Truncating Exploration Behavior â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">D</span></a>. The SFT results in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.T2" title="Table 2 â€£ 4.3 Sequence-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">2</span></a> (right) show a significant performance drop when exploration behavior is removed. We attribute this decline to explorationâ€™s role in enabling flexible problem-solving, essential for adapting to diverse reasoning tasks. Beyond exploration, we compare average influence scores across other cognitive behaviors. As shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F6" title="Figure 6 â€£ 4.3 Sequence-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">6</span></a> (right), backtracking is crucial for mathematical reasoning, while subgoal setting is more impactful in programming tasks. This may be because programming requires breaking down high-level goals into modular components, making subgoal setting essential.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Token-level Attribution</h3>
<div class="ltx_para ltx_noindent" id="S4.SS4.p1">
<svg class="ltx_picture" height="88.29" id="S4.SS4.p1.pic1" overflow="visible" version="1.1" width="603.54"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,88.29) matrix(1 0 0 -1 0 0) translate(0,3.54)"><g color="#808080" fill="#808080" fill-opacity="0.5" stroke="#808080" stroke-opacity="0.5"><path d="M 3.54 3.27 L 3.54 74.39 C 3.54 78.16 6.59 81.21 10.36 81.21 L 596.73 81.21 C 600.49 81.21 603.54 78.16 603.54 74.39 L 603.54 3.27 C 603.54 -0.49 600.49 -3.54 596.73 -3.54 L 10.36 -3.54 C 6.59 -3.54 3.54 -0.49 3.54 3.27 Z" style="stroke:none"></path></g><g fill="#000080" fill-opacity="1.0"><path d="M 0 5.04 L 0 79.71 C 0 82.49 2.26 84.75 5.04 84.75 L 594.96 84.75 C 597.74 84.75 600 82.49 600 79.71 L 600 5.04 C 600 2.26 597.74 0 594.96 0 L 5.04 0 C 2.26 0 0 2.26 0 5.04 Z" style="stroke:none"></path></g><g fill="#FFFFFF" fill-opacity="1.0"><path d="M 1.11 5.04 L 1.11 62.36 L 598.89 62.36 L 598.89 5.04 C 598.89 2.87 597.13 1.11 594.96 1.11 L 5.04 1.11 C 2.87 1.11 1.11 2.87 1.11 5.04 Z" style="stroke:none"></path></g><g fill="#000080" fill-opacity="1.0"><path d="M 1.11 63.47 L 1.11 79.71 C 1.11 81.88 2.87 83.64 5.04 83.64 L 594.96 83.64 C 597.13 83.64 598.89 81.88 598.89 79.71 L 598.89 63.47 Z" style="stroke:none"></path></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 12.92 67.41)"><foreignobject color="#FFFFFF" height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="574.16">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.SS4.p1.pic1.1.1.1.1.1" style="width:414.9pt;">
<span class="ltx_p" id="S4.SS4.p1.pic1.1.1.1.1.1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="S4.SS4.p1.pic1.1.1.1.1.1.1.1">Finding 4:</span></span>
</span></foreignobject></g><g fill-opacity="1.0" transform="matrix(1.0 0.0 0.0 1.0 12.92 8.98)"><foreignobject color="#000000" height="45.51" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="574.16">
<span class="ltx_inline-block ltx_minipage ltx_align_bottom" id="S4.SS4.p1.pic1.2.2.2.1.1" style="width:414.9pt;">
<span class="ltx_p" id="S4.SS4.p1.pic1.2.2.2.1.1.1"><span class="ltx_text ltx_font_italic" id="S4.SS4.p1.pic1.2.2.2.1.1.1.1">Token-wise attribution analysis reveals distinct paradigms in math and code reasoning. In math CoT, influential tokens are natural language with logical connectors, whereas code CoT are dominated by structured code with syntax markers.</span></span>
</span></foreignobject></g></g></svg>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1">To investigate the most influential tokens for stimulating reasoning, we select the top 100 highly influential examples on math and code reasoning, compute token-wise influence scores using EquationÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S3.E8" title="In 3.2 Attributing LLM Reasoning to Training Data via Influence Functions â€£ 3 Methodology â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">8</span></a>, and highlight the top 5% most influential tokens. Interestingly, as shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.F7" title="Figure 7 â€£ 4.4 Token-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">7</span></a>, the initial tokens in CoTâ€”such as â€˜Okay, so Iâ€¦â€™â€”are frequently highlighted, suggesting that these openers help orient the modelâ€™s cognitive process to initiate reasoning. Further analysis reveals that, in math CoTs, the influential tokens are predominantly natural language logical connectors, such as â€˜Waitâ€™, â€˜Howeverâ€™, â€˜Verifyâ€™, â€˜Henceâ€™, â€˜Firstâ€™, â€˜Thereforeâ€™, and â€˜Alternativelyâ€™. In contrast, in code CoTs, the most influential tokens are structural or syntactic elements such as markdown-style headings (e.g., ### Solution), fenced code blocks (e.g., <span class="ltx_text ltx_font_typewriter" id="S4.SS4.p2.1.1">```</span> bash<span class="ltx_text ltx_font_typewriter" id="S4.SS4.p2.1.2">```</span> ), and syntax markers (e.g., def (self, A: List [int])-&gt; int: ), which reflect the highly structured nature of code reasoning. This contrast highlights a divergence in reasoning paradigms: math reasoning relies more heavily on logical discourse, while code reasoning is facilitated by explicit structure and formatting. These divergent patterns may explain why easier code problems with clearer structural formats are particularly beneficial for enhancing code reasoning when integrated with math CoTs that already provide strong logical skills.</p>
</div>
<figure class="ltx_figure" id="S4.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="320" id="S4.F7.g1" src="x7.png" width="789"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span><span class="ltx_text ltx_font_italic" id="S4.F7.3.1">Left:</span> Visualization of top 5% influential tokens in math CoT. <span class="ltx_text ltx_font_italic" id="S4.F7.4.2">Right:</span> Visualization of top 5% influential tokens in code CoT.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this paper, we propose a fine-grained influence function framework to trace how training data on SFT phase shapes LLM reasoning in math and code tasks. Our analysis reveals that cross-domain examplesâ€”especially high-difficulty math and low-difficulty codeâ€”boost reasoning performance across domains. We further extend influence functions to the sequence level, revealing that exploratory behaviors in long CoT consistently enhance performance, challenging prior assumptions that such behaviors reflect overthinking. Token-level analysis reveals distinct paradigms in math and code reasoning. Our work highlights the utility of influence-based attribution for data-centric optimization and opens a path toward more targeted and interpretable reasoning supervised training.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1"><span class="ltx_text ltx_font_bold" id="S5.p2.1.1">Limitations.</span> The main limitations of this work are as follows. We approximate the Hessian <math alttext="\mathbf{H}" class="ltx_Math" display="inline" id="S5.p2.1.m1.1"><semantics id="S5.p2.1.m1.1a"><mi id="S5.p2.1.m1.1.1" xref="S5.p2.1.m1.1.1.cmml">ğ‡</mi><annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.1b"><ci id="S5.p2.1.m1.1.1.cmml" xref="S5.p2.1.m1.1.1">ğ‡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.1.m1.1c">\mathbf{H}</annotation><annotation encoding="application/x-llamapun" id="S5.p2.1.m1.1d">bold_H</annotation></semantics></math> by considering only the MLP parameters and treating the attention as fixed to approximate influence functions for simplicity. Besides, our analysis is limited to mathematical and coding reasoning tasks; extending this framework to other domains, such as commonsense reasoning, remains an open direction for future work.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Austin etÂ al. [2021]</span>
<span class="ltx_bibblock">
Jacob Austin, Augustus Odena, Maxwell Nye, Maarten Bosma, Henryk Michalewski, David Dohan, Ellen Jiang, Carrie Cai, Michael Terry, Quoc Le, etÂ al.

</span>
<span class="ltx_bibblock">Program synthesis with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2108.07732</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen etÂ al. [2024]</span>
<span class="ltx_bibblock">
Xingyu Chen, Jiahao Xu, Tian Liang, Zhiwei He, Jianhui Pang, Dian Yu, Linfeng Song, Qiuzhi Liu, Mengfei Zhou, Zhuosheng Zhang, etÂ al.

</span>
<span class="ltx_bibblock">Do not think that much for 2+ 3=? on the overthinking of o1-like llms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2412.21187</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe etÂ al. [2021]</span>
<span class="ltx_bibblock">
Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen, Heewoo Jun, Lukasz Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro Nakano, etÂ al.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:2110.14168</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gandhi etÂ al. [2025]</span>
<span class="ltx_bibblock">
Kanishk Gandhi, Ayush Chakravarthy, Anikait Singh, Nathan Lile, and NoahÂ D Goodman.

</span>
<span class="ltx_bibblock">Cognitive behaviors that enable self-improving reasoners, or, four habits of highly effective stars.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2503.01307</em>, 2025.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao etÂ al. [2024]</span>
<span class="ltx_bibblock">
Zitian Gao, Boye Niu, Xuzheng He, Haotian Xu, Hongzhang Liu, Aiwei Liu, Xuming Hu, and Lijie Wen.

</span>
<span class="ltx_bibblock">Interpretable contrastive monte carlo tree search reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2410.01707</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">George etÂ al. [2018]</span>
<span class="ltx_bibblock">
Thomas George, CÃ©sar Laurent, Xavier Bouthillier, Nicolas Ballas, and Pascal Vincent.

</span>
<span class="ltx_bibblock">Fast approximate natural gradient descent in a kronecker factored eigenbasis.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Advances in neural information processing systems</em>, 31, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Grattafiori etÂ al. [2024]</span>
<span class="ltx_bibblock">
Aaron Grattafiori, Abhimanyu Dubey, Abhinav Jauhri, Abhinav Pandey, Abhishek Kadian, Ahmad Al-Dahle, Aiesha Letman, Akhil Mathur, Alan Schelten, Alex Vaughan, etÂ al.

</span>
<span class="ltx_bibblock">The llama 3 herd of models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv e-prints</em>, pages arXivâ€“2407, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Grosse etÂ al. [2023]</span>
<span class="ltx_bibblock">
Roger Grosse, Juhan Bae, Cem Anil, Nelson Elhage, Alex Tamkin, Amirhossein Tajdini, Benoit Steiner, Dustin Li, Esin Durmus, and Ethan Perez.

</span>
<span class="ltx_bibblock">Studying large language model generalization with influence functions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">arXiv preprint arXiv:2308.03296</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo etÂ al. [2025]</span>
<span class="ltx_bibblock">
Daya Guo, Dejian Yang, Haowei Zhang, Junxiao Song, Ruoyu Zhang, Runxin Xu, Qihao Zhu, Shirong Ma, Peiyi Wang, Xiao Bi, etÂ al.

</span>
<span class="ltx_bibblock">Deepseek-r1: Incentivizing reasoning capability in llms via reinforcement learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2501.12948</em>, 2025.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks etÂ al. [a]</span>
<span class="ltx_bibblock">
Dan Hendrycks, Steven Basart, Saurav Kadavath, Mantas Mazeika, Akul Arora, Ethan Guo, Collin Burns, Samir Puranik, Horace He, Dawn Song, etÂ al.

</span>
<span class="ltx_bibblock">Measuring coding challenge competence with apps.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">Thirty-fifth Conference on Neural Information Processing Systems Datasets and Benchmarks Track (Round 2)</em>, a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks etÂ al. [b]</span>
<span class="ltx_bibblock">
Dan Hendrycks, Collin Burns, Saurav Kadavath, Akul Arora, Steven Basart, Eric Tang, Dawn Song, and Jacob Steinhardt.

</span>
<span class="ltx_bibblock">Measuring mathematical problem solving with the math dataset.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Thirty-fifth Conference on Neural Information Processing Systems Datasets and Benchmarks Track (Round 2)</em>, b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang and Chang [2022]</span>
<span class="ltx_bibblock">
Jie Huang and Kevin Chen-Chuan Chang.

</span>
<span class="ltx_bibblock">Towards reasoning in large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">arXiv preprint arXiv:2212.10403</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang etÂ al. [2024]</span>
<span class="ltx_bibblock">
Zhen Huang, Haoyang Zou, Xuefeng Li, Yixiu Liu, Yuxiang Zheng, Ethan Chern, Shijie Xia, Yiwei Qin, Weizhe Yuan, and Pengfei Liu.

</span>
<span class="ltx_bibblock">O1 replication journeyâ€“part 2: Surpassing o1-preview through simple distillation, big progress or bitter lesson?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">arXiv preprint arXiv:2411.16489</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ilyas etÂ al. [2022]</span>
<span class="ltx_bibblock">
Andrew Ilyas, SungÂ Min Park, Logan Engstrom, Guillaume Leclerc, and Aleksander Madry.

</span>
<span class="ltx_bibblock">Datamodels: Understanding predictions with data and data with predictions.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">International Conference on Machine Learning</em>, pages 9525â€“9587. PMLR, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jaech etÂ al. [2024]</span>
<span class="ltx_bibblock">
Aaron Jaech, Adam Kalai, Adam Lerer, Adam Richardson, Ahmed El-Kishky, Aiden Low, Alec Helyar, Aleksander Madry, Alex Beutel, Alex Carney, etÂ al.

</span>
<span class="ltx_bibblock">Openai o1 system card.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2412.16720</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jain etÂ al. [2021]</span>
<span class="ltx_bibblock">
Naman Jain, King Han, Alex Gu, Wen-Ding Li, Fanjia Yan, Tianjun Zhang, Sida Wang, Armando Solar-Lezama, Koushik Sen, and Ion Stoica.

</span>
<span class="ltx_bibblock">Livecodebench: Holistic and contamination free evaluation of large language models for code.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">The Thirteenth International Conference on Learning Representations</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koh and Liang [2017]</span>
<span class="ltx_bibblock">
PangÂ Wei Koh and Percy Liang.

</span>
<span class="ltx_bibblock">Understanding black-box predictions via influence functions.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">International conference on machine learning</em>, pages 1885â€“1894. PMLR, 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kumar etÂ al. [2025]</span>
<span class="ltx_bibblock">
Komal Kumar, Tajamul Ashraf, Omkar Thawakar, RaoÂ Muhammad Anwer, Hisham Cholakkal, Mubarak Shah, Ming-Hsuan Yang, PhillipÂ HS Torr, FahadÂ Shahbaz Khan, and Salman Khan.

</span>
<span class="ltx_bibblock">Llm post-training: A deep dive into reasoning large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:2502.21321</em>, 2025.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lambert etÂ al. [2024]</span>
<span class="ltx_bibblock">
Nathan Lambert, Jacob Morrison, Valentina Pyatkin, Shengyi Huang, Hamish Ivison, Faeze Brahman, Lester JamesÂ V Miranda, Alisa Liu, Nouha Dziri, Shane Lyu, etÂ al.

</span>
<span class="ltx_bibblock">T<math alttext="\backslash" class="ltx_Math" display="inline" id="bib.bib19.1.m1.1"><semantics id="bib.bib19.1.m1.1a"><mo id="bib.bib19.1.m1.1.1" xref="bib.bib19.1.m1.1.1.cmml">\</mo><annotation-xml encoding="MathML-Content" id="bib.bib19.1.m1.1b"><ci id="bib.bib19.1.m1.1.1.cmml" xref="bib.bib19.1.m1.1.1">\</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib19.1.m1.1c">\backslash</annotation><annotation encoding="application/x-llamapun" id="bib.bib19.1.m1.1d">\</annotation></semantics></math>" ulu 3: Pushing frontiers in open language model post-training.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.2.1">arXiv preprint arXiv:2411.15124</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al. [2024]</span>
<span class="ltx_bibblock">
Jia Li, Edward Beeching, Lewis Tunstall, Ben Lipkin, Roman Soletskyi, Shengyi Huang, Kashif Rasul, Longhui Yu, AlbertÂ Q Jiang, Ziju Shen, etÂ al.

</span>
<span class="ltx_bibblock">Numinamath: The largest public dataset in ai4maths with 860k pairs of competition math problems and solutions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Hugging Face repository</em>, 13:9, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al. [2025]</span>
<span class="ltx_bibblock">
Junlong Li, Daya Guo, Dejian Yang, Runxin Xu, YuÂ Wu, and Junxian He.

</span>
<span class="ltx_bibblock">Codei/o: Condensing reasoning patterns via code input-output prediction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">arXiv preprint arXiv:2502.07316</em>, 2025.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ling [1984]</span>
<span class="ltx_bibblock">
RobertÂ F Ling.

</span>
<span class="ltx_bibblock">Residuals and influence in regression, 1984.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Min etÂ al. [2024]</span>
<span class="ltx_bibblock">
Yingqian Min, Zhipeng Chen, Jinhao Jiang, Jie Chen, Jia Deng, Yiwen Hu, Yiru Tang, Jiapeng Wang, Xiaoxue Cheng, Huatong Song, etÂ al.

</span>
<span class="ltx_bibblock">Imitate, explore, and self-improve: A reproduction report on slow-thinking reasoning systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:2412.09413</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Muennighoff etÂ al. [2025]</span>
<span class="ltx_bibblock">
Niklas Muennighoff, Zitong Yang, Weijia Shi, XiangÂ Lisa Li, LiÂ Fei-Fei, Hannaneh Hajishirzi, Luke Zettlemoyer, Percy Liang, Emmanuel CandÃ¨s, and Tatsunori Hashimoto.

</span>
<span class="ltx_bibblock">s1: Simple test-time scaling.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">arXiv preprint arXiv:2501.19393</em>, 2025.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">NovaSky [2024]</span>
<span class="ltx_bibblock">
NovaSky.

</span>
<span class="ltx_bibblock">Sky-t1: Train your own o1 preview model, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://novasky-ai.github.io/posts/sky-t1" title="">https://novasky-ai.github.io/posts/sky-t1</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI [2022]</span>
<span class="ltx_bibblock">
OpenAI.

</span>
<span class="ltx_bibblock">Gpt-3.5-turbo.

</span>
<span class="ltx_bibblock">Technical report, OpenAI, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pruthi etÂ al. [2020]</span>
<span class="ltx_bibblock">
Garima Pruthi, Frederick Liu, Satyen Kale, and Mukund Sundararajan.

</span>
<span class="ltx_bibblock">Estimating training data influence by tracing gradient descent.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Advances in Neural Information Processing Systems</em>, 33:19920â€“19930, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qiao etÂ al. [2022]</span>
<span class="ltx_bibblock">
Shuofei Qiao, Yixin Ou, Ningyu Zhang, Xiang Chen, Yunzhi Yao, Shumin Deng, Chuanqi Tan, Fei Huang, and Huajun Chen.

</span>
<span class="ltx_bibblock">Reasoning with language model prompting: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">arXiv preprint arXiv:2212.09597</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin etÂ al. [2024]</span>
<span class="ltx_bibblock">
Yiwei Qin, Xuefeng Li, Haoyang Zou, Yixiu Liu, Shijie Xia, Zhen Huang, Yixin Ye, Weizhe Yuan, Hector Liu, Yuanzhi Li, etÂ al.

</span>
<span class="ltx_bibblock">O1 replication journey: A strategic progress reportâ€“part 1.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2410.18982</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ruis etÂ al. [2024]</span>
<span class="ltx_bibblock">
Laura Ruis, Maximilian Mozes, Juhan Bae, SiddharthaÂ Rao Kamalakara, Dwarak Talupuru, Acyr Locatelli, Robert Kirk, Tim RocktÃ¤schel, Edward Grefenstette, and Max Bartolo.

</span>
<span class="ltx_bibblock">Procedural knowledge in pretraining drives reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">arXiv preprint arXiv:2411.12580</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shapley etÂ al. [1953]</span>
<span class="ltx_bibblock">
LloydÂ S Shapley etÂ al.

</span>
<span class="ltx_bibblock">A value for n-person games.

</span>
<span class="ltx_bibblock">1953.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sui etÂ al. [2025]</span>
<span class="ltx_bibblock">
Yang Sui, Yu-Neng Chuang, Guanchu Wang, Jiamu Zhang, Tianyi Zhang, Jiayi Yuan, Hongyi Liu, Andrew Wen, Hanjie Chen, Xia Hu, etÂ al.

</span>
<span class="ltx_bibblock">Stop overthinking: A survey on efficient reasoning for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">arXiv preprint arXiv:2503.16419</em>, 2025.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei etÂ al. [2024]</span>
<span class="ltx_bibblock">
Yuxiang Wei, Zhe Wang, Jiawei Liu, Yifeng Ding, and Lingming Zhang.

</span>
<span class="ltx_bibblock">Magicoder: Empowering code generation with oss-instruct.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Proceedings of Machine Learning Research</em>, 235:52632â€“52657, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wen etÂ al. [2025]</span>
<span class="ltx_bibblock">
Liang Wen, Yunke Cai, Fenrui Xiao, Xin He, QiÂ An, Zhenyu Duan, Yimin Du, Junchen Liu, Lifu Tang, Xiaowei Lv, etÂ al.

</span>
<span class="ltx_bibblock">Light-r1: Curriculum sft, dpo and rl for long cot from scratch and beyond.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">arXiv preprint arXiv:2503.10460</em>, 2025.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiang etÂ al. [2025]</span>
<span class="ltx_bibblock">
Violet Xiang, Charlie Snell, Kanishk Gandhi, Alon Albalak, Anikait Singh, Chase Blagden, Duy Phung, Rafael Rafailov, Nathan Lile, Dakota Mahan, etÂ al.

</span>
<span class="ltx_bibblock">Towards system 2 reasoning in llms: Learning how to think with meta chain-of-though.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">arXiv preprint arXiv:2501.04682</em>, 2025.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang etÂ al. [2024]</span>
<span class="ltx_bibblock">
AnÂ Yang, Baosong Yang, Beichen Zhang, Binyuan Hui, BoÂ Zheng, Bowen Yu, Chengyuan Li, Dayiheng Liu, Fei Huang, Haoran Wei, etÂ al.

</span>
<span class="ltx_bibblock">Qwen2. 5 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">arXiv preprint arXiv:2412.15115</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ye etÂ al. [2025]</span>
<span class="ltx_bibblock">
Yixin Ye, Zhen Huang, Yang Xiao, Ethan Chern, Shijie Xia, and Pengfei Liu.

</span>
<span class="ltx_bibblock">Limo: Less is more for reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">arXiv preprint arXiv:2502.03387</em>, 2025.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yeh etÂ al. [2018]</span>
<span class="ltx_bibblock">
Chih-Kuan Yeh, Joon Kim, Ian En-Hsu Yen, and PradeepÂ K Ravikumar.

</span>
<span class="ltx_bibblock">Representer point selection for explaining deep neural networks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Advances in neural information processing systems</em>, 31, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu etÂ al. [2023]</span>
<span class="ltx_bibblock">
Longhui Yu, Weisen Jiang, Han Shi, Jincheng Yu, Zhengying Liu, YuÂ Zhang, JamesÂ T Kwok, Zhenguo Li, Adrian Weller, and Weiyang Liu.

</span>
<span class="ltx_bibblock">Metamath: Bootstrap your own mathematical questions for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">arXiv preprint arXiv:2309.12284</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yue etÂ al. [2023]</span>
<span class="ltx_bibblock">
Xiang Yue, Xingwei Qu, GeÂ Zhang, Yao Fu, Wenhao Huang, Huan Sun, YuÂ Su, and Wenhu Chen.

</span>
<span class="ltx_bibblock">Mammoth: Building math generalist models through hybrid instruction tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">arXiv preprint arXiv:2309.05653</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al. [2025]</span>
<span class="ltx_bibblock">
Xinlu Zhang, ZhiyuÂ Zoey Chen, XiÂ Ye, Xianjun Yang, Lichang Chen, WilliamÂ Yang Wang, and LindaÂ Ruth Petzold.

</span>
<span class="ltx_bibblock">Unveiling the impact of coding data instruction fine-tuning on large language models reasoning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, volumeÂ 39, pages 25949â€“25957, 2025.

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Derivation of Influence Score</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.2">Given the influence of <math alttext="z_{m}" class="ltx_Math" display="inline" id="A1.p1.1.m1.1"><semantics id="A1.p1.1.m1.1a"><msub id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml"><mi id="A1.p1.1.m1.1.1.2" xref="A1.p1.1.m1.1.1.2.cmml">z</mi><mi id="A1.p1.1.m1.1.1.3" xref="A1.p1.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><apply id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A1.p1.1.m1.1.1.1.cmml" xref="A1.p1.1.m1.1.1">subscript</csymbol><ci id="A1.p1.1.m1.1.1.2.cmml" xref="A1.p1.1.m1.1.1.2">ğ‘§</ci><ci id="A1.p1.1.m1.1.1.3.cmml" xref="A1.p1.1.m1.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">z_{m}</annotation><annotation encoding="application/x-llamapun" id="A1.p1.1.m1.1d">italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> on model parameters <math alttext="\bm{\theta}" class="ltx_Math" display="inline" id="A1.p1.2.m2.1"><semantics id="A1.p1.2.m2.1a"><mi id="A1.p1.2.m2.1.1" xref="A1.p1.2.m2.1.1.cmml">ğœ½</mi><annotation-xml encoding="MathML-Content" id="A1.p1.2.m2.1b"><ci id="A1.p1.2.m2.1.1.cmml" xref="A1.p1.2.m2.1.1">ğœ½</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.2.m2.1c">\bm{\theta}</annotation><annotation encoding="application/x-llamapun" id="A1.p1.2.m2.1d">bold_italic_Î¸</annotation></semantics></math></p>
<table class="ltx_equation ltx_eqn_table" id="A1.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{I}_{\bm{\theta}}(z_{m})=\left.\frac{d\bm{\theta}}{d\epsilon}\right|_{%
\epsilon=0}=-\mathbf{H}^{-1}\nabla_{\bm{\theta}}\mathcal{L}\left(z_{m},\bm{%
\theta}\right)," class="ltx_Math" display="block" id="A1.E9.m1.4"><semantics id="A1.E9.m1.4a"><mrow id="A1.E9.m1.4.4.1" xref="A1.E9.m1.4.4.1.1.cmml"><mrow id="A1.E9.m1.4.4.1.1" xref="A1.E9.m1.4.4.1.1.cmml"><mrow id="A1.E9.m1.4.4.1.1.1" xref="A1.E9.m1.4.4.1.1.1.cmml"><msub id="A1.E9.m1.4.4.1.1.1.3" xref="A1.E9.m1.4.4.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E9.m1.4.4.1.1.1.3.2" xref="A1.E9.m1.4.4.1.1.1.3.2.cmml">â„</mi><mi id="A1.E9.m1.4.4.1.1.1.3.3" xref="A1.E9.m1.4.4.1.1.1.3.3.cmml">ğœ½</mi></msub><mo id="A1.E9.m1.4.4.1.1.1.2" xref="A1.E9.m1.4.4.1.1.1.2.cmml">â¢</mo><mrow id="A1.E9.m1.4.4.1.1.1.1.1" xref="A1.E9.m1.4.4.1.1.1.1.1.1.cmml"><mo id="A1.E9.m1.4.4.1.1.1.1.1.2" stretchy="false" xref="A1.E9.m1.4.4.1.1.1.1.1.1.cmml">(</mo><msub id="A1.E9.m1.4.4.1.1.1.1.1.1" xref="A1.E9.m1.4.4.1.1.1.1.1.1.cmml"><mi id="A1.E9.m1.4.4.1.1.1.1.1.1.2" xref="A1.E9.m1.4.4.1.1.1.1.1.1.2.cmml">z</mi><mi id="A1.E9.m1.4.4.1.1.1.1.1.1.3" xref="A1.E9.m1.4.4.1.1.1.1.1.1.3.cmml">m</mi></msub><mo id="A1.E9.m1.4.4.1.1.1.1.1.3" stretchy="false" xref="A1.E9.m1.4.4.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.E9.m1.4.4.1.1.4" xref="A1.E9.m1.4.4.1.1.4.cmml">=</mo><msub id="A1.E9.m1.4.4.1.1.5.2" xref="A1.E9.m1.4.4.1.1.5.1.cmml"><mrow id="A1.E9.m1.4.4.1.1.5.2.2" xref="A1.E9.m1.4.4.1.1.5.1.cmml"><mfrac id="A1.E9.m1.1.1" xref="A1.E9.m1.1.1.cmml"><mrow id="A1.E9.m1.1.1.2" xref="A1.E9.m1.1.1.2.cmml"><mi id="A1.E9.m1.1.1.2.2" xref="A1.E9.m1.1.1.2.2.cmml">d</mi><mo id="A1.E9.m1.1.1.2.1" xref="A1.E9.m1.1.1.2.1.cmml">â¢</mo><mi id="A1.E9.m1.1.1.2.3" xref="A1.E9.m1.1.1.2.3.cmml">ğœ½</mi></mrow><mrow id="A1.E9.m1.1.1.3" xref="A1.E9.m1.1.1.3.cmml"><mi id="A1.E9.m1.1.1.3.2" xref="A1.E9.m1.1.1.3.2.cmml">d</mi><mo id="A1.E9.m1.1.1.3.1" xref="A1.E9.m1.1.1.3.1.cmml">â¢</mo><mi id="A1.E9.m1.1.1.3.3" xref="A1.E9.m1.1.1.3.3.cmml">Ïµ</mi></mrow></mfrac><mo id="A1.E9.m1.4.4.1.1.5.2.2.1" xref="A1.E9.m1.4.4.1.1.5.1.1.cmml">|</mo></mrow><mrow id="A1.E9.m1.2.2.1" xref="A1.E9.m1.2.2.1.cmml"><mi id="A1.E9.m1.2.2.1.2" xref="A1.E9.m1.2.2.1.2.cmml">Ïµ</mi><mo id="A1.E9.m1.2.2.1.1" xref="A1.E9.m1.2.2.1.1.cmml">=</mo><mn id="A1.E9.m1.2.2.1.3" xref="A1.E9.m1.2.2.1.3.cmml">0</mn></mrow></msub><mo id="A1.E9.m1.4.4.1.1.6" xref="A1.E9.m1.4.4.1.1.6.cmml">=</mo><mrow id="A1.E9.m1.4.4.1.1.2" xref="A1.E9.m1.4.4.1.1.2.cmml"><mo id="A1.E9.m1.4.4.1.1.2a" xref="A1.E9.m1.4.4.1.1.2.cmml">âˆ’</mo><mrow id="A1.E9.m1.4.4.1.1.2.1" xref="A1.E9.m1.4.4.1.1.2.1.cmml"><msup id="A1.E9.m1.4.4.1.1.2.1.3" xref="A1.E9.m1.4.4.1.1.2.1.3.cmml"><mi id="A1.E9.m1.4.4.1.1.2.1.3.2" xref="A1.E9.m1.4.4.1.1.2.1.3.2.cmml">ğ‡</mi><mrow id="A1.E9.m1.4.4.1.1.2.1.3.3" xref="A1.E9.m1.4.4.1.1.2.1.3.3.cmml"><mo id="A1.E9.m1.4.4.1.1.2.1.3.3a" xref="A1.E9.m1.4.4.1.1.2.1.3.3.cmml">âˆ’</mo><mn id="A1.E9.m1.4.4.1.1.2.1.3.3.2" xref="A1.E9.m1.4.4.1.1.2.1.3.3.2.cmml">1</mn></mrow></msup><mo id="A1.E9.m1.4.4.1.1.2.1.2" lspace="0.167em" xref="A1.E9.m1.4.4.1.1.2.1.2.cmml">â¢</mo><mrow id="A1.E9.m1.4.4.1.1.2.1.4" xref="A1.E9.m1.4.4.1.1.2.1.4.cmml"><msub id="A1.E9.m1.4.4.1.1.2.1.4.1" xref="A1.E9.m1.4.4.1.1.2.1.4.1.cmml"><mo id="A1.E9.m1.4.4.1.1.2.1.4.1.2" rspace="0.167em" xref="A1.E9.m1.4.4.1.1.2.1.4.1.2.cmml">âˆ‡</mo><mi id="A1.E9.m1.4.4.1.1.2.1.4.1.3" xref="A1.E9.m1.4.4.1.1.2.1.4.1.3.cmml">ğœ½</mi></msub><mi class="ltx_font_mathcaligraphic" id="A1.E9.m1.4.4.1.1.2.1.4.2" xref="A1.E9.m1.4.4.1.1.2.1.4.2.cmml">â„’</mi></mrow><mo id="A1.E9.m1.4.4.1.1.2.1.2a" xref="A1.E9.m1.4.4.1.1.2.1.2.cmml">â¢</mo><mrow id="A1.E9.m1.4.4.1.1.2.1.1.1" xref="A1.E9.m1.4.4.1.1.2.1.1.2.cmml"><mo id="A1.E9.m1.4.4.1.1.2.1.1.1.2" xref="A1.E9.m1.4.4.1.1.2.1.1.2.cmml">(</mo><msub id="A1.E9.m1.4.4.1.1.2.1.1.1.1" xref="A1.E9.m1.4.4.1.1.2.1.1.1.1.cmml"><mi id="A1.E9.m1.4.4.1.1.2.1.1.1.1.2" xref="A1.E9.m1.4.4.1.1.2.1.1.1.1.2.cmml">z</mi><mi id="A1.E9.m1.4.4.1.1.2.1.1.1.1.3" xref="A1.E9.m1.4.4.1.1.2.1.1.1.1.3.cmml">m</mi></msub><mo id="A1.E9.m1.4.4.1.1.2.1.1.1.3" xref="A1.E9.m1.4.4.1.1.2.1.1.2.cmml">,</mo><mi id="A1.E9.m1.3.3" xref="A1.E9.m1.3.3.cmml">ğœ½</mi><mo id="A1.E9.m1.4.4.1.1.2.1.1.1.4" xref="A1.E9.m1.4.4.1.1.2.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A1.E9.m1.4.4.1.2" xref="A1.E9.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.E9.m1.4b"><apply id="A1.E9.m1.4.4.1.1.cmml" xref="A1.E9.m1.4.4.1"><and id="A1.E9.m1.4.4.1.1a.cmml" xref="A1.E9.m1.4.4.1"></and><apply id="A1.E9.m1.4.4.1.1b.cmml" xref="A1.E9.m1.4.4.1"><eq id="A1.E9.m1.4.4.1.1.4.cmml" xref="A1.E9.m1.4.4.1.1.4"></eq><apply id="A1.E9.m1.4.4.1.1.1.cmml" xref="A1.E9.m1.4.4.1.1.1"><times id="A1.E9.m1.4.4.1.1.1.2.cmml" xref="A1.E9.m1.4.4.1.1.1.2"></times><apply id="A1.E9.m1.4.4.1.1.1.3.cmml" xref="A1.E9.m1.4.4.1.1.1.3"><csymbol cd="ambiguous" id="A1.E9.m1.4.4.1.1.1.3.1.cmml" xref="A1.E9.m1.4.4.1.1.1.3">subscript</csymbol><ci id="A1.E9.m1.4.4.1.1.1.3.2.cmml" xref="A1.E9.m1.4.4.1.1.1.3.2">â„</ci><ci id="A1.E9.m1.4.4.1.1.1.3.3.cmml" xref="A1.E9.m1.4.4.1.1.1.3.3">ğœ½</ci></apply><apply id="A1.E9.m1.4.4.1.1.1.1.1.1.cmml" xref="A1.E9.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.E9.m1.4.4.1.1.1.1.1.1.1.cmml" xref="A1.E9.m1.4.4.1.1.1.1.1">subscript</csymbol><ci id="A1.E9.m1.4.4.1.1.1.1.1.1.2.cmml" xref="A1.E9.m1.4.4.1.1.1.1.1.1.2">ğ‘§</ci><ci id="A1.E9.m1.4.4.1.1.1.1.1.1.3.cmml" xref="A1.E9.m1.4.4.1.1.1.1.1.1.3">ğ‘š</ci></apply></apply><apply id="A1.E9.m1.4.4.1.1.5.1.cmml" xref="A1.E9.m1.4.4.1.1.5.2"><csymbol cd="latexml" id="A1.E9.m1.4.4.1.1.5.1.1.cmml" xref="A1.E9.m1.4.4.1.1.5.2.2.1">evaluated-at</csymbol><apply id="A1.E9.m1.1.1.cmml" xref="A1.E9.m1.1.1"><divide id="A1.E9.m1.1.1.1.cmml" xref="A1.E9.m1.1.1"></divide><apply id="A1.E9.m1.1.1.2.cmml" xref="A1.E9.m1.1.1.2"><times id="A1.E9.m1.1.1.2.1.cmml" xref="A1.E9.m1.1.1.2.1"></times><ci id="A1.E9.m1.1.1.2.2.cmml" xref="A1.E9.m1.1.1.2.2">ğ‘‘</ci><ci id="A1.E9.m1.1.1.2.3.cmml" xref="A1.E9.m1.1.1.2.3">ğœ½</ci></apply><apply id="A1.E9.m1.1.1.3.cmml" xref="A1.E9.m1.1.1.3"><times id="A1.E9.m1.1.1.3.1.cmml" xref="A1.E9.m1.1.1.3.1"></times><ci id="A1.E9.m1.1.1.3.2.cmml" xref="A1.E9.m1.1.1.3.2">ğ‘‘</ci><ci id="A1.E9.m1.1.1.3.3.cmml" xref="A1.E9.m1.1.1.3.3">italic-Ïµ</ci></apply></apply><apply id="A1.E9.m1.2.2.1.cmml" xref="A1.E9.m1.2.2.1"><eq id="A1.E9.m1.2.2.1.1.cmml" xref="A1.E9.m1.2.2.1.1"></eq><ci id="A1.E9.m1.2.2.1.2.cmml" xref="A1.E9.m1.2.2.1.2">italic-Ïµ</ci><cn id="A1.E9.m1.2.2.1.3.cmml" type="integer" xref="A1.E9.m1.2.2.1.3">0</cn></apply></apply></apply><apply id="A1.E9.m1.4.4.1.1c.cmml" xref="A1.E9.m1.4.4.1"><eq id="A1.E9.m1.4.4.1.1.6.cmml" xref="A1.E9.m1.4.4.1.1.6"></eq><share href="https://arxiv.org/html/2505.19949v1#A1.E9.m1.4.4.1.1.5.cmml" id="A1.E9.m1.4.4.1.1d.cmml" xref="A1.E9.m1.4.4.1"></share><apply id="A1.E9.m1.4.4.1.1.2.cmml" xref="A1.E9.m1.4.4.1.1.2"><minus id="A1.E9.m1.4.4.1.1.2.2.cmml" xref="A1.E9.m1.4.4.1.1.2"></minus><apply id="A1.E9.m1.4.4.1.1.2.1.cmml" xref="A1.E9.m1.4.4.1.1.2.1"><times id="A1.E9.m1.4.4.1.1.2.1.2.cmml" xref="A1.E9.m1.4.4.1.1.2.1.2"></times><apply id="A1.E9.m1.4.4.1.1.2.1.3.cmml" xref="A1.E9.m1.4.4.1.1.2.1.3"><csymbol cd="ambiguous" id="A1.E9.m1.4.4.1.1.2.1.3.1.cmml" xref="A1.E9.m1.4.4.1.1.2.1.3">superscript</csymbol><ci id="A1.E9.m1.4.4.1.1.2.1.3.2.cmml" xref="A1.E9.m1.4.4.1.1.2.1.3.2">ğ‡</ci><apply id="A1.E9.m1.4.4.1.1.2.1.3.3.cmml" xref="A1.E9.m1.4.4.1.1.2.1.3.3"><minus id="A1.E9.m1.4.4.1.1.2.1.3.3.1.cmml" xref="A1.E9.m1.4.4.1.1.2.1.3.3"></minus><cn id="A1.E9.m1.4.4.1.1.2.1.3.3.2.cmml" type="integer" xref="A1.E9.m1.4.4.1.1.2.1.3.3.2">1</cn></apply></apply><apply id="A1.E9.m1.4.4.1.1.2.1.4.cmml" xref="A1.E9.m1.4.4.1.1.2.1.4"><apply id="A1.E9.m1.4.4.1.1.2.1.4.1.cmml" xref="A1.E9.m1.4.4.1.1.2.1.4.1"><csymbol cd="ambiguous" id="A1.E9.m1.4.4.1.1.2.1.4.1.1.cmml" xref="A1.E9.m1.4.4.1.1.2.1.4.1">subscript</csymbol><ci id="A1.E9.m1.4.4.1.1.2.1.4.1.2.cmml" xref="A1.E9.m1.4.4.1.1.2.1.4.1.2">âˆ‡</ci><ci id="A1.E9.m1.4.4.1.1.2.1.4.1.3.cmml" xref="A1.E9.m1.4.4.1.1.2.1.4.1.3">ğœ½</ci></apply><ci id="A1.E9.m1.4.4.1.1.2.1.4.2.cmml" xref="A1.E9.m1.4.4.1.1.2.1.4.2">â„’</ci></apply><interval closure="open" id="A1.E9.m1.4.4.1.1.2.1.1.2.cmml" xref="A1.E9.m1.4.4.1.1.2.1.1.1"><apply id="A1.E9.m1.4.4.1.1.2.1.1.1.1.cmml" xref="A1.E9.m1.4.4.1.1.2.1.1.1.1"><csymbol cd="ambiguous" id="A1.E9.m1.4.4.1.1.2.1.1.1.1.1.cmml" xref="A1.E9.m1.4.4.1.1.2.1.1.1.1">subscript</csymbol><ci id="A1.E9.m1.4.4.1.1.2.1.1.1.1.2.cmml" xref="A1.E9.m1.4.4.1.1.2.1.1.1.1.2">ğ‘§</ci><ci id="A1.E9.m1.4.4.1.1.2.1.1.1.1.3.cmml" xref="A1.E9.m1.4.4.1.1.2.1.1.1.1.3">ğ‘š</ci></apply><ci id="A1.E9.m1.3.3.cmml" xref="A1.E9.m1.3.3">ğœ½</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E9.m1.4c">\mathcal{I}_{\bm{\theta}}(z_{m})=\left.\frac{d\bm{\theta}}{d\epsilon}\right|_{%
\epsilon=0}=-\mathbf{H}^{-1}\nabla_{\bm{\theta}}\mathcal{L}\left(z_{m},\bm{%
\theta}\right),</annotation><annotation encoding="application/x-llamapun" id="A1.E9.m1.4d">caligraphic_I start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ) = divide start_ARG italic_d bold_italic_Î¸ end_ARG start_ARG italic_d italic_Ïµ end_ARG | start_POSTSUBSCRIPT italic_Ïµ = 0 end_POSTSUBSCRIPT = - bold_H start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT caligraphic_L ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , bold_italic_Î¸ ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.p1.3">we can obtain its influence on a function of parameters <math alttext="f(\bm{\theta})" class="ltx_Math" display="inline" id="A1.p1.3.m1.1"><semantics id="A1.p1.3.m1.1a"><mrow id="A1.p1.3.m1.1.2" xref="A1.p1.3.m1.1.2.cmml"><mi id="A1.p1.3.m1.1.2.2" xref="A1.p1.3.m1.1.2.2.cmml">f</mi><mo id="A1.p1.3.m1.1.2.1" xref="A1.p1.3.m1.1.2.1.cmml">â¢</mo><mrow id="A1.p1.3.m1.1.2.3.2" xref="A1.p1.3.m1.1.2.cmml"><mo id="A1.p1.3.m1.1.2.3.2.1" stretchy="false" xref="A1.p1.3.m1.1.2.cmml">(</mo><mi id="A1.p1.3.m1.1.1" xref="A1.p1.3.m1.1.1.cmml">ğœ½</mi><mo id="A1.p1.3.m1.1.2.3.2.2" stretchy="false" xref="A1.p1.3.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.3.m1.1b"><apply id="A1.p1.3.m1.1.2.cmml" xref="A1.p1.3.m1.1.2"><times id="A1.p1.3.m1.1.2.1.cmml" xref="A1.p1.3.m1.1.2.1"></times><ci id="A1.p1.3.m1.1.2.2.cmml" xref="A1.p1.3.m1.1.2.2">ğ‘“</ci><ci id="A1.p1.3.m1.1.1.cmml" xref="A1.p1.3.m1.1.1">ğœ½</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.3.m1.1c">f(\bm{\theta})</annotation><annotation encoding="application/x-llamapun" id="A1.p1.3.m1.1d">italic_f ( bold_italic_Î¸ )</annotation></semantics></math> by applying the chain rule for derivatives:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A5.EGx1">
<tbody id="A1.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{I}_{f}(z_{m})" class="ltx_Math" display="inline" id="A1.Ex1.m1.1"><semantics id="A1.Ex1.m1.1a"><mrow id="A1.Ex1.m1.1.1" xref="A1.Ex1.m1.1.1.cmml"><msub id="A1.Ex1.m1.1.1.3" xref="A1.Ex1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex1.m1.1.1.3.2" xref="A1.Ex1.m1.1.1.3.2.cmml">â„</mi><mi id="A1.Ex1.m1.1.1.3.3" xref="A1.Ex1.m1.1.1.3.3.cmml">f</mi></msub><mo id="A1.Ex1.m1.1.1.2" xref="A1.Ex1.m1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex1.m1.1.1.1.1" xref="A1.Ex1.m1.1.1.1.1.1.cmml"><mo id="A1.Ex1.m1.1.1.1.1.2" stretchy="false" xref="A1.Ex1.m1.1.1.1.1.1.cmml">(</mo><msub id="A1.Ex1.m1.1.1.1.1.1" xref="A1.Ex1.m1.1.1.1.1.1.cmml"><mi id="A1.Ex1.m1.1.1.1.1.1.2" xref="A1.Ex1.m1.1.1.1.1.1.2.cmml">z</mi><mi id="A1.Ex1.m1.1.1.1.1.1.3" xref="A1.Ex1.m1.1.1.1.1.1.3.cmml">m</mi></msub><mo id="A1.Ex1.m1.1.1.1.1.3" stretchy="false" xref="A1.Ex1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex1.m1.1b"><apply id="A1.Ex1.m1.1.1.cmml" xref="A1.Ex1.m1.1.1"><times id="A1.Ex1.m1.1.1.2.cmml" xref="A1.Ex1.m1.1.1.2"></times><apply id="A1.Ex1.m1.1.1.3.cmml" xref="A1.Ex1.m1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex1.m1.1.1.3.1.cmml" xref="A1.Ex1.m1.1.1.3">subscript</csymbol><ci id="A1.Ex1.m1.1.1.3.2.cmml" xref="A1.Ex1.m1.1.1.3.2">â„</ci><ci id="A1.Ex1.m1.1.1.3.3.cmml" xref="A1.Ex1.m1.1.1.3.3">ğ‘“</ci></apply><apply id="A1.Ex1.m1.1.1.1.1.1.cmml" xref="A1.Ex1.m1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex1.m1.1.1.1.1.1.1.cmml" xref="A1.Ex1.m1.1.1.1.1">subscript</csymbol><ci id="A1.Ex1.m1.1.1.1.1.1.2.cmml" xref="A1.Ex1.m1.1.1.1.1.1.2">ğ‘§</ci><ci id="A1.Ex1.m1.1.1.1.1.1.3.cmml" xref="A1.Ex1.m1.1.1.1.1.1.3">ğ‘š</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex1.m1.1c">\displaystyle\mathcal{I}_{f}(z_{m})</annotation><annotation encoding="application/x-llamapun" id="A1.Ex1.m1.1d">caligraphic_I start_POSTSUBSCRIPT italic_f end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\left.\frac{df(\bm{\theta})}{d\epsilon}\right|_{\epsilon=0}" class="ltx_Math" display="inline" id="A1.Ex1.m2.2"><semantics id="A1.Ex1.m2.2a"><mrow id="A1.Ex1.m2.2.3" xref="A1.Ex1.m2.2.3.cmml"><mi id="A1.Ex1.m2.2.3.2" xref="A1.Ex1.m2.2.3.2.cmml"></mi><mo id="A1.Ex1.m2.2.3.1" xref="A1.Ex1.m2.2.3.1.cmml">=</mo><msub id="A1.Ex1.m2.2.3.3.2" xref="A1.Ex1.m2.2.3.3.1.cmml"><mrow id="A1.Ex1.m2.2.3.3.2.2" xref="A1.Ex1.m2.2.3.3.1.cmml"><mstyle displaystyle="true" id="A1.Ex1.m2.1.1" xref="A1.Ex1.m2.1.1.cmml"><mfrac id="A1.Ex1.m2.1.1a" xref="A1.Ex1.m2.1.1.cmml"><mrow id="A1.Ex1.m2.1.1.1" xref="A1.Ex1.m2.1.1.1.cmml"><mi id="A1.Ex1.m2.1.1.1.3" xref="A1.Ex1.m2.1.1.1.3.cmml">d</mi><mo id="A1.Ex1.m2.1.1.1.2" xref="A1.Ex1.m2.1.1.1.2.cmml">â¢</mo><mi id="A1.Ex1.m2.1.1.1.4" xref="A1.Ex1.m2.1.1.1.4.cmml">f</mi><mo id="A1.Ex1.m2.1.1.1.2a" xref="A1.Ex1.m2.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex1.m2.1.1.1.5.2" xref="A1.Ex1.m2.1.1.1.cmml"><mo id="A1.Ex1.m2.1.1.1.5.2.1" stretchy="false" xref="A1.Ex1.m2.1.1.1.cmml">(</mo><mi id="A1.Ex1.m2.1.1.1.1" xref="A1.Ex1.m2.1.1.1.1.cmml">ğœ½</mi><mo id="A1.Ex1.m2.1.1.1.5.2.2" stretchy="false" xref="A1.Ex1.m2.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex1.m2.1.1.3" xref="A1.Ex1.m2.1.1.3.cmml"><mi id="A1.Ex1.m2.1.1.3.2" xref="A1.Ex1.m2.1.1.3.2.cmml">d</mi><mo id="A1.Ex1.m2.1.1.3.1" xref="A1.Ex1.m2.1.1.3.1.cmml">â¢</mo><mi id="A1.Ex1.m2.1.1.3.3" xref="A1.Ex1.m2.1.1.3.3.cmml">Ïµ</mi></mrow></mfrac></mstyle><mo id="A1.Ex1.m2.2.3.3.2.2.1" xref="A1.Ex1.m2.2.3.3.1.1.cmml">|</mo></mrow><mrow id="A1.Ex1.m2.2.2.1" xref="A1.Ex1.m2.2.2.1.cmml"><mi id="A1.Ex1.m2.2.2.1.2" xref="A1.Ex1.m2.2.2.1.2.cmml">Ïµ</mi><mo id="A1.Ex1.m2.2.2.1.1" xref="A1.Ex1.m2.2.2.1.1.cmml">=</mo><mn id="A1.Ex1.m2.2.2.1.3" xref="A1.Ex1.m2.2.2.1.3.cmml">0</mn></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex1.m2.2b"><apply id="A1.Ex1.m2.2.3.cmml" xref="A1.Ex1.m2.2.3"><eq id="A1.Ex1.m2.2.3.1.cmml" xref="A1.Ex1.m2.2.3.1"></eq><csymbol cd="latexml" id="A1.Ex1.m2.2.3.2.cmml" xref="A1.Ex1.m2.2.3.2">absent</csymbol><apply id="A1.Ex1.m2.2.3.3.1.cmml" xref="A1.Ex1.m2.2.3.3.2"><csymbol cd="latexml" id="A1.Ex1.m2.2.3.3.1.1.cmml" xref="A1.Ex1.m2.2.3.3.2.2.1">evaluated-at</csymbol><apply id="A1.Ex1.m2.1.1.cmml" xref="A1.Ex1.m2.1.1"><divide id="A1.Ex1.m2.1.1.2.cmml" xref="A1.Ex1.m2.1.1"></divide><apply id="A1.Ex1.m2.1.1.1.cmml" xref="A1.Ex1.m2.1.1.1"><times id="A1.Ex1.m2.1.1.1.2.cmml" xref="A1.Ex1.m2.1.1.1.2"></times><ci id="A1.Ex1.m2.1.1.1.3.cmml" xref="A1.Ex1.m2.1.1.1.3">ğ‘‘</ci><ci id="A1.Ex1.m2.1.1.1.4.cmml" xref="A1.Ex1.m2.1.1.1.4">ğ‘“</ci><ci id="A1.Ex1.m2.1.1.1.1.cmml" xref="A1.Ex1.m2.1.1.1.1">ğœ½</ci></apply><apply id="A1.Ex1.m2.1.1.3.cmml" xref="A1.Ex1.m2.1.1.3"><times id="A1.Ex1.m2.1.1.3.1.cmml" xref="A1.Ex1.m2.1.1.3.1"></times><ci id="A1.Ex1.m2.1.1.3.2.cmml" xref="A1.Ex1.m2.1.1.3.2">ğ‘‘</ci><ci id="A1.Ex1.m2.1.1.3.3.cmml" xref="A1.Ex1.m2.1.1.3.3">italic-Ïµ</ci></apply></apply><apply id="A1.Ex1.m2.2.2.1.cmml" xref="A1.Ex1.m2.2.2.1"><eq id="A1.Ex1.m2.2.2.1.1.cmml" xref="A1.Ex1.m2.2.2.1.1"></eq><ci id="A1.Ex1.m2.2.2.1.2.cmml" xref="A1.Ex1.m2.2.2.1.2">italic-Ïµ</ci><cn id="A1.Ex1.m2.2.2.1.3.cmml" type="integer" xref="A1.Ex1.m2.2.2.1.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex1.m2.2c">\displaystyle=\left.\frac{df(\bm{\theta})}{d\epsilon}\right|_{\epsilon=0}</annotation><annotation encoding="application/x-llamapun" id="A1.Ex1.m2.2d">= divide start_ARG italic_d italic_f ( bold_italic_Î¸ ) end_ARG start_ARG italic_d italic_Ïµ end_ARG | start_POSTSUBSCRIPT italic_Ïµ = 0 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.E10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\nabla_{\bm{\theta}}f(\bm{\theta})^{T}\left.\frac{d\bm{\theta}}{%
d\epsilon}\right|_{\epsilon=0}" class="ltx_Math" display="inline" id="A1.E10.m1.3"><semantics id="A1.E10.m1.3a"><mrow id="A1.E10.m1.3.3" xref="A1.E10.m1.3.3.cmml"><mi id="A1.E10.m1.3.3.3" xref="A1.E10.m1.3.3.3.cmml"></mi><mo id="A1.E10.m1.3.3.2" xref="A1.E10.m1.3.3.2.cmml">=</mo><msub id="A1.E10.m1.3.3.1.1" xref="A1.E10.m1.3.3.1.2.cmml"><mrow id="A1.E10.m1.3.3.1.1.1" xref="A1.E10.m1.3.3.1.2.cmml"><mrow id="A1.E10.m1.3.3.1.1.1.1" xref="A1.E10.m1.3.3.1.1.1.1.cmml"><mrow id="A1.E10.m1.3.3.1.1.1.1.2" xref="A1.E10.m1.3.3.1.1.1.1.2.cmml"><msub id="A1.E10.m1.3.3.1.1.1.1.2.1" xref="A1.E10.m1.3.3.1.1.1.1.2.1.cmml"><mo id="A1.E10.m1.3.3.1.1.1.1.2.1.2" rspace="0.167em" xref="A1.E10.m1.3.3.1.1.1.1.2.1.2.cmml">âˆ‡</mo><mi id="A1.E10.m1.3.3.1.1.1.1.2.1.3" xref="A1.E10.m1.3.3.1.1.1.1.2.1.3.cmml">ğœ½</mi></msub><mi id="A1.E10.m1.3.3.1.1.1.1.2.2" xref="A1.E10.m1.3.3.1.1.1.1.2.2.cmml">f</mi></mrow><mo id="A1.E10.m1.3.3.1.1.1.1.1" xref="A1.E10.m1.3.3.1.1.1.1.1.cmml">â¢</mo><msup id="A1.E10.m1.3.3.1.1.1.1.3" xref="A1.E10.m1.3.3.1.1.1.1.3.cmml"><mrow id="A1.E10.m1.3.3.1.1.1.1.3.2.2" xref="A1.E10.m1.3.3.1.1.1.1.3.cmml"><mo id="A1.E10.m1.3.3.1.1.1.1.3.2.2.1" stretchy="false" xref="A1.E10.m1.3.3.1.1.1.1.3.cmml">(</mo><mi id="A1.E10.m1.1.1" xref="A1.E10.m1.1.1.cmml">ğœ½</mi><mo id="A1.E10.m1.3.3.1.1.1.1.3.2.2.2" stretchy="false" xref="A1.E10.m1.3.3.1.1.1.1.3.cmml">)</mo></mrow><mi id="A1.E10.m1.3.3.1.1.1.1.3.3" xref="A1.E10.m1.3.3.1.1.1.1.3.3.cmml">T</mi></msup><mo id="A1.E10.m1.3.3.1.1.1.1.1a" xref="A1.E10.m1.3.3.1.1.1.1.1.cmml">â¢</mo><mstyle displaystyle="true" id="A1.E10.m1.3.3.1.1.1.1.4" xref="A1.E10.m1.3.3.1.1.1.1.4.cmml"><mfrac id="A1.E10.m1.3.3.1.1.1.1.4a" xref="A1.E10.m1.3.3.1.1.1.1.4.cmml"><mrow id="A1.E10.m1.3.3.1.1.1.1.4.2" xref="A1.E10.m1.3.3.1.1.1.1.4.2.cmml"><mi id="A1.E10.m1.3.3.1.1.1.1.4.2.2" xref="A1.E10.m1.3.3.1.1.1.1.4.2.2.cmml">d</mi><mo id="A1.E10.m1.3.3.1.1.1.1.4.2.1" xref="A1.E10.m1.3.3.1.1.1.1.4.2.1.cmml">â¢</mo><mi id="A1.E10.m1.3.3.1.1.1.1.4.2.3" xref="A1.E10.m1.3.3.1.1.1.1.4.2.3.cmml">ğœ½</mi></mrow><mrow id="A1.E10.m1.3.3.1.1.1.1.4.3" xref="A1.E10.m1.3.3.1.1.1.1.4.3.cmml"><mi id="A1.E10.m1.3.3.1.1.1.1.4.3.2" xref="A1.E10.m1.3.3.1.1.1.1.4.3.2.cmml">d</mi><mo id="A1.E10.m1.3.3.1.1.1.1.4.3.1" xref="A1.E10.m1.3.3.1.1.1.1.4.3.1.cmml">â¢</mo><mi id="A1.E10.m1.3.3.1.1.1.1.4.3.3" xref="A1.E10.m1.3.3.1.1.1.1.4.3.3.cmml">Ïµ</mi></mrow></mfrac></mstyle></mrow><mo id="A1.E10.m1.3.3.1.1.1.2" xref="A1.E10.m1.3.3.1.2.1.cmml">|</mo></mrow><mrow id="A1.E10.m1.2.2.1" xref="A1.E10.m1.2.2.1.cmml"><mi id="A1.E10.m1.2.2.1.2" xref="A1.E10.m1.2.2.1.2.cmml">Ïµ</mi><mo id="A1.E10.m1.2.2.1.1" xref="A1.E10.m1.2.2.1.1.cmml">=</mo><mn id="A1.E10.m1.2.2.1.3" xref="A1.E10.m1.2.2.1.3.cmml">0</mn></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.E10.m1.3b"><apply id="A1.E10.m1.3.3.cmml" xref="A1.E10.m1.3.3"><eq id="A1.E10.m1.3.3.2.cmml" xref="A1.E10.m1.3.3.2"></eq><csymbol cd="latexml" id="A1.E10.m1.3.3.3.cmml" xref="A1.E10.m1.3.3.3">absent</csymbol><apply id="A1.E10.m1.3.3.1.2.cmml" xref="A1.E10.m1.3.3.1.1"><csymbol cd="latexml" id="A1.E10.m1.3.3.1.2.1.cmml" xref="A1.E10.m1.3.3.1.1.1.2">evaluated-at</csymbol><apply id="A1.E10.m1.3.3.1.1.1.1.cmml" xref="A1.E10.m1.3.3.1.1.1.1"><times id="A1.E10.m1.3.3.1.1.1.1.1.cmml" xref="A1.E10.m1.3.3.1.1.1.1.1"></times><apply id="A1.E10.m1.3.3.1.1.1.1.2.cmml" xref="A1.E10.m1.3.3.1.1.1.1.2"><apply id="A1.E10.m1.3.3.1.1.1.1.2.1.cmml" xref="A1.E10.m1.3.3.1.1.1.1.2.1"><csymbol cd="ambiguous" id="A1.E10.m1.3.3.1.1.1.1.2.1.1.cmml" xref="A1.E10.m1.3.3.1.1.1.1.2.1">subscript</csymbol><ci id="A1.E10.m1.3.3.1.1.1.1.2.1.2.cmml" xref="A1.E10.m1.3.3.1.1.1.1.2.1.2">âˆ‡</ci><ci id="A1.E10.m1.3.3.1.1.1.1.2.1.3.cmml" xref="A1.E10.m1.3.3.1.1.1.1.2.1.3">ğœ½</ci></apply><ci id="A1.E10.m1.3.3.1.1.1.1.2.2.cmml" xref="A1.E10.m1.3.3.1.1.1.1.2.2">ğ‘“</ci></apply><apply id="A1.E10.m1.3.3.1.1.1.1.3.cmml" xref="A1.E10.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.E10.m1.3.3.1.1.1.1.3.1.cmml" xref="A1.E10.m1.3.3.1.1.1.1.3">superscript</csymbol><ci id="A1.E10.m1.1.1.cmml" xref="A1.E10.m1.1.1">ğœ½</ci><ci id="A1.E10.m1.3.3.1.1.1.1.3.3.cmml" xref="A1.E10.m1.3.3.1.1.1.1.3.3">ğ‘‡</ci></apply><apply id="A1.E10.m1.3.3.1.1.1.1.4.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4"><divide id="A1.E10.m1.3.3.1.1.1.1.4.1.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4"></divide><apply id="A1.E10.m1.3.3.1.1.1.1.4.2.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4.2"><times id="A1.E10.m1.3.3.1.1.1.1.4.2.1.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4.2.1"></times><ci id="A1.E10.m1.3.3.1.1.1.1.4.2.2.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4.2.2">ğ‘‘</ci><ci id="A1.E10.m1.3.3.1.1.1.1.4.2.3.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4.2.3">ğœ½</ci></apply><apply id="A1.E10.m1.3.3.1.1.1.1.4.3.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4.3"><times id="A1.E10.m1.3.3.1.1.1.1.4.3.1.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4.3.1"></times><ci id="A1.E10.m1.3.3.1.1.1.1.4.3.2.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4.3.2">ğ‘‘</ci><ci id="A1.E10.m1.3.3.1.1.1.1.4.3.3.cmml" xref="A1.E10.m1.3.3.1.1.1.1.4.3.3">italic-Ïµ</ci></apply></apply></apply><apply id="A1.E10.m1.2.2.1.cmml" xref="A1.E10.m1.2.2.1"><eq id="A1.E10.m1.2.2.1.1.cmml" xref="A1.E10.m1.2.2.1.1"></eq><ci id="A1.E10.m1.2.2.1.2.cmml" xref="A1.E10.m1.2.2.1.2">italic-Ïµ</ci><cn id="A1.E10.m1.2.2.1.3.cmml" type="integer" xref="A1.E10.m1.2.2.1.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E10.m1.3c">\displaystyle=\nabla_{\bm{\theta}}f(\bm{\theta})^{T}\left.\frac{d\bm{\theta}}{%
d\epsilon}\right|_{\epsilon=0}</annotation><annotation encoding="application/x-llamapun" id="A1.E10.m1.3d">= âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT italic_f ( bold_italic_Î¸ ) start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT divide start_ARG italic_d bold_italic_Î¸ end_ARG start_ARG italic_d italic_Ïµ end_ARG | start_POSTSUBSCRIPT italic_Ïµ = 0 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
<tbody id="A1.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=-\nabla_{\bm{\theta}}f(\bm{\theta})^{T}\mathbf{H}^{-1}\nabla_{%
\bm{\theta}}\mathcal{L}\bigl{(}z_{m},\bm{\theta}\bigr{)}." class="ltx_Math" display="inline" id="A1.Ex2.m1.3"><semantics id="A1.Ex2.m1.3a"><mrow id="A1.Ex2.m1.3.3.1" xref="A1.Ex2.m1.3.3.1.1.cmml"><mrow id="A1.Ex2.m1.3.3.1.1" xref="A1.Ex2.m1.3.3.1.1.cmml"><mi id="A1.Ex2.m1.3.3.1.1.3" xref="A1.Ex2.m1.3.3.1.1.3.cmml"></mi><mo id="A1.Ex2.m1.3.3.1.1.2" xref="A1.Ex2.m1.3.3.1.1.2.cmml">=</mo><mrow id="A1.Ex2.m1.3.3.1.1.1" xref="A1.Ex2.m1.3.3.1.1.1.cmml"><mo id="A1.Ex2.m1.3.3.1.1.1a" rspace="0.167em" xref="A1.Ex2.m1.3.3.1.1.1.cmml">âˆ’</mo><mrow id="A1.Ex2.m1.3.3.1.1.1.1" xref="A1.Ex2.m1.3.3.1.1.1.1.cmml"><mrow id="A1.Ex2.m1.3.3.1.1.1.1.3" xref="A1.Ex2.m1.3.3.1.1.1.1.3.cmml"><msub id="A1.Ex2.m1.3.3.1.1.1.1.3.1" xref="A1.Ex2.m1.3.3.1.1.1.1.3.1.cmml"><mo id="A1.Ex2.m1.3.3.1.1.1.1.3.1.2" rspace="0.167em" xref="A1.Ex2.m1.3.3.1.1.1.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex2.m1.3.3.1.1.1.1.3.1.3" xref="A1.Ex2.m1.3.3.1.1.1.1.3.1.3.cmml">ğœ½</mi></msub><mi id="A1.Ex2.m1.3.3.1.1.1.1.3.2" xref="A1.Ex2.m1.3.3.1.1.1.1.3.2.cmml">f</mi></mrow><mo id="A1.Ex2.m1.3.3.1.1.1.1.2" xref="A1.Ex2.m1.3.3.1.1.1.1.2.cmml">â¢</mo><msup id="A1.Ex2.m1.3.3.1.1.1.1.4" xref="A1.Ex2.m1.3.3.1.1.1.1.4.cmml"><mrow id="A1.Ex2.m1.3.3.1.1.1.1.4.2.2" xref="A1.Ex2.m1.3.3.1.1.1.1.4.cmml"><mo id="A1.Ex2.m1.3.3.1.1.1.1.4.2.2.1" stretchy="false" xref="A1.Ex2.m1.3.3.1.1.1.1.4.cmml">(</mo><mi id="A1.Ex2.m1.1.1" xref="A1.Ex2.m1.1.1.cmml">ğœ½</mi><mo id="A1.Ex2.m1.3.3.1.1.1.1.4.2.2.2" stretchy="false" xref="A1.Ex2.m1.3.3.1.1.1.1.4.cmml">)</mo></mrow><mi id="A1.Ex2.m1.3.3.1.1.1.1.4.3" xref="A1.Ex2.m1.3.3.1.1.1.1.4.3.cmml">T</mi></msup><mo id="A1.Ex2.m1.3.3.1.1.1.1.2a" xref="A1.Ex2.m1.3.3.1.1.1.1.2.cmml">â¢</mo><msup id="A1.Ex2.m1.3.3.1.1.1.1.5" xref="A1.Ex2.m1.3.3.1.1.1.1.5.cmml"><mi id="A1.Ex2.m1.3.3.1.1.1.1.5.2" xref="A1.Ex2.m1.3.3.1.1.1.1.5.2.cmml">ğ‡</mi><mrow id="A1.Ex2.m1.3.3.1.1.1.1.5.3" xref="A1.Ex2.m1.3.3.1.1.1.1.5.3.cmml"><mo id="A1.Ex2.m1.3.3.1.1.1.1.5.3a" xref="A1.Ex2.m1.3.3.1.1.1.1.5.3.cmml">âˆ’</mo><mn id="A1.Ex2.m1.3.3.1.1.1.1.5.3.2" xref="A1.Ex2.m1.3.3.1.1.1.1.5.3.2.cmml">1</mn></mrow></msup><mo id="A1.Ex2.m1.3.3.1.1.1.1.2b" lspace="0.167em" xref="A1.Ex2.m1.3.3.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex2.m1.3.3.1.1.1.1.6" xref="A1.Ex2.m1.3.3.1.1.1.1.6.cmml"><msub id="A1.Ex2.m1.3.3.1.1.1.1.6.1" xref="A1.Ex2.m1.3.3.1.1.1.1.6.1.cmml"><mo id="A1.Ex2.m1.3.3.1.1.1.1.6.1.2" rspace="0.167em" xref="A1.Ex2.m1.3.3.1.1.1.1.6.1.2.cmml">âˆ‡</mo><mi id="A1.Ex2.m1.3.3.1.1.1.1.6.1.3" xref="A1.Ex2.m1.3.3.1.1.1.1.6.1.3.cmml">ğœ½</mi></msub><mi class="ltx_font_mathcaligraphic" id="A1.Ex2.m1.3.3.1.1.1.1.6.2" xref="A1.Ex2.m1.3.3.1.1.1.1.6.2.cmml">â„’</mi></mrow><mo id="A1.Ex2.m1.3.3.1.1.1.1.2c" xref="A1.Ex2.m1.3.3.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex2.m1.3.3.1.1.1.1.1.1" xref="A1.Ex2.m1.3.3.1.1.1.1.1.2.cmml"><mo id="A1.Ex2.m1.3.3.1.1.1.1.1.1.2" maxsize="120%" minsize="120%" xref="A1.Ex2.m1.3.3.1.1.1.1.1.2.cmml">(</mo><msub id="A1.Ex2.m1.3.3.1.1.1.1.1.1.1" xref="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.2" xref="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.3" xref="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.3.cmml">m</mi></msub><mo id="A1.Ex2.m1.3.3.1.1.1.1.1.1.3" xref="A1.Ex2.m1.3.3.1.1.1.1.1.2.cmml">,</mo><mi id="A1.Ex2.m1.2.2" xref="A1.Ex2.m1.2.2.cmml">ğœ½</mi><mo id="A1.Ex2.m1.3.3.1.1.1.1.1.1.4" maxsize="120%" minsize="120%" xref="A1.Ex2.m1.3.3.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A1.Ex2.m1.3.3.1.2" lspace="0em" xref="A1.Ex2.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex2.m1.3b"><apply id="A1.Ex2.m1.3.3.1.1.cmml" xref="A1.Ex2.m1.3.3.1"><eq id="A1.Ex2.m1.3.3.1.1.2.cmml" xref="A1.Ex2.m1.3.3.1.1.2"></eq><csymbol cd="latexml" id="A1.Ex2.m1.3.3.1.1.3.cmml" xref="A1.Ex2.m1.3.3.1.1.3">absent</csymbol><apply id="A1.Ex2.m1.3.3.1.1.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1"><minus id="A1.Ex2.m1.3.3.1.1.1.2.cmml" xref="A1.Ex2.m1.3.3.1.1.1"></minus><apply id="A1.Ex2.m1.3.3.1.1.1.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1"><times id="A1.Ex2.m1.3.3.1.1.1.1.2.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.2"></times><apply id="A1.Ex2.m1.3.3.1.1.1.1.3.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.3"><apply id="A1.Ex2.m1.3.3.1.1.1.1.3.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.3.1"><csymbol cd="ambiguous" id="A1.Ex2.m1.3.3.1.1.1.1.3.1.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.3.1">subscript</csymbol><ci id="A1.Ex2.m1.3.3.1.1.1.1.3.1.2.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.3.1.2">âˆ‡</ci><ci id="A1.Ex2.m1.3.3.1.1.1.1.3.1.3.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.3.1.3">ğœ½</ci></apply><ci id="A1.Ex2.m1.3.3.1.1.1.1.3.2.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.3.2">ğ‘“</ci></apply><apply id="A1.Ex2.m1.3.3.1.1.1.1.4.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.4"><csymbol cd="ambiguous" id="A1.Ex2.m1.3.3.1.1.1.1.4.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.4">superscript</csymbol><ci id="A1.Ex2.m1.1.1.cmml" xref="A1.Ex2.m1.1.1">ğœ½</ci><ci id="A1.Ex2.m1.3.3.1.1.1.1.4.3.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.4.3">ğ‘‡</ci></apply><apply id="A1.Ex2.m1.3.3.1.1.1.1.5.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.5"><csymbol cd="ambiguous" id="A1.Ex2.m1.3.3.1.1.1.1.5.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.5">superscript</csymbol><ci id="A1.Ex2.m1.3.3.1.1.1.1.5.2.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.5.2">ğ‡</ci><apply id="A1.Ex2.m1.3.3.1.1.1.1.5.3.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.5.3"><minus id="A1.Ex2.m1.3.3.1.1.1.1.5.3.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.5.3"></minus><cn id="A1.Ex2.m1.3.3.1.1.1.1.5.3.2.cmml" type="integer" xref="A1.Ex2.m1.3.3.1.1.1.1.5.3.2">1</cn></apply></apply><apply id="A1.Ex2.m1.3.3.1.1.1.1.6.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.6"><apply id="A1.Ex2.m1.3.3.1.1.1.1.6.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.6.1"><csymbol cd="ambiguous" id="A1.Ex2.m1.3.3.1.1.1.1.6.1.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.6.1">subscript</csymbol><ci id="A1.Ex2.m1.3.3.1.1.1.1.6.1.2.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.6.1.2">âˆ‡</ci><ci id="A1.Ex2.m1.3.3.1.1.1.1.6.1.3.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.6.1.3">ğœ½</ci></apply><ci id="A1.Ex2.m1.3.3.1.1.1.1.6.2.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.6.2">â„’</ci></apply><interval closure="open" id="A1.Ex2.m1.3.3.1.1.1.1.1.2.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.1.1"><apply id="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.2">ğ‘§</ci><ci id="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex2.m1.3.3.1.1.1.1.1.1.1.3">ğ‘š</ci></apply><ci id="A1.Ex2.m1.2.2.cmml" xref="A1.Ex2.m1.2.2">ğœ½</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex2.m1.3c">\displaystyle=-\nabla_{\bm{\theta}}f(\bm{\theta})^{T}\mathbf{H}^{-1}\nabla_{%
\bm{\theta}}\mathcal{L}\bigl{(}z_{m},\bm{\theta}\bigr{)}.</annotation><annotation encoding="application/x-llamapun" id="A1.Ex2.m1.3d">= - âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT italic_f ( bold_italic_Î¸ ) start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT bold_H start_POSTSUPERSCRIPT - 1 end_POSTSUPERSCRIPT âˆ‡ start_POSTSUBSCRIPT bold_italic_Î¸ end_POSTSUBSCRIPT caligraphic_L ( italic_z start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , bold_italic_Î¸ ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Cross Domain Influence Analysis in Long CoT Scenarios</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">In this section, we provide additional instance-level attribution experiment on long CoT reasoning scenarios. We fine-tune Qwen2.5-7B-Instruct on Bespoke-Stratos-17K reasoning dataset. As shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A2.F8" title="Figure 8 â€£ Appendix B Cross Domain Influence Analysis in Long CoT Scenarios â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">8</span></a>(a), the most influential samples for improving math performance predominantly from the math domain, but the samples from code domain are also significant.
In FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A2.F8" title="Figure 8 â€£ Appendix B Cross Domain Influence Analysis in Long CoT Scenarios â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">8</span></a>(b), there is a similar pattern of cross-domain benefit. This is consistent with the conclusions we obtained in the experimental sectionÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#S4.SS2" title="4.2 Instance-level Attribution â€£ 4 Experiments â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">4.2</span></a>.</p>
</div>
<figure class="ltx_figure" id="A2.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="293" id="A2.F8.g1" src="x8.png" width="664"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Cross-domain influence analysis of Qwen2.5-7B-Instruct fine-tuned on Bespoke-Stratos-17k dataset for math and code reasoning performance.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Robustness on <math alttext="n" class="ltx_Math" display="inline" id="A3.1.m1.1"><semantics id="A3.1.m1.1b"><mi id="A3.1.m1.1.1" xref="A3.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A3.1.m1.1c"><ci id="A3.1.m1.1.1.cmml" xref="A3.1.m1.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.1.m1.1d">n</annotation><annotation encoding="application/x-llamapun" id="A3.1.m1.1e">italic_n</annotation></semantics></math>
</h2>
<figure class="ltx_table ltx_align_floatright" id="A3.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Pearson correlation coefficient of rankings on training data across different choices of <math alttext="n" class="ltx_Math" display="inline" id="A3.T3.2.m1.1"><semantics id="A3.T3.2.m1.1b"><mi id="A3.T3.2.m1.1.1" xref="A3.T3.2.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A3.T3.2.m1.1c"><ci id="A3.T3.2.m1.1.1.cmml" xref="A3.T3.2.m1.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T3.2.m1.1d">n</annotation><annotation encoding="application/x-llamapun" id="A3.T3.2.m1.1e">italic_n</annotation></semantics></math>, indicating stable influence estimation.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A3.T3.3">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A3.T3.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A3.T3.3.1.1"><math alttext="n\rightarrow" class="ltx_Math" display="inline" id="A3.T3.3.1.1.m1.1"><semantics id="A3.T3.3.1.1.m1.1a"><mrow id="A3.T3.3.1.1.m1.1.1" xref="A3.T3.3.1.1.m1.1.1.cmml"><mi id="A3.T3.3.1.1.m1.1.1.2" xref="A3.T3.3.1.1.m1.1.1.2.cmml">n</mi><mo id="A3.T3.3.1.1.m1.1.1.1" stretchy="false" xref="A3.T3.3.1.1.m1.1.1.1.cmml">â†’</mo><mi id="A3.T3.3.1.1.m1.1.1.3" xref="A3.T3.3.1.1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="A3.T3.3.1.1.m1.1b"><apply id="A3.T3.3.1.1.m1.1.1.cmml" xref="A3.T3.3.1.1.m1.1.1"><ci id="A3.T3.3.1.1.m1.1.1.1.cmml" xref="A3.T3.3.1.1.m1.1.1.1">â†’</ci><ci id="A3.T3.3.1.1.m1.1.1.2.cmml" xref="A3.T3.3.1.1.m1.1.1.2">ğ‘›</ci><csymbol cd="latexml" id="A3.T3.3.1.1.m1.1.1.3.cmml" xref="A3.T3.3.1.1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T3.3.1.1.m1.1c">n\rightarrow</annotation><annotation encoding="application/x-llamapun" id="A3.T3.3.1.1.m1.1d">italic_n â†’</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A3.T3.3.1.2"><span class="ltx_text ltx_font_bold" id="A3.T3.3.1.2.1">10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A3.T3.3.1.3"><span class="ltx_text ltx_font_bold" id="A3.T3.3.1.3.1">25</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A3.T3.3.1.4"><span class="ltx_text ltx_font_bold" id="A3.T3.3.1.4.1">50</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A3.T3.3.1.5"><span class="ltx_text ltx_font_bold" id="A3.T3.3.1.5.1">100</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A3.T3.3.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A3.T3.3.2.1.1">Math</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T3.3.2.1.2">0.52</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T3.3.2.1.3">0.60</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T3.3.2.1.4">0.70</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T3.3.2.1.5">1.0</td>
</tr>
<tr class="ltx_tr" id="A3.T3.3.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A3.T3.3.3.2.1">Code</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T3.3.3.2.2">0.51</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T3.3.3.2.3">0.62</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T3.3.3.2.4">0.60</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T3.3.3.2.5">1.0</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.4">In this section, we evaluate the robustness of the influence function estimates with respect to the size of the correct subset <math alttext="\mathcal{D}_{\text{correct}}" class="ltx_Math" display="inline" id="A3.p1.1.m1.1"><semantics id="A3.p1.1.m1.1a"><msub id="A3.p1.1.m1.1.1" xref="A3.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A3.p1.1.m1.1.1.2" xref="A3.p1.1.m1.1.1.2.cmml">ğ’Ÿ</mi><mtext id="A3.p1.1.m1.1.1.3" xref="A3.p1.1.m1.1.1.3a.cmml">correct</mtext></msub><annotation-xml encoding="MathML-Content" id="A3.p1.1.m1.1b"><apply id="A3.p1.1.m1.1.1.cmml" xref="A3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.p1.1.m1.1.1.1.cmml" xref="A3.p1.1.m1.1.1">subscript</csymbol><ci id="A3.p1.1.m1.1.1.2.cmml" xref="A3.p1.1.m1.1.1.2">ğ’Ÿ</ci><ci id="A3.p1.1.m1.1.1.3a.cmml" xref="A3.p1.1.m1.1.1.3"><mtext id="A3.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="A3.p1.1.m1.1.1.3">correct</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.1.m1.1c">\mathcal{D}_{\text{correct}}</annotation><annotation encoding="application/x-llamapun" id="A3.p1.1.m1.1d">caligraphic_D start_POSTSUBSCRIPT correct end_POSTSUBSCRIPT</annotation></semantics></math>. Specifically, we fine-tune the LLaMA3-8B-Base model on a mixed training corpus comprising MetaMathQA and OSS-Instruct, and compute influence scores on the math and code performance. We calculate the Pearson correlation between the rankings of training examples induced by influence scores using varying values of <math alttext="n" class="ltx_Math" display="inline" id="A3.p1.2.m2.1"><semantics id="A3.p1.2.m2.1a"><mi id="A3.p1.2.m2.1.1" xref="A3.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A3.p1.2.m2.1b"><ci id="A3.p1.2.m2.1.1.cmml" xref="A3.p1.2.m2.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="A3.p1.2.m2.1d">italic_n</annotation></semantics></math>, using <math alttext="n=100" class="ltx_Math" display="inline" id="A3.p1.3.m3.1"><semantics id="A3.p1.3.m3.1a"><mrow id="A3.p1.3.m3.1.1" xref="A3.p1.3.m3.1.1.cmml"><mi id="A3.p1.3.m3.1.1.2" xref="A3.p1.3.m3.1.1.2.cmml">n</mi><mo id="A3.p1.3.m3.1.1.1" xref="A3.p1.3.m3.1.1.1.cmml">=</mo><mn id="A3.p1.3.m3.1.1.3" xref="A3.p1.3.m3.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.p1.3.m3.1b"><apply id="A3.p1.3.m3.1.1.cmml" xref="A3.p1.3.m3.1.1"><eq id="A3.p1.3.m3.1.1.1.cmml" xref="A3.p1.3.m3.1.1.1"></eq><ci id="A3.p1.3.m3.1.1.2.cmml" xref="A3.p1.3.m3.1.1.2">ğ‘›</ci><cn id="A3.p1.3.m3.1.1.3.cmml" type="integer" xref="A3.p1.3.m3.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.3.m3.1c">n=100</annotation><annotation encoding="application/x-llamapun" id="A3.p1.3.m3.1d">italic_n = 100</annotation></semantics></math> as the reference. Results in TableÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A3.T3" title="Table 3 â€£ Appendix C Robustness on ğ‘› â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">3</span></a> shows the robustness of <math alttext="n" class="ltx_Math" display="inline" id="A3.p1.4.m4.1"><semantics id="A3.p1.4.m4.1a"><mi id="A3.p1.4.m4.1.1" xref="A3.p1.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A3.p1.4.m4.1b"><ci id="A3.p1.4.m4.1.1.cmml" xref="A3.p1.4.m4.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p1.4.m4.1c">n</annotation><annotation encoding="application/x-llamapun" id="A3.p1.4.m4.1d">italic_n</annotation></semantics></math> for influence scores estimation.</p>
</div>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Case of Truncating Exploration Behavior</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">To evaluate the impact of exploration behaviors in reasoning processes, we systematically truncate exploratory content from the BS-17K during SFT. Specifically, any post-correct-answer exploration (e.g., "Alternatively, maybe thereâ€™s a different way to approach the problem?") is removed to isolate the core problem-solving trajectory, as shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A4.F9" title="Figure 9 â€£ Appendix D Case of Truncating Exploration Behavior â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">9</span></a>.</p>
</div>
<figure class="ltx_figure" id="A4.F9"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="363" id="A4.F9.g1" src="x9.png" width="705"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>To assess whether the exploration behavior has a positive or negative impact, we use GPT-4o to truncate all exploration behaviors in the BS-17K dataset for SFT. If reasoning contains any searching for another approach after reaching correct answers, like "Alternatively, maybe thereâ€™s a different way to approach the problem?", the exploration content will be truncated.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Examples for Reasoning Behaviors Classifier</h2>
<div class="ltx_para" id="A5.p1">
<p class="ltx_p" id="A5.p1.1">The five cases below show the prompts of five behaviors on reasoning performance and the corresponding answers. As shown in FigureÂ <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A5.F10" title="Figure 10 â€£ Appendix E Examples for Reasoning Behaviors Classifier â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">10</span></a> and Â <a class="ltx_ref" href="https://arxiv.org/html/2505.19949v1#A5.F11" title="Figure 11 â€£ Appendix E Examples for Reasoning Behaviors Classifier â€£ Which Data Attributes Stimulate Math and Code Reasoning? An Investigation via Influence Functions"><span class="ltx_text ltx_ref_tag">11</span></a>, the prompts include task description, examples of each reasoning behavior, task format, etc..</p>
</div>
<figure class="ltx_figure" id="A5.F10"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="998" id="A5.F10.g1" src="x10.png" width="805"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span><span class="ltx_text ltx_font_italic" id="A5.F10.3.1">Left:</span> Exploration: When performing reasoning, seeking alternative approaches after reaching a correct answer. We capture this behavior and calculate the number of exploration steps by analyzing the content like "Another way to look at this isâ€¦" etc.. <span class="ltx_text ltx_font_italic" id="A5.F10.4.2">Right:</span> Verification: The behavior of reasoning from desired outcomes to initial inputs when performing reasoning. We capture and calculate the number of backward chaining instances by finding the content like "To solve this equation, letâ€™s start with what we want to prove" etc.. </figcaption>
</figure>
<figure class="ltx_figure" id="A5.F11"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="1029" id="A5.F11.g1" src="x11.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span><span class="ltx_text ltx_font_italic" id="A5.F11.3.1">Left:</span> Backtracking: The behavior of realizing a path wonâ€™t work and explicitly going back to try a different approach. We capture this behavior and calculate the number of backtracking steps by finding the content like "This approach leads to a contradiction. Going back to the original equationâ€¦"
etc.. <span class="ltx_text ltx_font_italic" id="A5.F11.4.2">Right:</span> Backward Chaining: The behavior of systematic error-checking when performing reasoning. We capture and calculate the number of backward chaining instances by finding the content like "To ensure this solution is valid, Iâ€™ll check if it satisfies all the given constraints." etc.. </figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon May 26 13:09:28 2025 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
